var UA=Object.defineProperty;var HA=(n,t,e)=>t in n?UA(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var ct=(n,t,e)=>HA(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();function yx(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hg={exports:{}},Yl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sb;function FA(){if(Sb)return Yl;Sb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return Yl.Fragment=t,Yl.jsx=e,Yl.jsxs=e,Yl}var Ab;function qA(){return Ab||(Ab=1,Hg.exports=FA()),Hg.exports}var j=qA(),Fg={exports:{}},wt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wb;function GA(){if(wb)return wt;wb=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),v=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=v&&L[v]||L["@@iterator"],typeof L=="function"?L:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,D={};function P(L,tt,lt){this.props=L,this.context=tt,this.refs=D,this.updater=lt||A}P.prototype.isReactComponent={},P.prototype.setState=function(L,tt){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,tt,"setState")},P.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function U(){}U.prototype=P.prototype;function X(L,tt,lt){this.props=L,this.context=tt,this.refs=D,this.updater=lt||A}var Z=X.prototype=new U;Z.constructor=X,C(Z,P.prototype),Z.isPureReactComponent=!0;var $=Array.isArray;function nt(){}var M={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function O(L,tt,lt){var ft=lt.ref;return{$$typeof:n,type:L,key:tt,ref:ft!==void 0?ft:null,props:lt}}function V(L,tt){return O(L.type,tt,L.props)}function I(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function z(L){var tt={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(lt){return tt[lt]})}var N=/\/+/g;function Nt(L,tt){return typeof L=="object"&&L!==null&&L.key!=null?z(""+L.key):tt.toString(36)}function ut(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(nt,nt):(L.status="pending",L.then(function(tt){L.status==="pending"&&(L.status="fulfilled",L.value=tt)},function(tt){L.status==="pending"&&(L.status="rejected",L.reason=tt)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function F(L,tt,lt,ft,xt){var Tt=typeof L;(Tt==="undefined"||Tt==="boolean")&&(L=null);var Ht=!1;if(L===null)Ht=!0;else switch(Tt){case"bigint":case"string":case"number":Ht=!0;break;case"object":switch(L.$$typeof){case n:case t:Ht=!0;break;case y:return Ht=L._init,F(Ht(L._payload),tt,lt,ft,xt)}}if(Ht)return xt=xt(L),Ht=ft===""?"."+Nt(L,0):ft,$(xt)?(lt="",Ht!=null&&(lt=Ht.replace(N,"$&/")+"/"),F(xt,tt,lt,"",function(Aa){return Aa})):xt!=null&&(I(xt)&&(xt=V(xt,lt+(xt.key==null||L&&L.key===xt.key?"":(""+xt.key).replace(N,"$&/")+"/")+Ht)),tt.push(xt)),1;Ht=0;var Ue=ft===""?".":ft+":";if($(L))for(var de=0;de<L.length;de++)ft=L[de],Tt=Ue+Nt(ft,de),Ht+=F(ft,tt,lt,Tt,xt);else if(de=T(L),typeof de=="function")for(L=de.call(L),de=0;!(ft=L.next()).done;)ft=ft.value,Tt=Ue+Nt(ft,de++),Ht+=F(ft,tt,lt,Tt,xt);else if(Tt==="object"){if(typeof L.then=="function")return F(ut(L),tt,lt,ft,xt);throw tt=String(L),Error("Objects are not valid as a React child (found: "+(tt==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":tt)+"). If you meant to render a collection of children, use an array instead.")}return Ht}function st(L,tt,lt){if(L==null)return L;var ft=[],xt=0;return F(L,ft,"","",function(Tt){return tt.call(lt,Tt,xt++)}),ft}function ht(L){if(L._status===-1){var tt=L._result;tt=tt(),tt.then(function(lt){(L._status===0||L._status===-1)&&(L._status=1,L._result=lt)},function(lt){(L._status===0||L._status===-1)&&(L._status=2,L._result=lt)}),L._status===-1&&(L._status=0,L._result=tt)}if(L._status===1)return L._result.default;throw L._result}var yt=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var tt=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(tt))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)},_t={map:st,forEach:function(L,tt,lt){st(L,function(){tt.apply(this,arguments)},lt)},count:function(L){var tt=0;return st(L,function(){tt++}),tt},toArray:function(L){return st(L,function(tt){return tt})||[]},only:function(L){if(!I(L))throw Error("React.Children.only expected to receive a single React element child.");return L}};return wt.Activity=_,wt.Children=_t,wt.Component=P,wt.Fragment=e,wt.Profiler=a,wt.PureComponent=X,wt.StrictMode=i,wt.Suspense=f,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,wt.__COMPILER_RUNTIME={__proto__:null,c:function(L){return M.H.useMemoCache(L)}},wt.cache=function(L){return function(){return L.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(L,tt,lt){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var ft=C({},L.props),xt=L.key;if(tt!=null)for(Tt in tt.key!==void 0&&(xt=""+tt.key),tt)!w.call(tt,Tt)||Tt==="key"||Tt==="__self"||Tt==="__source"||Tt==="ref"&&tt.ref===void 0||(ft[Tt]=tt[Tt]);var Tt=arguments.length-2;if(Tt===1)ft.children=lt;else if(1<Tt){for(var Ht=Array(Tt),Ue=0;Ue<Tt;Ue++)Ht[Ue]=arguments[Ue+2];ft.children=Ht}return O(L.type,xt,ft)},wt.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:o,_context:L},L},wt.createElement=function(L,tt,lt){var ft,xt={},Tt=null;if(tt!=null)for(ft in tt.key!==void 0&&(Tt=""+tt.key),tt)w.call(tt,ft)&&ft!=="key"&&ft!=="__self"&&ft!=="__source"&&(xt[ft]=tt[ft]);var Ht=arguments.length-2;if(Ht===1)xt.children=lt;else if(1<Ht){for(var Ue=Array(Ht),de=0;de<Ht;de++)Ue[de]=arguments[de+2];xt.children=Ue}if(L&&L.defaultProps)for(ft in Ht=L.defaultProps,Ht)xt[ft]===void 0&&(xt[ft]=Ht[ft]);return O(L,Tt,xt)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(L){return{$$typeof:h,render:L}},wt.isValidElement=I,wt.lazy=function(L){return{$$typeof:y,_payload:{_status:-1,_result:L},_init:ht}},wt.memo=function(L,tt){return{$$typeof:d,type:L,compare:tt===void 0?null:tt}},wt.startTransition=function(L){var tt=M.T,lt={};M.T=lt;try{var ft=L(),xt=M.S;xt!==null&&xt(lt,ft),typeof ft=="object"&&ft!==null&&typeof ft.then=="function"&&ft.then(nt,yt)}catch(Tt){yt(Tt)}finally{tt!==null&&lt.types!==null&&(tt.types=lt.types),M.T=tt}},wt.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},wt.use=function(L){return M.H.use(L)},wt.useActionState=function(L,tt,lt){return M.H.useActionState(L,tt,lt)},wt.useCallback=function(L,tt){return M.H.useCallback(L,tt)},wt.useContext=function(L){return M.H.useContext(L)},wt.useDebugValue=function(){},wt.useDeferredValue=function(L,tt){return M.H.useDeferredValue(L,tt)},wt.useEffect=function(L,tt){return M.H.useEffect(L,tt)},wt.useEffectEvent=function(L){return M.H.useEffectEvent(L)},wt.useId=function(){return M.H.useId()},wt.useImperativeHandle=function(L,tt,lt){return M.H.useImperativeHandle(L,tt,lt)},wt.useInsertionEffect=function(L,tt){return M.H.useInsertionEffect(L,tt)},wt.useLayoutEffect=function(L,tt){return M.H.useLayoutEffect(L,tt)},wt.useMemo=function(L,tt){return M.H.useMemo(L,tt)},wt.useOptimistic=function(L,tt){return M.H.useOptimistic(L,tt)},wt.useReducer=function(L,tt,lt){return M.H.useReducer(L,tt,lt)},wt.useRef=function(L){return M.H.useRef(L)},wt.useState=function(L){return M.H.useState(L)},wt.useSyncExternalStore=function(L,tt,lt){return M.H.useSyncExternalStore(L,tt,lt)},wt.useTransition=function(){return M.H.useTransition()},wt.version="19.2.3",wt}var Rb;function ip(){return Rb||(Rb=1,Fg.exports=GA()),Fg.exports}var Wt=ip();const YA=yx(Wt);var qg={exports:{}},Ql={},Gg={exports:{}},Yg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cb;function QA(){return Cb||(Cb=1,(function(n){function t(F,st){var ht=F.length;F.push(st);t:for(;0<ht;){var yt=ht-1>>>1,_t=F[yt];if(0<a(_t,st))F[yt]=st,F[ht]=_t,ht=yt;else break t}}function e(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var st=F[0],ht=F.pop();if(ht!==st){F[0]=ht;t:for(var yt=0,_t=F.length,L=_t>>>1;yt<L;){var tt=2*(yt+1)-1,lt=F[tt],ft=tt+1,xt=F[ft];if(0>a(lt,ht))ft<_t&&0>a(xt,lt)?(F[yt]=xt,F[ft]=ht,yt=ft):(F[yt]=lt,F[tt]=ht,yt=tt);else if(ft<_t&&0>a(xt,ht))F[yt]=xt,F[ft]=ht,yt=ft;else break t}}return st}function a(F,st){var ht=F.sortIndex-st.sortIndex;return ht!==0?ht:F.id-st.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],d=[],y=1,_=null,v=3,T=!1,A=!1,C=!1,D=!1,P=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Z(F){for(var st=e(d);st!==null;){if(st.callback===null)i(d);else if(st.startTime<=F)i(d),st.sortIndex=st.expirationTime,t(f,st);else break;st=e(d)}}function $(F){if(C=!1,Z(F),!A)if(e(f)!==null)A=!0,nt||(nt=!0,z());else{var st=e(d);st!==null&&ut($,st.startTime-F)}}var nt=!1,M=-1,w=5,O=-1;function V(){return D?!0:!(n.unstable_now()-O<w)}function I(){if(D=!1,nt){var F=n.unstable_now();O=F;var st=!0;try{t:{A=!1,C&&(C=!1,U(M),M=-1),T=!0;var ht=v;try{e:{for(Z(F),_=e(f);_!==null&&!(_.expirationTime>F&&V());){var yt=_.callback;if(typeof yt=="function"){_.callback=null,v=_.priorityLevel;var _t=yt(_.expirationTime<=F);if(F=n.unstable_now(),typeof _t=="function"){_.callback=_t,Z(F),st=!0;break e}_===e(f)&&i(f),Z(F)}else i(f);_=e(f)}if(_!==null)st=!0;else{var L=e(d);L!==null&&ut($,L.startTime-F),st=!1}}break t}finally{_=null,v=ht,T=!1}st=void 0}}finally{st?z():nt=!1}}}var z;if(typeof X=="function")z=function(){X(I)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,Nt=N.port2;N.port1.onmessage=I,z=function(){Nt.postMessage(null)}}else z=function(){P(I,0)};function ut(F,st){M=P(function(){F(n.unstable_now())},st)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_next=function(F){switch(v){case 1:case 2:case 3:var st=3;break;default:st=v}var ht=v;v=st;try{return F()}finally{v=ht}},n.unstable_requestPaint=function(){D=!0},n.unstable_runWithPriority=function(F,st){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=v;v=F;try{return st()}finally{v=ht}},n.unstable_scheduleCallback=function(F,st,ht){var yt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?yt+ht:yt):ht=yt,F){case 1:var _t=-1;break;case 2:_t=250;break;case 5:_t=1073741823;break;case 4:_t=1e4;break;default:_t=5e3}return _t=ht+_t,F={id:y++,callback:st,priorityLevel:F,startTime:ht,expirationTime:_t,sortIndex:-1},ht>yt?(F.sortIndex=ht,t(d,F),e(f)===null&&F===e(d)&&(C?(U(M),M=-1):C=!0,ut($,ht-yt))):(F.sortIndex=_t,t(f,F),A||T||(A=!0,nt||(nt=!0,z()))),F},n.unstable_shouldYield=V,n.unstable_wrapCallback=function(F){var st=v;return function(){var ht=v;v=st;try{return F.apply(this,arguments)}finally{v=ht}}}})(Yg)),Yg}var Mb;function XA(){return Mb||(Mb=1,Gg.exports=QA()),Gg.exports}var Qg={exports:{}},ln={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Db;function KA(){if(Db)return ln;Db=1;var n=ip();function t(f){var d="https://react.dev/errors/"+f;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)d+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,d,y){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:_==null?null:""+_,children:f,containerInfo:d,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,d){if(f==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ln.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,ln.createPortal=function(f,d){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(t(299));return o(f,d,null,y)},ln.flushSync=function(f){var d=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=d,i.p=y,i.d.f()}},ln.preconnect=function(f,d){typeof f=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,i.d.C(f,d))},ln.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},ln.preinit=function(f,d){if(typeof f=="string"&&d&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin),v=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;y==="style"?i.d.S(f,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:_,integrity:v,fetchPriority:T}):y==="script"&&i.d.X(f,{crossOrigin:_,integrity:v,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ln.preinitModule=function(f,d){if(typeof f=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var y=h(d.as,d.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&i.d.M(f)},ln.preload=function(f,d){if(typeof f=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var y=d.as,_=h(y,d.crossOrigin);i.d.L(f,y,{crossOrigin:_,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ln.preloadModule=function(f,d){if(typeof f=="string")if(d){var y=h(d.as,d.crossOrigin);i.d.m(f,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else i.d.m(f)},ln.requestFormReset=function(f){i.d.r(f)},ln.unstable_batchedUpdates=function(f,d){return f(d)},ln.useFormState=function(f,d,y){return c.H.useFormState(f,d,y)},ln.useFormStatus=function(){return c.H.useHostTransitionStatus()},ln.version="19.2.3",ln}var Ob;function WA(){if(Ob)return Qg.exports;Ob=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qg.exports=KA(),Qg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nb;function $A(){if(Nb)return Ql;Nb=1;var n=XA(),t=ip(),e=WA();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function d(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),s;if(p===u)return f(m),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var x=!1,S=m.child;S;){if(S===l){x=!0,l=m,u=p;break}if(S===u){x=!0,u=m,l=p;break}S=S.sibling}if(!x){for(S=p.child;S;){if(S===l){x=!0,l=p,u=m;break}if(S===u){x=!0,u=p,l=m;break}S=S.sibling}if(!x)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var _=Object.assign,v=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),D=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),U=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),nt=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function z(s){return s===null||typeof s!="object"?null:(s=I&&s[I]||s["@@iterator"],typeof s=="function"?s:null)}var N=Symbol.for("react.client.reference");function Nt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===N?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case P:return"Profiler";case D:return"StrictMode";case $:return"Suspense";case nt:return"SuspenseList";case O:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case X:return s.displayName||"Context";case U:return(s._context.displayName||"Context")+".Consumer";case Z:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return r=s.displayName||null,r!==null?r:Nt(s.type)||"Memo";case w:r=s._payload,s=s._init;try{return Nt(s(r))}catch{}}return null}var ut=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},yt=[],_t=-1;function L(s){return{current:s}}function tt(s){0>_t||(s.current=yt[_t],yt[_t]=null,_t--)}function lt(s,r){_t++,yt[_t]=s.current,s.current=r}var ft=L(null),xt=L(null),Tt=L(null),Ht=L(null);function Ue(s,r){switch(lt(Tt,r),lt(xt,s),lt(ft,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Q0(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Q0(r),s=X0(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}tt(ft),lt(ft,s)}function de(){tt(ft),tt(xt),tt(Tt)}function Aa(s){s.memoizedState!==null&&lt(Ht,s);var r=ft.current,l=X0(r,s.type);r!==l&&(lt(xt,s),lt(ft,l))}function Ar(s){xt.current===s&&(tt(ft),tt(xt)),Ht.current===s&&(tt(Ht),Hl._currentValue=ht)}var wr,Rr;function _i(s){if(wr===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);wr=r&&r[1]||"",Rr=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+wr+s+Rr}var Ho=!1;function wa(s,r){if(!s||Ho)return"";Ho=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var it=function(){throw Error()};if(Object.defineProperty(it.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(it,[])}catch(W){var Q=W}Reflect.construct(s,[],it)}else{try{it.call()}catch(W){Q=W}s.call(it.prototype)}}else{try{throw Error()}catch(W){Q=W}(it=s())&&typeof it.catch=="function"&&it.catch(function(){})}}catch(W){if(W&&Q&&typeof W.stack=="string")return[W.stack,Q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),x=p[0],S=p[1];if(x&&S){var k=x.split(`
`),Y=S.split(`
`);for(m=u=0;u<k.length&&!k[u].includes("DetermineComponentFrameRoot");)u++;for(;m<Y.length&&!Y[m].includes("DetermineComponentFrameRoot");)m++;if(u===k.length||m===Y.length)for(u=k.length-1,m=Y.length-1;1<=u&&0<=m&&k[u]!==Y[m];)m--;for(;1<=u&&0<=m;u--,m--)if(k[u]!==Y[m]){if(u!==1||m!==1)do if(u--,m--,0>m||k[u]!==Y[m]){var J=`
`+k[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=m);break}}}finally{Ho=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?_i(l):""}function Fo(s,r){switch(s.tag){case 26:case 27:case 5:return _i(s.type);case 16:return _i("Lazy");case 13:return s.child!==r&&r!==null?_i("Suspense Fallback"):_i("Suspense");case 19:return _i("SuspenseList");case 0:case 15:return wa(s.type,!1);case 11:return wa(s.type.render,!1);case 1:return wa(s.type,!0);case 31:return _i("Activity");default:return""}}function qo(s){try{var r="",l=null;do r+=Fo(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Me=Object.prototype.hasOwnProperty,He=n.unstable_scheduleCallback,ws=n.unstable_cancelCallback,qf=n.unstable_shouldYield,qc=n.unstable_requestPaint,pn=n.unstable_now,Ra=n.unstable_getCurrentPriorityLevel,Go=n.unstable_ImmediatePriority,Yo=n.unstable_UserBlockingPriority,Rs=n.unstable_NormalPriority,Gf=n.unstable_LowPriority,Gc=n.unstable_IdlePriority,Yc=n.log,Qc=n.unstable_setDisableYieldValue,ei=null,Ze=null;function jn(s){if(typeof Yc=="function"&&Qc(s),Ze&&typeof Ze.setStrictMode=="function")try{Ze.setStrictMode(ei,s)}catch{}}var Te=Math.clz32?Math.clz32:Kc,Xc=Math.log,Cr=Math.LN2;function Kc(s){return s>>>=0,s===0?32:31-(Xc(s)/Cr|0)|0}var bi=256,Ca=262144,De=4194304;function vi(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function xi(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,x=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?m=vi(u):(x&=S,x!==0?m=vi(x):l||(l=S&~s,l!==0&&(m=vi(l))))):(S=u&~p,S!==0?m=vi(S):x!==0?m=vi(x):l||(l=u&~s,l!==0&&(m=vi(l)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:m}function ni(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Yf(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wc(){var s=De;return De<<=1,(De&62914560)===0&&(De=4194304),s}function Ei(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Ma(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Qf(s,r,l,u,m,p){var x=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,k=s.expirationTimes,Y=s.hiddenUpdates;for(l=x&~l;0<l;){var J=31-Te(l),it=1<<J;S[J]=0,k[J]=-1;var Q=Y[J];if(Q!==null)for(Y[J]=null,J=0;J<Q.length;J++){var W=Q[J];W!==null&&(W.lane&=-536870913)}l&=~it}u!==0&&Da(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(x&~r))}function Da(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-Te(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function Qo(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-Te(l),m=1<<u;m&r|s[u]&r&&(s[u]|=r),l&=~m}}function Xo(s,r){var l=r&-r;return l=(l&42)!==0?1:Oa(l),(l&(s.suspendedLanes|r))!==0?0:l}function Oa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Wi(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function $c(){var s=st.p;return s!==0?s:(s=window.event,s===void 0?32:yb(s.type))}function ii(s,r){var l=st.p;try{return st.p=s,r()}finally{st.p=l}}var si=Math.random().toString(36).slice(2),Oe="__reactFiber$"+si,Qe="__reactProps$"+si,Ti="__reactContainer$"+si,Mr="__reactEvents$"+si,Xf="__reactListeners$"+si,Zc="__reactHandles$"+si,Jc="__reactResources$"+si,Si="__reactMarker$"+si;function Dr(s){delete s[Oe],delete s[Qe],delete s[Mr],delete s[Xf],delete s[Zc]}function Ai(s){var r=s[Oe];if(r)return r;for(var l=s.parentNode;l;){if(r=l[Ti]||l[Oe]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=eb(s);s!==null;){if(l=s[Oe])return l;s=eb(s)}return r}s=l,l=s.parentNode}return null}function Bn(s){if(s=s[Oe]||s[Ti]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function Mn(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function wi(s){var r=s[Jc];return r||(r=s[Jc]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ne(s){s[Si]=!0}var Ko=new Set,Wo={};function Ri(s,r){Ci(s,r),Ci(s+"Capture",r)}function Ci(s,r){for(Wo[s]=r,s=0;s<r.length;s++)Ko.add(r[s])}var $o=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zo={},Jo={};function tu(s){return Me.call(Jo,s)?!0:Me.call(Zo,s)?!1:$o.test(s)?Jo[s]=!0:(Zo[s]=!0,!1)}function Or(s,r,l){if(tu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function Dn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function Ie(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function Xe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Cs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function tl(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(x){l=""+x,p.call(this,x)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(x){l=""+x},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Zt(s){if(!s._valueTracker){var r=Cs(s)?"checked":"value";s._valueTracker=tl(s,r,""+s[r])}}function Na(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=Cs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Mi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ia=/[\n"\\]/g;function bn(s){return s.replace(Ia,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Nr(s,r,l,u,m,p,x,S){s.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?s.type=x:s.removeAttribute("type"),r!=null?x==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+Xe(r)):s.value!==""+Xe(r)&&(s.value=""+Xe(r)):x!=="submit"&&x!=="reset"||s.removeAttribute("value"),r!=null?el(s,x,Xe(r)):l!=null?el(s,x,Xe(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+Xe(S):s.removeAttribute("name")}function eu(s,r,l,u,m,p,x,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Zt(s);return}l=l!=null?""+Xe(l):"",r=r!=null?""+Xe(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(s.name=x),Zt(s)}function el(s,r,l){r==="number"&&Mi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Ms(s,r,l,u){if(s=s.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=r.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+Xe(l),r=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function nu(s,r,l){if(r!=null&&(r=""+Xe(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+Xe(l):""}function Ds(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(ut(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=Xe(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Zt(s)}function vn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var iu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function nl(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||iu.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function il(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&l[m]!==u&&nl(s,m,u)}else for(var p in r)r.hasOwnProperty(p)&&nl(s,p,r[p])}function Ir(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var su=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Os=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vr(s){return Os.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ai(){}var sl=null;function Un(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Ns=null,Di=null;function Va(s){var r=Bn(s);if(r&&(s=r.stateNode)){var l=s[Qe]||null;t:switch(s=r.stateNode,r.type){case"input":if(Nr(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var m=u[Qe]||null;if(!m)throw Error(i(90));Nr(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&Na(u)}break t;case"textarea":nu(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Ms(s,!!l.multiple,r,!1)}}}var kr=!1;function Is(s,r,l){if(kr)return s(r,l);kr=!0;try{var u=s(r);return u}finally{if(kr=!1,(Ns!==null||Di!==null)&&($u(),Ns&&(r=Ns,s=Di,Di=Ns=null,Va(r),s)))for(r=0;r<s.length;r++)Va(s[r])}}function ri(s,r){var l=s.stateNode;if(l===null)return null;var u=l[Qe]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ka=!1;if(Hn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ka=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ka=!1}var Oi=null,al=null,La=null;function rl(){if(La)return La;var s,r=al,l=r.length,u,m="value"in Oi?Oi.value:Oi.textContent,p=m.length;for(s=0;s<l&&r[s]===m[s];s++);var x=l-s;for(u=1;u<=x&&r[l-u]===m[p-u];u++);return La=m.slice(s,1<u?1-u:void 0)}function Pa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function $i(){return!0}function oi(){return!1}function Je(s){function r(l,u,m,p,x){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=x,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?$i:oi,this.isPropagationStopped=oi,this}return _(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),r}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Je(Zi),Vs=_({},Zi,{view:0,detail:0}),ol=Je(Vs),ks,Lr,Ii,Pr=_({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ls,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ii&&(Ii&&s.type==="mousemove"?(ks=s.screenX-Ii.screenX,Lr=s.screenY-Ii.screenY):Lr=ks=0,Ii=s),ks)},movementY:function(s){return"movementY"in s?s.movementY:Lr}}),ll=Je(Pr),za=_({},Pr,{dataTransfer:0}),au=Je(za),ru=_({},Vs,{relatedTarget:0}),ja=Je(ru),cl=_({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),ou=Je(cl),zr=_({},Zi,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),lu=Je(zr),cu=_({},Zi,{data:0}),Vi=Je(cu),uu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function du(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=fu[s])?!!r[s]:!1}function Ls(){return du}var yn=_({},Vs,{key:function(s){if(s.key){var r=uu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=Pa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?hu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ls,charCode:function(s){return s.type==="keypress"?Pa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Pa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gu=Je(yn),mu=_({},Pr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Je(mu),g=_({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ls}),b=Je(g),E=_({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Je(E),q=_({},Pr,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Je(q),ot=_({},Zi,{newState:0,oldState:0}),Mt=Je(ot),Se=[9,13,27,32],Xt=Hn&&"CompositionEvent"in window,ge=null;Hn&&"documentMode"in document&&(ge=document.documentMode);var Fn=Hn&&"TextEvent"in window&&!ge,ki=Hn&&(!Xt||ge&&8<ge&&11>=ge),li=" ",ci=!1;function Ba(s,r){switch(s){case"keyup":return Se.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jr(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Br=!1;function hS(s,r){switch(s){case"compositionend":return jr(r);case"keypress":return r.which!==32?null:(ci=!0,li);case"textInput":return s=r.data,s===li&&ci?null:s;default:return null}}function fS(s,r){if(Br)return s==="compositionend"||!Xt&&Ba(s,r)?(s=rl(),La=al=Oi=null,Br=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return ki&&r.locale!=="ko"?null:r.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function sy(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!dS[s.type]:r==="textarea"}function ay(s,r,l,u){Ns?Di?Di.push(u):Di=[u]:Ns=u,r=sh(r,"onChange"),0<r.length&&(l=new Ni("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var ul=null,hl=null;function gS(s){U0(s,0)}function pu(s){var r=Mn(s);if(Na(r))return s}function ry(s,r){if(s==="change")return r}var oy=!1;if(Hn){var Kf;if(Hn){var Wf="oninput"in document;if(!Wf){var ly=document.createElement("div");ly.setAttribute("oninput","return;"),Wf=typeof ly.oninput=="function"}Kf=Wf}else Kf=!1;oy=Kf&&(!document.documentMode||9<document.documentMode)}function cy(){ul&&(ul.detachEvent("onpropertychange",uy),hl=ul=null)}function uy(s){if(s.propertyName==="value"&&pu(hl)){var r=[];ay(r,hl,s,Un(s)),Is(gS,r)}}function mS(s,r,l){s==="focusin"?(cy(),ul=r,hl=l,ul.attachEvent("onpropertychange",uy)):s==="focusout"&&cy()}function pS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return pu(hl)}function yS(s,r){if(s==="click")return pu(r)}function _S(s,r){if(s==="input"||s==="change")return pu(r)}function bS(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var On=typeof Object.is=="function"?Object.is:bS;function fl(s,r){if(On(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Me.call(r,m)||!On(s[m],r[m]))return!1}return!0}function hy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function fy(s,r){var l=hy(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=hy(l)}}function dy(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?dy(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function gy(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Mi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Mi(s.document)}return r}function $f(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var vS=Hn&&"documentMode"in document&&11>=document.documentMode,Ur=null,Zf=null,dl=null,Jf=!1;function my(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Jf||Ur==null||Ur!==Mi(u)||(u=Ur,"selectionStart"in u&&$f(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),dl&&fl(dl,u)||(dl=u,u=sh(Zf,"onSelect"),0<u.length&&(r=new Ni("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=Ur)))}function Ua(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var Hr={animationend:Ua("Animation","AnimationEnd"),animationiteration:Ua("Animation","AnimationIteration"),animationstart:Ua("Animation","AnimationStart"),transitionrun:Ua("Transition","TransitionRun"),transitionstart:Ua("Transition","TransitionStart"),transitioncancel:Ua("Transition","TransitionCancel"),transitionend:Ua("Transition","TransitionEnd")},td={},py={};Hn&&(py=document.createElement("div").style,"AnimationEvent"in window||(delete Hr.animationend.animation,delete Hr.animationiteration.animation,delete Hr.animationstart.animation),"TransitionEvent"in window||delete Hr.transitionend.transition);function Ha(s){if(td[s])return td[s];if(!Hr[s])return s;var r=Hr[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in py)return td[s]=r[l];return s}var yy=Ha("animationend"),_y=Ha("animationiteration"),by=Ha("animationstart"),xS=Ha("transitionrun"),ES=Ha("transitionstart"),TS=Ha("transitioncancel"),vy=Ha("transitionend"),xy=new Map,ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ed.push("scrollEnd");function ui(s,r){xy.set(s,r),Ri(r,[s])}var yu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},qn=[],Fr=0,nd=0;function _u(){for(var s=Fr,r=nd=Fr=0;r<s;){var l=qn[r];qn[r++]=null;var u=qn[r];qn[r++]=null;var m=qn[r];qn[r++]=null;var p=qn[r];if(qn[r++]=null,u!==null&&m!==null){var x=u.pending;x===null?m.next=m:(m.next=x.next,x.next=m),u.pending=m}p!==0&&Ey(l,m,p)}}function bu(s,r,l,u){qn[Fr++]=s,qn[Fr++]=r,qn[Fr++]=l,qn[Fr++]=u,nd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function id(s,r,l,u){return bu(s,r,l,u),vu(s)}function Fa(s,r){return bu(s,null,null,r),vu(s)}function Ey(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&r!==null&&(m=31-Te(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=l|536870912),p):null}function vu(s){if(50<kl)throw kl=0,fg=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var qr={};function SS(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,r,l,u){return new SS(s,r,l,u)}function sd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ts(s,r){var l=s.alternate;return l===null?(l=Nn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function Ty(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function xu(s,r,l,u,m,p){var x=0;if(u=s,typeof s=="function")sd(s)&&(x=1);else if(typeof s=="string")x=MA(s,l,ft.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case O:return s=Nn(31,l,r,m),s.elementType=O,s.lanes=p,s;case C:return qa(l.children,m,p,r);case D:x=8,m|=24;break;case P:return s=Nn(12,l,r,m|2),s.elementType=P,s.lanes=p,s;case $:return s=Nn(13,l,r,m),s.elementType=$,s.lanes=p,s;case nt:return s=Nn(19,l,r,m),s.elementType=nt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:x=10;break t;case U:x=9;break t;case Z:x=11;break t;case M:x=14;break t;case w:x=16,u=null;break t}x=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Nn(x,l,r,m),r.elementType=s,r.type=u,r.lanes=p,r}function qa(s,r,l,u){return s=Nn(7,s,u,r),s.lanes=l,s}function ad(s,r,l){return s=Nn(6,s,null,r),s.lanes=l,s}function Sy(s){var r=Nn(18,null,null,0);return r.stateNode=s,r}function rd(s,r,l){return r=Nn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var Ay=new WeakMap;function Gn(s,r){if(typeof s=="object"&&s!==null){var l=Ay.get(s);return l!==void 0?l:(r={value:s,source:r,stack:qo(r)},Ay.set(s,r),r)}return{value:s,source:r,stack:qo(r)}}var Gr=[],Yr=0,Eu=null,gl=0,Yn=[],Qn=0,Ps=null,Li=1,Pi="";function es(s,r){Gr[Yr++]=gl,Gr[Yr++]=Eu,Eu=s,gl=r}function wy(s,r,l){Yn[Qn++]=Li,Yn[Qn++]=Pi,Yn[Qn++]=Ps,Ps=s;var u=Li;s=Pi;var m=32-Te(u)-1;u&=~(1<<m),l+=1;var p=32-Te(r)+m;if(30<p){var x=m-m%5;p=(u&(1<<x)-1).toString(32),u>>=x,m-=x,Li=1<<32-Te(r)+m|l<<m|u,Pi=p+s}else Li=1<<p|l<<m|u,Pi=s}function od(s){s.return!==null&&(es(s,1),wy(s,1,0))}function ld(s){for(;s===Eu;)Eu=Gr[--Yr],Gr[Yr]=null,gl=Gr[--Yr],Gr[Yr]=null;for(;s===Ps;)Ps=Yn[--Qn],Yn[Qn]=null,Pi=Yn[--Qn],Yn[Qn]=null,Li=Yn[--Qn],Yn[Qn]=null}function Ry(s,r){Yn[Qn++]=Li,Yn[Qn++]=Pi,Yn[Qn++]=Ps,Li=r.id,Pi=r.overflow,Ps=s}var tn=null,ce=null,Ut=!1,zs=null,Xn=!1,cd=Error(i(519));function js(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(Gn(r,s)),cd}function Cy(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Oe]=s,r[Qe]=u,l){case"dialog":Vt("cancel",r),Vt("close",r);break;case"iframe":case"object":case"embed":Vt("load",r);break;case"video":case"audio":for(l=0;l<Pl.length;l++)Vt(Pl[l],r);break;case"source":Vt("error",r);break;case"img":case"image":case"link":Vt("error",r),Vt("load",r);break;case"details":Vt("toggle",r);break;case"input":Vt("invalid",r),eu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Vt("invalid",r);break;case"textarea":Vt("invalid",r),Ds(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||G0(r.textContent,l)?(u.popover!=null&&(Vt("beforetoggle",r),Vt("toggle",r)),u.onScroll!=null&&Vt("scroll",r),u.onScrollEnd!=null&&Vt("scrollend",r),u.onClick!=null&&(r.onclick=ai),r=!0):r=!1,r||js(s,!0)}function My(s){for(tn=s.return;tn;)switch(tn.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:tn=tn.return}}function Qr(s){if(s!==tn)return!1;if(!Ut)return My(s),Ut=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||Rg(s.type,s.memoizedProps)),l=!l),l&&ce&&js(s),My(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=tb(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=tb(s)}else r===27?(r=ce,Js(s.type)?(s=Ng,Ng=null,ce=s):ce=r):ce=tn?Wn(s.stateNode.nextSibling):null;return!0}function Ga(){ce=tn=null,Ut=!1}function ud(){var s=zs;return s!==null&&(Sn===null?Sn=s:Sn.push.apply(Sn,s),zs=null),s}function ml(s){zs===null?zs=[s]:zs.push(s)}var hd=L(null),Ya=null,ns=null;function Bs(s,r,l){lt(hd,r._currentValue),r._currentValue=l}function is(s){s._currentValue=hd.current,tt(hd)}function fd(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function dd(s,r,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var x=m.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=m;for(var k=0;k<r.length;k++)if(S.context===r[k]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),fd(p.return,l,s),u||(x=null);break t}p=S.next}}else if(m.tag===18){if(x=m.return,x===null)throw Error(i(341));x.lanes|=l,p=x.alternate,p!==null&&(p.lanes|=l),fd(x,l,s),x=null}else x=m.child;if(x!==null)x.return=m;else for(x=m;x!==null;){if(x===s){x=null;break}if(m=x.sibling,m!==null){m.return=x.return,x=m;break}x=x.return}m=x}}function Xr(s,r,l,u){s=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var x=m.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var S=m.type;On(m.pendingProps.value,x.value)||(s!==null?s.push(S):s=[S])}}else if(m===Ht.current){if(x=m.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Hl):s=[Hl])}m=m.return}s!==null&&dd(r,s,l,u),r.flags|=262144}function Tu(s){for(s=s.firstContext;s!==null;){if(!On(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Qa(s){Ya=s,ns=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function en(s){return Dy(Ya,s)}function Su(s,r){return Ya===null&&Qa(s),Dy(s,r)}function Dy(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},ns===null){if(s===null)throw Error(i(308));ns=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ns=ns.next=r;return l}var AS=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},wS=n.unstable_scheduleCallback,RS=n.unstable_NormalPriority,Ve={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gd(){return{controller:new AS,data:new Map,refCount:0}}function pl(s){s.refCount--,s.refCount===0&&wS(RS,function(){s.controller.abort()})}var yl=null,md=0,Kr=0,Wr=null;function CS(s,r){if(yl===null){var l=yl=[];md=0,Kr=_g(),Wr={status:"pending",value:void 0,then:function(u){l.push(u)}}}return md++,r.then(Oy,Oy),r}function Oy(){if(--md===0&&yl!==null){Wr!==null&&(Wr.status="fulfilled");var s=yl;yl=null,Kr=0,Wr=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function MS(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var Ny=F.S;F.S=function(s,r){m0=pn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&CS(s,r),Ny!==null&&Ny(s,r)};var Xa=L(null);function pd(){var s=Xa.current;return s!==null?s:re.pooledCache}function Au(s,r){r===null?lt(Xa,Xa.current):lt(Xa,r.pool)}function Iy(){var s=pd();return s===null?null:{parent:Ve._currentValue,pool:s}}var $r=Error(i(460)),yd=Error(i(474)),wu=Error(i(542)),Ru={then:function(){}};function Vy(s){return s=s.status,s==="fulfilled"||s==="rejected"}function ky(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(ai,ai),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Py(s),s;default:if(typeof r.status=="string")r.then(ai,ai);else{if(s=re,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,Py(s),s}throw Wa=r,$r}}function Ka(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Wa=l,$r):l}}var Wa=null;function Ly(){if(Wa===null)throw Error(i(459));var s=Wa;return Wa=null,s}function Py(s){if(s===$r||s===wu)throw Error(i(483))}var Zr=null,_l=0;function Cu(s){var r=_l;return _l+=1,Zr===null&&(Zr=[]),ky(Zr,s,r)}function bl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function Mu(s,r){throw r.$$typeof===v?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function zy(s){function r(H,B){if(s){var G=H.deletions;G===null?(H.deletions=[B],H.flags|=16):G.push(B)}}function l(H,B){if(!s)return null;for(;B!==null;)r(H,B),B=B.sibling;return null}function u(H){for(var B=new Map;H!==null;)H.key!==null?B.set(H.key,H):B.set(H.index,H),H=H.sibling;return B}function m(H,B){return H=ts(H,B),H.index=0,H.sibling=null,H}function p(H,B,G){return H.index=G,s?(G=H.alternate,G!==null?(G=G.index,G<B?(H.flags|=67108866,B):G):(H.flags|=67108866,B)):(H.flags|=1048576,B)}function x(H){return s&&H.alternate===null&&(H.flags|=67108866),H}function S(H,B,G,et){return B===null||B.tag!==6?(B=ad(G,H.mode,et),B.return=H,B):(B=m(B,G),B.return=H,B)}function k(H,B,G,et){var bt=G.type;return bt===C?J(H,B,G.props.children,et,G.key):B!==null&&(B.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&Ka(bt)===B.type)?(B=m(B,G.props),bl(B,G),B.return=H,B):(B=xu(G.type,G.key,G.props,null,H.mode,et),bl(B,G),B.return=H,B)}function Y(H,B,G,et){return B===null||B.tag!==4||B.stateNode.containerInfo!==G.containerInfo||B.stateNode.implementation!==G.implementation?(B=rd(G,H.mode,et),B.return=H,B):(B=m(B,G.children||[]),B.return=H,B)}function J(H,B,G,et,bt){return B===null||B.tag!==7?(B=qa(G,H.mode,et,bt),B.return=H,B):(B=m(B,G),B.return=H,B)}function it(H,B,G){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return B=ad(""+B,H.mode,G),B.return=H,B;if(typeof B=="object"&&B!==null){switch(B.$$typeof){case T:return G=xu(B.type,B.key,B.props,null,H.mode,G),bl(G,B),G.return=H,G;case A:return B=rd(B,H.mode,G),B.return=H,B;case w:return B=Ka(B),it(H,B,G)}if(ut(B)||z(B))return B=qa(B,H.mode,G,null),B.return=H,B;if(typeof B.then=="function")return it(H,Cu(B),G);if(B.$$typeof===X)return it(H,Su(H,B),G);Mu(H,B)}return null}function Q(H,B,G,et){var bt=B!==null?B.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return bt!==null?null:S(H,B,""+G,et);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===bt?k(H,B,G,et):null;case A:return G.key===bt?Y(H,B,G,et):null;case w:return G=Ka(G),Q(H,B,G,et)}if(ut(G)||z(G))return bt!==null?null:J(H,B,G,et,null);if(typeof G.then=="function")return Q(H,B,Cu(G),et);if(G.$$typeof===X)return Q(H,B,Su(H,G),et);Mu(H,G)}return null}function W(H,B,G,et,bt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return H=H.get(G)||null,S(B,H,""+et,bt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case T:return H=H.get(et.key===null?G:et.key)||null,k(B,H,et,bt);case A:return H=H.get(et.key===null?G:et.key)||null,Y(B,H,et,bt);case w:return et=Ka(et),W(H,B,G,et,bt)}if(ut(et)||z(et))return H=H.get(G)||null,J(B,H,et,bt,null);if(typeof et.then=="function")return W(H,B,G,Cu(et),bt);if(et.$$typeof===X)return W(H,B,G,Su(B,et),bt);Mu(B,et)}return null}function mt(H,B,G,et){for(var bt=null,Gt=null,pt=B,Ot=B=0,Pt=null;pt!==null&&Ot<G.length;Ot++){pt.index>Ot?(Pt=pt,pt=null):Pt=pt.sibling;var Yt=Q(H,pt,G[Ot],et);if(Yt===null){pt===null&&(pt=Pt);break}s&&pt&&Yt.alternate===null&&r(H,pt),B=p(Yt,B,Ot),Gt===null?bt=Yt:Gt.sibling=Yt,Gt=Yt,pt=Pt}if(Ot===G.length)return l(H,pt),Ut&&es(H,Ot),bt;if(pt===null){for(;Ot<G.length;Ot++)pt=it(H,G[Ot],et),pt!==null&&(B=p(pt,B,Ot),Gt===null?bt=pt:Gt.sibling=pt,Gt=pt);return Ut&&es(H,Ot),bt}for(pt=u(pt);Ot<G.length;Ot++)Pt=W(pt,H,Ot,G[Ot],et),Pt!==null&&(s&&Pt.alternate!==null&&pt.delete(Pt.key===null?Ot:Pt.key),B=p(Pt,B,Ot),Gt===null?bt=Pt:Gt.sibling=Pt,Gt=Pt);return s&&pt.forEach(function(sa){return r(H,sa)}),Ut&&es(H,Ot),bt}function Et(H,B,G,et){if(G==null)throw Error(i(151));for(var bt=null,Gt=null,pt=B,Ot=B=0,Pt=null,Yt=G.next();pt!==null&&!Yt.done;Ot++,Yt=G.next()){pt.index>Ot?(Pt=pt,pt=null):Pt=pt.sibling;var sa=Q(H,pt,Yt.value,et);if(sa===null){pt===null&&(pt=Pt);break}s&&pt&&sa.alternate===null&&r(H,pt),B=p(sa,B,Ot),Gt===null?bt=sa:Gt.sibling=sa,Gt=sa,pt=Pt}if(Yt.done)return l(H,pt),Ut&&es(H,Ot),bt;if(pt===null){for(;!Yt.done;Ot++,Yt=G.next())Yt=it(H,Yt.value,et),Yt!==null&&(B=p(Yt,B,Ot),Gt===null?bt=Yt:Gt.sibling=Yt,Gt=Yt);return Ut&&es(H,Ot),bt}for(pt=u(pt);!Yt.done;Ot++,Yt=G.next())Yt=W(pt,H,Ot,Yt.value,et),Yt!==null&&(s&&Yt.alternate!==null&&pt.delete(Yt.key===null?Ot:Yt.key),B=p(Yt,B,Ot),Gt===null?bt=Yt:Gt.sibling=Yt,Gt=Yt);return s&&pt.forEach(function(BA){return r(H,BA)}),Ut&&es(H,Ot),bt}function ae(H,B,G,et){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:t:{for(var bt=G.key;B!==null;){if(B.key===bt){if(bt=G.type,bt===C){if(B.tag===7){l(H,B.sibling),et=m(B,G.props.children),et.return=H,H=et;break t}}else if(B.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===w&&Ka(bt)===B.type){l(H,B.sibling),et=m(B,G.props),bl(et,G),et.return=H,H=et;break t}l(H,B);break}else r(H,B);B=B.sibling}G.type===C?(et=qa(G.props.children,H.mode,et,G.key),et.return=H,H=et):(et=xu(G.type,G.key,G.props,null,H.mode,et),bl(et,G),et.return=H,H=et)}return x(H);case A:t:{for(bt=G.key;B!==null;){if(B.key===bt)if(B.tag===4&&B.stateNode.containerInfo===G.containerInfo&&B.stateNode.implementation===G.implementation){l(H,B.sibling),et=m(B,G.children||[]),et.return=H,H=et;break t}else{l(H,B);break}else r(H,B);B=B.sibling}et=rd(G,H.mode,et),et.return=H,H=et}return x(H);case w:return G=Ka(G),ae(H,B,G,et)}if(ut(G))return mt(H,B,G,et);if(z(G)){if(bt=z(G),typeof bt!="function")throw Error(i(150));return G=bt.call(G),Et(H,B,G,et)}if(typeof G.then=="function")return ae(H,B,Cu(G),et);if(G.$$typeof===X)return ae(H,B,Su(H,G),et);Mu(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,B!==null&&B.tag===6?(l(H,B.sibling),et=m(B,G),et.return=H,H=et):(l(H,B),et=ad(G,H.mode,et),et.return=H,H=et),x(H)):l(H,B)}return function(H,B,G,et){try{_l=0;var bt=ae(H,B,G,et);return Zr=null,bt}catch(pt){if(pt===$r||pt===wu)throw pt;var Gt=Nn(29,pt,null,H.mode);return Gt.lanes=et,Gt.return=H,Gt}finally{}}}var $a=zy(!0),jy=zy(!1),Us=!1;function _d(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bd(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function Hs(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Fs(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=vu(s),Ey(s,null,l),r}return bu(s,u,r,l),vu(s)}function vl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,Qo(s,l)}}function vd(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var x={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=x:p=p.next=x,l=l.next}while(l!==null);p===null?m=p=r:p=p.next=r}else m=p=r;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var xd=!1;function xl(){if(xd){var s=Wr;if(s!==null)throw s}}function El(s,r,l,u){xd=!1;var m=s.updateQueue;Us=!1;var p=m.firstBaseUpdate,x=m.lastBaseUpdate,S=m.shared.pending;if(S!==null){m.shared.pending=null;var k=S,Y=k.next;k.next=null,x===null?p=Y:x.next=Y,x=k;var J=s.alternate;J!==null&&(J=J.updateQueue,S=J.lastBaseUpdate,S!==x&&(S===null?J.firstBaseUpdate=Y:S.next=Y,J.lastBaseUpdate=k))}if(p!==null){var it=m.baseState;x=0,J=Y=k=null,S=p;do{var Q=S.lane&-536870913,W=Q!==S.lane;if(W?(Lt&Q)===Q:(u&Q)===Q){Q!==0&&Q===Kr&&(xd=!0),J!==null&&(J=J.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var mt=s,Et=S;Q=r;var ae=l;switch(Et.tag){case 1:if(mt=Et.payload,typeof mt=="function"){it=mt.call(ae,it,Q);break t}it=mt;break t;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=Et.payload,Q=typeof mt=="function"?mt.call(ae,it,Q):mt,Q==null)break t;it=_({},it,Q);break t;case 2:Us=!0}}Q=S.callback,Q!==null&&(s.flags|=64,W&&(s.flags|=8192),W=m.callbacks,W===null?m.callbacks=[Q]:W.push(Q))}else W={lane:Q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},J===null?(Y=J=W,k=it):J=J.next=W,x|=Q;if(S=S.next,S===null){if(S=m.shared.pending,S===null)break;W=S,S=W.next,W.next=null,m.lastBaseUpdate=W,m.shared.pending=null}}while(!0);J===null&&(k=it),m.baseState=k,m.firstBaseUpdate=Y,m.lastBaseUpdate=J,p===null&&(m.shared.lanes=0),Xs|=x,s.lanes=x,s.memoizedState=it}}function By(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function Uy(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)By(l[s],r)}var Jr=L(null),Du=L(0);function Hy(s,r){s=fs,lt(Du,s),lt(Jr,r),fs=s|r.baseLanes}function Ed(){lt(Du,fs),lt(Jr,Jr.current)}function Td(){fs=Du.current,tt(Jr),tt(Du)}var In=L(null),Kn=null;function qs(s){var r=s.alternate;lt(Ae,Ae.current&1),lt(In,s),Kn===null&&(r===null||Jr.current!==null||r.memoizedState!==null)&&(Kn=s)}function Sd(s){lt(Ae,Ae.current),lt(In,s),Kn===null&&(Kn=s)}function Fy(s){s.tag===22?(lt(Ae,Ae.current),lt(In,s),Kn===null&&(Kn=s)):Gs()}function Gs(){lt(Ae,Ae.current),lt(In,In.current)}function Vn(s){tt(In),Kn===s&&(Kn=null),tt(Ae)}var Ae=L(0);function Ou(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Dg(l)||Og(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var ss=0,Dt=null,ie=null,ke=null,Nu=!1,to=!1,Za=!1,Iu=0,Tl=0,eo=null,DS=0;function ve(){throw Error(i(321))}function Ad(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!On(s[l],r[l]))return!1;return!0}function wd(s,r,l,u,m,p){return ss=p,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=s===null||s.memoizedState===null?w_:Ud,Za=!1,p=l(u,m),Za=!1,to&&(p=Gy(r,l,u,m)),qy(s),p}function qy(s){F.H=wl;var r=ie!==null&&ie.next!==null;if(ss=0,ke=ie=Dt=null,Nu=!1,Tl=0,eo=null,r)throw Error(i(300));s===null||Le||(s=s.dependencies,s!==null&&Tu(s)&&(Le=!0))}function Gy(s,r,l,u){Dt=s;var m=0;do{if(to&&(eo=null),Tl=0,to=!1,25<=m)throw Error(i(301));if(m+=1,ke=ie=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}F.H=R_,p=r(l,u)}while(to);return p}function OS(){var s=F.H,r=s.useState()[0];return r=typeof r.then=="function"?Sl(r):r,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(Dt.flags|=1024),r}function Rd(){var s=Iu!==0;return Iu=0,s}function Cd(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function Md(s){if(Nu){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}Nu=!1}ss=0,ke=ie=Dt=null,to=!1,Tl=Iu=0,eo=null}function _n(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ke===null?Dt.memoizedState=ke=s:ke=ke.next=s,ke}function we(){if(ie===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var r=ke===null?Dt.memoizedState:ke.next;if(r!==null)ke=r,ie=s;else{if(s===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},ke===null?Dt.memoizedState=ke=s:ke=ke.next=s}return ke}function Vu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Sl(s){var r=Tl;return Tl+=1,eo===null&&(eo=[]),s=ky(eo,s,r),r=Dt,(ke===null?r.memoizedState:ke.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?w_:Ud),s}function ku(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Sl(s);if(s.$$typeof===X)return en(s)}throw Error(i(438,String(s)))}function Dd(s){var r=null,l=Dt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=Vu(),Dt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=V;return r.index++,l}function as(s,r){return typeof r=="function"?r(s):r}function Lu(s){var r=we();return Od(r,ie,s)}function Od(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var x=m.next;m.next=p.next,p.next=x}r.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{r=m.next;var S=x=null,k=null,Y=r,J=!1;do{var it=Y.lane&-536870913;if(it!==Y.lane?(Lt&it)===it:(ss&it)===it){var Q=Y.revertLane;if(Q===0)k!==null&&(k=k.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),it===Kr&&(J=!0);else if((ss&Q)===Q){Y=Y.next,Q===Kr&&(J=!0);continue}else it={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=it,x=p):k=k.next=it,Dt.lanes|=Q,Xs|=Q;it=Y.action,Za&&l(p,it),p=Y.hasEagerState?Y.eagerState:l(p,it)}else Q={lane:it,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},k===null?(S=k=Q,x=p):k=k.next=Q,Dt.lanes|=it,Xs|=it;Y=Y.next}while(Y!==null&&Y!==r);if(k===null?x=p:k.next=S,!On(p,s.memoizedState)&&(Le=!0,J&&(l=Wr,l!==null)))throw l;s.memoizedState=p,s.baseState=x,s.baseQueue=k,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Nd(s){var r=we(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=r.memoizedState;if(m!==null){l.pending=null;var x=m=m.next;do p=s(p,x.action),x=x.next;while(x!==m);On(p,r.memoizedState)||(Le=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function Yy(s,r,l){var u=Dt,m=we(),p=Ut;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var x=!On((ie||m).memoizedState,l);if(x&&(m.memoizedState=l,Le=!0),m=m.queue,kd(Ky.bind(null,u,m,s),[s]),m.getSnapshot!==r||x||ke!==null&&ke.memoizedState.tag&1){if(u.flags|=2048,no(9,{destroy:void 0},Xy.bind(null,u,m,l,r),null),re===null)throw Error(i(349));p||(ss&127)!==0||Qy(u,r,l)}return l}function Qy(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Dt.updateQueue,r===null?(r=Vu(),Dt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Xy(s,r,l,u){r.value=l,r.getSnapshot=u,Wy(r)&&$y(s)}function Ky(s,r,l){return l(function(){Wy(r)&&$y(s)})}function Wy(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!On(s,l)}catch{return!0}}function $y(s){var r=Fa(s,2);r!==null&&An(r,s,2)}function Id(s){var r=_n();if(typeof s=="function"){var l=s;if(s=l(),Za){jn(!0);try{l()}finally{jn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},r}function Zy(s,r,l,u){return s.baseState=l,Od(s,ie,typeof u=="function"?u:as)}function NS(s,r,l,u,m){if(ju(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){p.listeners.push(x)}};F.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,Jy(r,p)):(p.next=l.next,r.pending=l.next=p)}}function Jy(s,r){var l=r.action,u=r.payload,m=s.state;if(r.isTransition){var p=F.T,x={};F.T=x;try{var S=l(m,u),k=F.S;k!==null&&k(x,S),t_(s,r,S)}catch(Y){Vd(s,r,Y)}finally{p!==null&&x.types!==null&&(p.types=x.types),F.T=p}}else try{p=l(m,u),t_(s,r,p)}catch(Y){Vd(s,r,Y)}}function t_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){e_(s,r,u)},function(u){return Vd(s,r,u)}):e_(s,r,l)}function e_(s,r,l){r.status="fulfilled",r.value=l,n_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,Jy(s,l)))}function Vd(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,n_(r),r=r.next;while(r!==u)}s.action=null}function n_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function i_(s,r){return r}function s_(s,r){if(Ut){var l=re.formState;if(l!==null){t:{var u=Dt;if(Ut){if(ce){e:{for(var m=ce,p=Xn;m.nodeType!==8;){if(!p){m=null;break e}if(m=Wn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){ce=Wn(m.nextSibling),u=m.data==="F!";break t}}js(u)}u=!1}u&&(r=l[0])}}return l=_n(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i_,lastRenderedState:r},l.queue=u,l=T_.bind(null,Dt,u),u.dispatch=l,u=Id(!1),p=Bd.bind(null,Dt,!1,u.queue),u=_n(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,l=NS.bind(null,Dt,m,p,l),m.dispatch=l,u.memoizedState=s,[r,l,!1]}function a_(s){var r=we();return r_(r,ie,s)}function r_(s,r,l){if(r=Od(s,r,i_)[0],s=Lu(as)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Sl(r)}catch(x){throw x===$r?wu:x}else u=r;r=we();var m=r.queue,p=m.dispatch;return l!==r.memoizedState&&(Dt.flags|=2048,no(9,{destroy:void 0},IS.bind(null,m,l),null)),[u,p,s]}function IS(s,r){s.action=r}function o_(s){var r=we(),l=ie;if(l!==null)return r_(r,l,s);we(),r=r.memoizedState,l=we();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function no(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=Dt.updateQueue,r===null&&(r=Vu(),Dt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function l_(){return we().memoizedState}function Pu(s,r,l,u){var m=_n();Dt.flags|=s,m.memoizedState=no(1|r,{destroy:void 0},l,u===void 0?null:u)}function zu(s,r,l,u){var m=we();u=u===void 0?null:u;var p=m.memoizedState.inst;ie!==null&&u!==null&&Ad(u,ie.memoizedState.deps)?m.memoizedState=no(r,p,l,u):(Dt.flags|=s,m.memoizedState=no(1|r,p,l,u))}function c_(s,r){Pu(8390656,8,s,r)}function kd(s,r){zu(2048,8,s,r)}function VS(s){Dt.flags|=4;var r=Dt.updateQueue;if(r===null)r=Vu(),Dt.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function u_(s){var r=we().memoizedState;return VS({ref:r,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function h_(s,r){return zu(4,2,s,r)}function f_(s,r){return zu(4,4,s,r)}function d_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function g_(s,r,l){l=l!=null?l.concat([s]):null,zu(4,4,d_.bind(null,r,s),l)}function Ld(){}function m_(s,r){var l=we();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&Ad(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function p_(s,r){var l=we();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&Ad(r,u[1]))return u[0];if(u=s(),Za){jn(!0);try{s()}finally{jn(!1)}}return l.memoizedState=[u,r],u}function Pd(s,r,l){return l===void 0||(ss&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=y0(),Dt.lanes|=s,Xs|=s,l)}function y_(s,r,l,u){return On(l,r)?l:Jr.current!==null?(s=Pd(s,l,u),On(s,r)||(Le=!0),s):(ss&42)===0||(ss&1073741824)!==0&&(Lt&261930)===0?(Le=!0,s.memoizedState=l):(s=y0(),Dt.lanes|=s,Xs|=s,r)}function __(s,r,l,u,m){var p=st.p;st.p=p!==0&&8>p?p:8;var x=F.T,S={};F.T=S,Bd(s,!1,r,l);try{var k=m(),Y=F.S;if(Y!==null&&Y(S,k),k!==null&&typeof k=="object"&&typeof k.then=="function"){var J=MS(k,u);Al(s,r,J,Pn(s))}else Al(s,r,u,Pn(s))}catch(it){Al(s,r,{then:function(){},status:"rejected",reason:it},Pn())}finally{st.p=p,x!==null&&S.types!==null&&(x.types=S.types),F.T=x}}function kS(){}function zd(s,r,l,u){if(s.tag!==5)throw Error(i(476));var m=b_(s).queue;__(s,m,r,ht,l===null?kS:function(){return v_(s),l(u)})}function b_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:ht},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function v_(s){var r=b_(s);r.next===null&&(r=s.alternate.memoizedState),Al(s,r.next.queue,{},Pn())}function jd(){return en(Hl)}function x_(){return we().memoizedState}function E_(){return we().memoizedState}function LS(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Pn();s=Hs(l);var u=Fs(r,s,l);u!==null&&(An(u,r,l),vl(u,r,l)),r={cache:gd()},s.payload=r;return}r=r.return}}function PS(s,r,l){var u=Pn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ju(s)?S_(r,l):(l=id(s,r,l,u),l!==null&&(An(l,s,u),A_(l,r,u)))}function T_(s,r,l){var u=Pn();Al(s,r,l,u)}function Al(s,r,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ju(s))S_(r,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var x=r.lastRenderedState,S=p(x,l);if(m.hasEagerState=!0,m.eagerState=S,On(S,x))return bu(s,r,m,0),re===null&&_u(),!1}catch{}finally{}if(l=id(s,r,m,u),l!==null)return An(l,s,u),A_(l,r,u),!0}return!1}function Bd(s,r,l,u){if(u={lane:2,revertLane:_g(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ju(s)){if(r)throw Error(i(479))}else r=id(s,l,u,2),r!==null&&An(r,s,2)}function ju(s){var r=s.alternate;return s===Dt||r!==null&&r===Dt}function S_(s,r){to=Nu=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function A_(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,Qo(s,l)}}var wl={readContext:en,use:ku,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};wl.useEffectEvent=ve;var w_={readContext:en,use:ku,useCallback:function(s,r){return _n().memoizedState=[s,r===void 0?null:r],s},useContext:en,useEffect:c_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,Pu(4194308,4,d_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return Pu(4194308,4,s,r)},useInsertionEffect:function(s,r){Pu(4,2,s,r)},useMemo:function(s,r){var l=_n();r=r===void 0?null:r;var u=s();if(Za){jn(!0);try{s()}finally{jn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=_n();if(l!==void 0){var m=l(r);if(Za){jn(!0);try{l(r)}finally{jn(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=PS.bind(null,Dt,s),[u.memoizedState,s]},useRef:function(s){var r=_n();return s={current:s},r.memoizedState=s},useState:function(s){s=Id(s);var r=s.queue,l=T_.bind(null,Dt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Ld,useDeferredValue:function(s,r){var l=_n();return Pd(l,s,r)},useTransition:function(){var s=Id(!1);return s=__.bind(null,Dt,s.queue,!0,!1),_n().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=Dt,m=_n();if(Ut){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),re===null)throw Error(i(349));(Lt&127)!==0||Qy(u,r,l)}m.memoizedState=l;var p={value:l,getSnapshot:r};return m.queue=p,c_(Ky.bind(null,u,p,s),[s]),u.flags|=2048,no(9,{destroy:void 0},Xy.bind(null,u,p,l,r),null),l},useId:function(){var s=_n(),r=re.identifierPrefix;if(Ut){var l=Pi,u=Li;l=(u&~(1<<32-Te(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=Iu++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=DS++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:jd,useFormState:s_,useActionState:s_,useOptimistic:function(s){var r=_n();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Bd.bind(null,Dt,!0,l),l.dispatch=r,[s,r]},useMemoCache:Dd,useCacheRefresh:function(){return _n().memoizedState=LS.bind(null,Dt)},useEffectEvent:function(s){var r=_n(),l={impl:s};return r.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Ud={readContext:en,use:ku,useCallback:m_,useContext:en,useEffect:kd,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:p_,useReducer:Lu,useRef:l_,useState:function(){return Lu(as)},useDebugValue:Ld,useDeferredValue:function(s,r){var l=we();return y_(l,ie.memoizedState,s,r)},useTransition:function(){var s=Lu(as)[0],r=we().memoizedState;return[typeof s=="boolean"?s:Sl(s),r]},useSyncExternalStore:Yy,useId:x_,useHostTransitionStatus:jd,useFormState:a_,useActionState:a_,useOptimistic:function(s,r){var l=we();return Zy(l,ie,s,r)},useMemoCache:Dd,useCacheRefresh:E_};Ud.useEffectEvent=u_;var R_={readContext:en,use:ku,useCallback:m_,useContext:en,useEffect:kd,useImperativeHandle:g_,useInsertionEffect:h_,useLayoutEffect:f_,useMemo:p_,useReducer:Nd,useRef:l_,useState:function(){return Nd(as)},useDebugValue:Ld,useDeferredValue:function(s,r){var l=we();return ie===null?Pd(l,s,r):y_(l,ie.memoizedState,s,r)},useTransition:function(){var s=Nd(as)[0],r=we().memoizedState;return[typeof s=="boolean"?s:Sl(s),r]},useSyncExternalStore:Yy,useId:x_,useHostTransitionStatus:jd,useFormState:o_,useActionState:o_,useOptimistic:function(s,r){var l=we();return ie!==null?Zy(l,ie,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Dd,useCacheRefresh:E_};R_.useEffectEvent=u_;function Hd(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:_({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Fd={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Pn(),m=Hs(u);m.payload=r,l!=null&&(m.callback=l),r=Fs(s,m,u),r!==null&&(An(r,s,u),vl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Pn(),m=Hs(u);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=Fs(s,m,u),r!==null&&(An(r,s,u),vl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Pn(),u=Hs(l);u.tag=2,r!=null&&(u.callback=r),r=Fs(s,u,l),r!==null&&(An(r,s,l),vl(r,s,l))}};function C_(s,r,l,u,m,p,x){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,x):r.prototype&&r.prototype.isPureReactComponent?!fl(l,u)||!fl(m,p):!0}function M_(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&Fd.enqueueReplaceState(r,r.state,null)}function Ja(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=_({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function D_(s){yu(s)}function O_(s){console.error(s)}function N_(s){yu(s)}function Bu(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function I_(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function qd(s,r,l){return l=Hs(l),l.tag=3,l.payload={element:null},l.callback=function(){Bu(s,r)},l}function V_(s){return s=Hs(s),s.tag=3,s}function k_(s,r,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){I_(r,l,u)}}var x=l.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(s.callback=function(){I_(r,l,u),typeof m!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function zS(s,r,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&Xr(r,l,m,!0),l=In.current,l!==null){switch(l.tag){case 31:case 13:return Kn===null?Zu():l.alternate===null&&xe===0&&(xe=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===Ru?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),mg(s,u,m)),!1;case 22:return l.flags|=65536,u===Ru?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),mg(s,u,m)),!1}throw Error(i(435,l.tag))}return mg(s,u,m),Zu(),!1}if(Ut)return r=In.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==cd&&(s=Error(i(422),{cause:u}),ml(Gn(s,l)))):(u!==cd&&(r=Error(i(423),{cause:u}),ml(Gn(r,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=Gn(u,l),m=qd(s.stateNode,u,m),vd(s,m),xe!==4&&(xe=2)),!1;var p=Error(i(520),{cause:u});if(p=Gn(p,l),Vl===null?Vl=[p]:Vl.push(p),xe!==4&&(xe=2),r===null)return!0;u=Gn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=qd(l.stateNode,u,s),vd(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Ks===null||!Ks.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=V_(m),k_(m,s,l,u),vd(l,m),!1}l=l.return}while(l!==null);return!1}var Gd=Error(i(461)),Le=!1;function nn(s,r,l,u){r.child=s===null?jy(r,null,l,u):$a(r,s.child,l,u)}function L_(s,r,l,u,m){l=l.render;var p=r.ref;if("ref"in u){var x={};for(var S in u)S!=="ref"&&(x[S]=u[S])}else x=u;return Qa(r),u=wd(s,r,l,x,p,m),S=Rd(),s!==null&&!Le?(Cd(s,r,m),rs(s,r,m)):(Ut&&S&&od(r),r.flags|=1,nn(s,r,u,m),r.child)}function P_(s,r,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!sd(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,z_(s,r,p,u,m)):(s=xu(l.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Jd(s,m)){var x=p.memoizedProps;if(l=l.compare,l=l!==null?l:fl,l(x,u)&&s.ref===r.ref)return rs(s,r,m)}return r.flags|=1,s=ts(p,u),s.ref=r.ref,s.return=r,r.child=s}function z_(s,r,l,u,m){if(s!==null){var p=s.memoizedProps;if(fl(p,u)&&s.ref===r.ref)if(Le=!1,r.pendingProps=u=p,Jd(s,m))(s.flags&131072)!==0&&(Le=!0);else return r.lanes=s.lanes,rs(s,r,m)}return Yd(s,r,l,u,m)}function j_(s,r,l,u){var m=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,r.child=null;return B_(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&Au(r,p!==null?p.cachePool:null),p!==null?Hy(r,p):Ed(),Fy(r);else return u=r.lanes=536870912,B_(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(Au(r,p.cachePool),Hy(r,p),Gs(),r.memoizedState=null):(s!==null&&Au(r,null),Ed(),Gs());return nn(s,r,m,l),r.child}function Rl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function B_(s,r,l,u,m){var p=pd();return p=p===null?null:{parent:Ve._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&Au(r,null),Ed(),Fy(r),s!==null&&Xr(s,r,u,!0),r.childLanes=m,null}function Uu(s,r){return r=Fu({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function U_(s,r,l){return $a(r,s.child,null,l),s=Uu(r,r.pendingProps),s.flags|=2,Vn(r),r.memoizedState=null,s}function jS(s,r,l){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ut){if(u.mode==="hidden")return s=Uu(r,u),r.lanes=536870912,Rl(null,s);if(Sd(r),(s=ce)?(s=J0(s,Xn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ps!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},l=Sy(s),l.return=r,r.child=l,tn=r,ce=null)):s=null,s===null)throw js(r);return r.lanes=536870912,null}return Uu(r,u)}var p=s.memoizedState;if(p!==null){var x=p.dehydrated;if(Sd(r),m)if(r.flags&256)r.flags&=-257,r=U_(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Le||Xr(s,r,l,!1),m=(l&s.childLanes)!==0,Le||m){if(u=re,u!==null&&(x=Xo(u,l),x!==0&&x!==p.retryLane))throw p.retryLane=x,Fa(s,x),An(u,s,x),Gd;Zu(),r=U_(s,r,l)}else s=p.treeContext,ce=Wn(x.nextSibling),tn=r,Ut=!0,zs=null,Xn=!1,s!==null&&Ry(r,s),r=Uu(r,u),r.flags|=4096;return r}return s=ts(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function Hu(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Yd(s,r,l,u,m){return Qa(r),l=wd(s,r,l,u,void 0,m),u=Rd(),s!==null&&!Le?(Cd(s,r,m),rs(s,r,m)):(Ut&&u&&od(r),r.flags|=1,nn(s,r,l,m),r.child)}function H_(s,r,l,u,m,p){return Qa(r),r.updateQueue=null,l=Gy(r,u,l,m),qy(s),u=Rd(),s!==null&&!Le?(Cd(s,r,p),rs(s,r,p)):(Ut&&u&&od(r),r.flags|=1,nn(s,r,l,p),r.child)}function F_(s,r,l,u,m){if(Qa(r),r.stateNode===null){var p=qr,x=l.contextType;typeof x=="object"&&x!==null&&(p=en(x)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Fd,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},_d(r),x=l.contextType,p.context=typeof x=="object"&&x!==null?en(x):qr,p.state=r.memoizedState,x=l.getDerivedStateFromProps,typeof x=="function"&&(Hd(r,l,x,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(x=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),x!==p.state&&Fd.enqueueReplaceState(p,p.state,null),El(r,u,p,m),xl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,k=Ja(l,S);p.props=k;var Y=p.context,J=l.contextType;x=qr,typeof J=="object"&&J!==null&&(x=en(J));var it=l.getDerivedStateFromProps;J=typeof it=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||Y!==x)&&M_(r,p,u,x),Us=!1;var Q=r.memoizedState;p.state=Q,El(r,u,p,m),xl(),Y=r.memoizedState,S||Q!==Y||Us?(typeof it=="function"&&(Hd(r,l,it,u),Y=r.memoizedState),(k=Us||C_(r,l,k,u,Q,Y,x))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=Y),p.props=u,p.state=Y,p.context=x,u=k):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,bd(s,r),x=r.memoizedProps,J=Ja(l,x),p.props=J,it=r.pendingProps,Q=p.context,Y=l.contextType,k=qr,typeof Y=="object"&&Y!==null&&(k=en(Y)),S=l.getDerivedStateFromProps,(Y=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(x!==it||Q!==k)&&M_(r,p,u,k),Us=!1,Q=r.memoizedState,p.state=Q,El(r,u,p,m),xl();var W=r.memoizedState;x!==it||Q!==W||Us||s!==null&&s.dependencies!==null&&Tu(s.dependencies)?(typeof S=="function"&&(Hd(r,l,S,u),W=r.memoizedState),(J=Us||C_(r,l,J,u,Q,W,k)||s!==null&&s.dependencies!==null&&Tu(s.dependencies))?(Y||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,W,k),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,W,k)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=W),p.props=u,p.state=W,p.context=k,u=J):(typeof p.componentDidUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||x===s.memoizedProps&&Q===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,Hu(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=$a(r,s.child,null,m),r.child=$a(r,null,l,m)):nn(s,r,l,m),r.memoizedState=p.state,s=r.child):s=rs(s,r,m),s}function q_(s,r,l,u){return Ga(),r.flags|=256,nn(s,r,l,u),r.child}var Qd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Xd(s){return{baseLanes:s,cachePool:Iy()}}function Kd(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Ln),s}function G_(s,r,l){var u=r.pendingProps,m=!1,p=(r.flags&128)!==0,x;if((x=p)||(x=s!==null&&s.memoizedState===null?!1:(Ae.current&2)!==0),x&&(m=!0,r.flags&=-129),x=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ut){if(m?qs(r):Gs(),(s=ce)?(s=J0(s,Xn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Ps!==null?{id:Li,overflow:Pi}:null,retryLane:536870912,hydrationErrors:null},l=Sy(s),l.return=r,r.child=l,tn=r,ce=null)):s=null,s===null)throw js(r);return Og(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,m?(Gs(),m=r.mode,S=Fu({mode:"hidden",children:S},m),u=qa(u,m,l,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=Xd(l),u.childLanes=Kd(s,x,l),r.memoizedState=Qd,Rl(null,u)):(qs(r),Wd(r,S))}var k=s.memoizedState;if(k!==null&&(S=k.dehydrated,S!==null)){if(p)r.flags&256?(qs(r),r.flags&=-257,r=$d(s,r,l)):r.memoizedState!==null?(Gs(),r.child=s.child,r.flags|=128,r=null):(Gs(),S=u.fallback,m=r.mode,u=Fu({mode:"visible",children:u.children},m),S=qa(S,m,l,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,$a(r,s.child,null,l),u=r.child,u.memoizedState=Xd(l),u.childLanes=Kd(s,x,l),r.memoizedState=Qd,r=Rl(null,u));else if(qs(r),Og(S)){if(x=S.nextSibling&&S.nextSibling.dataset,x)var Y=x.dgst;x=Y,u=Error(i(419)),u.stack="",u.digest=x,ml({value:u,source:null,stack:null}),r=$d(s,r,l)}else if(Le||Xr(s,r,l,!1),x=(l&s.childLanes)!==0,Le||x){if(x=re,x!==null&&(u=Xo(x,l),u!==0&&u!==k.retryLane))throw k.retryLane=u,Fa(s,u),An(x,s,u),Gd;Dg(S)||Zu(),r=$d(s,r,l)}else Dg(S)?(r.flags|=192,r.child=s.child,r=null):(s=k.treeContext,ce=Wn(S.nextSibling),tn=r,Ut=!0,zs=null,Xn=!1,s!==null&&Ry(r,s),r=Wd(r,u.children),r.flags|=4096);return r}return m?(Gs(),S=u.fallback,m=r.mode,k=s.child,Y=k.sibling,u=ts(k,{mode:"hidden",children:u.children}),u.subtreeFlags=k.subtreeFlags&65011712,Y!==null?S=ts(Y,S):(S=qa(S,m,l,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Rl(null,u),u=r.child,S=s.child.memoizedState,S===null?S=Xd(l):(m=S.cachePool,m!==null?(k=Ve._currentValue,m=m.parent!==k?{parent:k,pool:k}:m):m=Iy(),S={baseLanes:S.baseLanes|l,cachePool:m}),u.memoizedState=S,u.childLanes=Kd(s,x,l),r.memoizedState=Qd,Rl(s.child,u)):(qs(r),l=s.child,s=l.sibling,l=ts(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(x=r.deletions,x===null?(r.deletions=[s],r.flags|=16):x.push(s)),r.child=l,r.memoizedState=null,l)}function Wd(s,r){return r=Fu({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Fu(s,r){return s=Nn(22,s,null,r),s.lanes=0,s}function $d(s,r,l){return $a(r,s.child,null,l),s=Wd(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Y_(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),fd(s.return,r,l)}function Zd(s,r,l,u,m,p){var x=s.memoizedState;x===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(x.isBackwards=r,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=l,x.tailMode=m,x.treeForkCount=p)}function Q_(s,r,l){var u=r.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var x=Ae.current,S=(x&2)!==0;if(S?(x=x&1|2,r.flags|=128):x&=1,lt(Ae,x),nn(s,r,u,l),u=Ut?gl:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Y_(s,l,r);else if(s.tag===19)Y_(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=r.child,m=null;l!==null;)s=l.alternate,s!==null&&Ou(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Zd(r,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&Ou(s)===null){r.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Zd(r,!0,l,null,p,u);break;case"together":Zd(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function rs(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),Xs|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(Xr(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=ts(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=ts(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Jd(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&Tu(s)))}function BS(s,r,l){switch(r.tag){case 3:Ue(r,r.stateNode.containerInfo),Bs(r,Ve,s.memoizedState.cache),Ga();break;case 27:case 5:Aa(r);break;case 4:Ue(r,r.stateNode.containerInfo);break;case 10:Bs(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,Sd(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(qs(r),r.flags|=128,null):(l&r.child.childLanes)!==0?G_(s,r,l):(qs(r),s=rs(s,r,l),s!==null?s.sibling:null);qs(r);break;case 19:var m=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(Xr(s,r,l,!1),u=(l&r.childLanes)!==0),m){if(u)return Q_(s,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(Ae,Ae.current),u)break;return null;case 22:return r.lanes=0,j_(s,r,l,r.pendingProps);case 24:Bs(r,Ve,s.memoizedState.cache)}return rs(s,r,l)}function X_(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Le=!0;else{if(!Jd(s,l)&&(r.flags&128)===0)return Le=!1,BS(s,r,l);Le=(s.flags&131072)!==0}else Le=!1,Ut&&(r.flags&1048576)!==0&&wy(r,gl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=Ka(r.elementType),r.type=s,typeof s=="function")sd(s)?(u=Ja(s,u),r.tag=1,r=F_(null,r,s,u,l)):(r.tag=0,r=Yd(null,r,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===Z){r.tag=11,r=L_(null,r,s,u,l);break t}else if(m===M){r.tag=14,r=P_(null,r,s,u,l);break t}}throw r=Nt(s)||s,Error(i(306,r,""))}}return r;case 0:return Yd(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,m=Ja(u,r.pendingProps),F_(s,r,u,m,l);case 3:t:{if(Ue(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;m=p.element,bd(s,r),El(r,u,null,l);var x=r.memoizedState;if(u=x.cache,Bs(r,Ve,u),u!==p.cache&&dd(r,[Ve],l,!0),xl(),u=x.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:x.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=q_(s,r,u,l);break t}else if(u!==m){m=Gn(Error(i(424)),r),ml(m),r=q_(s,r,u,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ce=Wn(s.firstChild),tn=r,Ut=!0,zs=null,Xn=!0,l=jy(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Ga(),u===m){r=rs(s,r,l);break t}nn(s,r,u,l)}r=r.child}return r;case 26:return Hu(s,r),s===null?(l=ab(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ut||(l=r.type,s=r.pendingProps,u=ah(Tt.current).createElement(l),u[Oe]=r,u[Qe]=s,sn(u,l,s),Ne(u),r.stateNode=u):r.memoizedState=ab(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Aa(r),s===null&&Ut&&(u=r.stateNode=nb(r.type,r.pendingProps,Tt.current),tn=r,Xn=!0,m=ce,Js(r.type)?(Ng=m,ce=Wn(u.firstChild)):ce=m),nn(s,r,r.pendingProps.children,l),Hu(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ut&&((m=u=ce)&&(u=pA(u,r.type,r.pendingProps,Xn),u!==null?(r.stateNode=u,tn=r,ce=Wn(u.firstChild),Xn=!1,m=!0):m=!1),m||js(r)),Aa(r),m=r.type,p=r.pendingProps,x=s!==null?s.memoizedProps:null,u=p.children,Rg(m,p)?u=null:x!==null&&Rg(m,x)&&(r.flags|=32),r.memoizedState!==null&&(m=wd(s,r,OS,null,null,l),Hl._currentValue=m),Hu(s,r),nn(s,r,u,l),r.child;case 6:return s===null&&Ut&&((s=l=ce)&&(l=yA(l,r.pendingProps,Xn),l!==null?(r.stateNode=l,tn=r,ce=null,s=!0):s=!1),s||js(r)),null;case 13:return G_(s,r,l);case 4:return Ue(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=$a(r,null,u,l):nn(s,r,u,l),r.child;case 11:return L_(s,r,r.type,r.pendingProps,l);case 7:return nn(s,r,r.pendingProps,l),r.child;case 8:return nn(s,r,r.pendingProps.children,l),r.child;case 12:return nn(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,Bs(r,r.type,u.value),nn(s,r,u.children,l),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,Qa(r),m=en(m),u=u(m),r.flags|=1,nn(s,r,u,l),r.child;case 14:return P_(s,r,r.type,r.pendingProps,l);case 15:return z_(s,r,r.type,r.pendingProps,l);case 19:return Q_(s,r,l);case 31:return jS(s,r,l);case 22:return j_(s,r,l,r.pendingProps);case 24:return Qa(r),u=en(Ve),s===null?(m=pd(),m===null&&(m=re,p=gd(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),r.memoizedState={parent:u,cache:m},_d(r),Bs(r,Ve,m)):((s.lanes&l)!==0&&(bd(s,r),El(r,null,null,l),xl()),m=s.memoizedState,p=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Bs(r,Ve,u)):(u=p.cache,Bs(r,Ve,u),u!==m.cache&&dd(r,[Ve],l,!0))),nn(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function os(s){s.flags|=4}function tg(s,r,l,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(x0())s.flags|=8192;else throw Wa=Ru,yd}else s.flags&=-16777217}function K_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!ub(r))if(x0())s.flags|=8192;else throw Wa=Ru,yd}function qu(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Wc():536870912,s.lanes|=r,ro|=r)}function Cl(s,r){if(!Ut)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function US(s,r,l){var u=r.pendingProps;switch(ld(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),is(Ve),de(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(Qr(r)?os(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,ud())),ue(r),null;case 26:var m=r.type,p=r.memoizedState;return s===null?(os(r),p!==null?(ue(r),K_(r,p)):(ue(r),tg(r,m,null,u,l))):p?p!==s.memoizedState?(os(r),ue(r),K_(r,p)):(ue(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&os(r),ue(r),tg(r,m,s,u,l)),null;case 27:if(Ar(r),l=Tt.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&os(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ue(r),null}s=ft.current,Qr(r)?Cy(r):(s=nb(m,u,l),r.stateNode=s,os(r))}return ue(r),null;case 5:if(Ar(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&os(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ue(r),null}if(p=ft.current,Qr(r))Cy(r);else{var x=ah(Tt.current);switch(p){case 1:p=x.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=x.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=x.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=x.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?x.createElement("select",{is:u.is}):x.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?x.createElement(m,{is:u.is}):x.createElement(m)}}p[Oe]=r,p[Qe]=u;t:for(x=r.child;x!==null;){if(x.tag===5||x.tag===6)p.appendChild(x.stateNode);else if(x.tag!==4&&x.tag!==27&&x.child!==null){x.child.return=x,x=x.child;continue}if(x===r)break t;for(;x.sibling===null;){if(x.return===null||x.return===r)break t;x=x.return}x.sibling.return=x.return,x=x.sibling}r.stateNode=p;t:switch(sn(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&os(r)}}return ue(r),tg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&os(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=Tt.current,Qr(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,m=tn,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Oe]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||G0(s.nodeValue,l)),s||js(r,!0)}else s=ah(s).createTextNode(u),s[Oe]=r,r.stateNode=s}return ue(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=Qr(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Oe]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),s=!1}else l=ud(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(Vn(r),r):(Vn(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ue(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Qr(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Oe]=r}else Ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),m=!1}else m=ud(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(Vn(r),r):(Vn(r),null)}return Vn(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),qu(r,r.updateQueue),ue(r),null);case 4:return de(),s===null&&Eg(r.stateNode.containerInfo),ue(r),null;case 10:return is(r.type),ue(r),null;case 19:if(tt(Ae),u=r.memoizedState,u===null)return ue(r),null;if(m=(r.flags&128)!==0,p=u.rendering,p===null)if(m)Cl(u,!1);else{if(xe!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=Ou(s),p!==null){for(r.flags|=128,Cl(u,!1),s=p.updateQueue,r.updateQueue=s,qu(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)Ty(l,s),l=l.sibling;return lt(Ae,Ae.current&1|2),Ut&&es(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&pn()>Ku&&(r.flags|=128,m=!0,Cl(u,!1),r.lanes=4194304)}else{if(!m)if(s=Ou(p),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,qu(r,s),Cl(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ut)return ue(r),null}else 2*pn()-u.renderingStartTime>Ku&&l!==536870912&&(r.flags|=128,m=!0,Cl(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=pn(),s.sibling=null,l=Ae.current,lt(Ae,m?l&1|2:l&1),Ut&&es(r,u.treeForkCount),s):(ue(r),null);case 22:case 23:return Vn(r),Td(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),l=r.updateQueue,l!==null&&qu(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&tt(Xa),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),is(Ve),ue(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function HS(s,r){switch(ld(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return is(Ve),de(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ar(r),null;case 31:if(r.memoizedState!==null){if(Vn(r),r.alternate===null)throw Error(i(340));Ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(Vn(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));Ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return tt(Ae),null;case 4:return de(),null;case 10:return is(r.type),null;case 22:case 23:return Vn(r),Td(),s!==null&&tt(Xa),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return is(Ve),null;case 25:return null;default:return null}}function W_(s,r){switch(ld(r),r.tag){case 3:is(Ve),de();break;case 26:case 27:case 5:Ar(r);break;case 4:de();break;case 31:r.memoizedState!==null&&Vn(r);break;case 13:Vn(r);break;case 19:tt(Ae);break;case 10:is(r.type);break;case 22:case 23:Vn(r),Td(),s!==null&&tt(Xa);break;case 24:is(Ve)}}function Ml(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,x=l.inst;u=p(),x.destroy=u}l=l.next}while(l!==m)}}catch(S){te(r,r.return,S)}}function Ys(s,r,l){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var x=u.inst,S=x.destroy;if(S!==void 0){x.destroy=void 0,m=r;var k=l,Y=S;try{Y()}catch(J){te(m,k,J)}}}u=u.next}while(u!==p)}}catch(J){te(r,r.return,J)}}function $_(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{Uy(r,l)}catch(u){te(s,s.return,u)}}}function Z_(s,r,l){l.props=Ja(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){te(s,r,u)}}function Dl(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){te(s,r,m)}}function zi(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){te(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){te(s,r,m)}else l.current=null}function J_(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){te(s,s.return,m)}}function eg(s,r,l){try{var u=s.stateNode;uA(u,s.type,l,r),u[Qe]=r}catch(m){te(s,s.return,m)}}function t0(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Js(s.type)||s.tag===4}function ng(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||t0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Js(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function ig(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ai));else if(u!==4&&(u===27&&Js(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for(ig(s,r,l),s=s.sibling;s!==null;)ig(s,r,l),s=s.sibling}function Gu(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&Js(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Gu(s,r,l),s=s.sibling;s!==null;)Gu(s,r,l),s=s.sibling}function e0(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);sn(r,u,l),r[Oe]=s,r[Qe]=l}catch(p){te(s,s.return,p)}}var ls=!1,Pe=!1,sg=!1,n0=typeof WeakSet=="function"?WeakSet:Set,Ke=null;function FS(s,r){if(s=s.containerInfo,Ag=fh,s=gy(s),$f(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var x=0,S=-1,k=-1,Y=0,J=0,it=s,Q=null;e:for(;;){for(var W;it!==l||m!==0&&it.nodeType!==3||(S=x+m),it!==p||u!==0&&it.nodeType!==3||(k=x+u),it.nodeType===3&&(x+=it.nodeValue.length),(W=it.firstChild)!==null;)Q=it,it=W;for(;;){if(it===s)break e;if(Q===l&&++Y===m&&(S=x),Q===p&&++J===u&&(k=x),(W=it.nextSibling)!==null)break;it=Q,Q=it.parentNode}it=W}l=S===-1||k===-1?null:{start:S,end:k}}else l=null}l=l||{start:0,end:0}}else l=null;for(wg={focusedElem:s,selectionRange:l},fh=!1,Ke=r;Ke!==null;)if(r=Ke,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ke=s;else for(;Ke!==null;){switch(r=Ke,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var mt=Ja(l.type,m);s=u.getSnapshotBeforeUpdate(mt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(Et){te(l,l.return,Et)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)Mg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Mg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ke=s;break}Ke=r.return}}function i0(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:us(s,l),u&4&&Ml(5,l);break;case 1:if(us(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(x){te(l,l.return,x)}else{var m=Ja(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(x){te(l,l.return,x)}}u&64&&$_(l),u&512&&Dl(l,l.return);break;case 3:if(us(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{Uy(s,r)}catch(x){te(l,l.return,x)}}break;case 27:r===null&&u&4&&e0(l);case 26:case 5:us(s,l),r===null&&u&4&&J_(l),u&512&&Dl(l,l.return);break;case 12:us(s,l);break;case 31:us(s,l),u&4&&r0(s,l);break;case 13:us(s,l),u&4&&o0(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=ZS.bind(null,l),_A(s,l))));break;case 22:if(u=l.memoizedState!==null||ls,!u){r=r!==null&&r.memoizedState!==null||Pe,m=ls;var p=Pe;ls=u,(Pe=r)&&!p?hs(s,l,(l.subtreeFlags&8772)!==0):us(s,l),ls=m,Pe=p}break;case 30:break;default:us(s,l)}}function s0(s){var r=s.alternate;r!==null&&(s.alternate=null,s0(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Dr(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,xn=!1;function cs(s,r,l){for(l=l.child;l!==null;)a0(s,r,l),l=l.sibling}function a0(s,r,l){if(Ze&&typeof Ze.onCommitFiberUnmount=="function")try{Ze.onCommitFiberUnmount(ei,l)}catch{}switch(l.tag){case 26:Pe||zi(l,r),cs(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Pe||zi(l,r);var u=me,m=xn;Js(l.type)&&(me=l.stateNode,xn=!1),cs(s,r,l),jl(l.stateNode),me=u,xn=m;break;case 5:Pe||zi(l,r);case 6:if(u=me,m=xn,me=null,cs(s,r,l),me=u,xn=m,me!==null)if(xn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(p){te(l,r,p)}else try{me.removeChild(l.stateNode)}catch(p){te(l,r,p)}break;case 18:me!==null&&(xn?(s=me,$0(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),mo(s)):$0(me,l.stateNode));break;case 4:u=me,m=xn,me=l.stateNode.containerInfo,xn=!0,cs(s,r,l),me=u,xn=m;break;case 0:case 11:case 14:case 15:Ys(2,l,r),Pe||Ys(4,l,r),cs(s,r,l);break;case 1:Pe||(zi(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&Z_(l,r,u)),cs(s,r,l);break;case 21:cs(s,r,l);break;case 22:Pe=(u=Pe)||l.memoizedState!==null,cs(s,r,l),Pe=u;break;default:cs(s,r,l)}}function r0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{mo(s)}catch(l){te(r,r.return,l)}}}function o0(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{mo(s)}catch(l){te(r,r.return,l)}}function qS(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new n0),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new n0),r;default:throw Error(i(435,s.tag))}}function Yu(s,r){var l=qS(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var m=JS.bind(null,s,u);u.then(m,m)}})}function En(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,x=r,S=x;t:for(;S!==null;){switch(S.tag){case 27:if(Js(S.type)){me=S.stateNode,xn=!1;break t}break;case 5:me=S.stateNode,xn=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,xn=!0;break t}S=S.return}if(me===null)throw Error(i(160));a0(p,x,m),me=null,xn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)l0(r,s),r=r.sibling}var hi=null;function l0(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:En(r,s),Tn(s),u&4&&(Ys(3,s,s.return),Ml(3,s),Ys(5,s,s.return));break;case 1:En(r,s),Tn(s),u&512&&(Pe||l===null||zi(l,l.return)),u&64&&ls&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=hi;if(En(r,s),Tn(s),u&512&&(Pe||l===null||zi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Si]||p[Oe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),sn(p,u,l),p[Oe]=s,Ne(p),u=p;break t;case"link":var x=lb("link","href",m).get(u+(l.href||""));if(x){for(var S=0;S<x.length;S++)if(p=x[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){x.splice(S,1);break e}}p=m.createElement(u),sn(p,u,l),m.head.appendChild(p);break;case"meta":if(x=lb("meta","content",m).get(u+(l.content||""))){for(S=0;S<x.length;S++)if(p=x[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){x.splice(S,1);break e}}p=m.createElement(u),sn(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[Oe]=s,Ne(p),u=p}s.stateNode=u}else cb(m,s.type,s.stateNode);else s.stateNode=ob(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?cb(m,s.type,s.stateNode):ob(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&eg(s,s.memoizedProps,l.memoizedProps)}break;case 27:En(r,s),Tn(s),u&512&&(Pe||l===null||zi(l,l.return)),l!==null&&u&4&&eg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(En(r,s),Tn(s),u&512&&(Pe||l===null||zi(l,l.return)),s.flags&32){m=s.stateNode;try{vn(m,"")}catch(mt){te(s,s.return,mt)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,eg(s,m,l!==null?l.memoizedProps:m)),u&1024&&(sg=!0);break;case 6:if(En(r,s),Tn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(mt){te(s,s.return,mt)}}break;case 3:if(lh=null,m=hi,hi=rh(r.containerInfo),En(r,s),hi=m,Tn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{mo(r.containerInfo)}catch(mt){te(s,s.return,mt)}sg&&(sg=!1,c0(s));break;case 4:u=hi,hi=rh(s.stateNode.containerInfo),En(r,s),Tn(s),hi=u;break;case 12:En(r,s),Tn(s);break;case 31:En(r,s),Tn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yu(s,u)));break;case 13:En(r,s),Tn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Xu=pn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yu(s,u)));break;case 22:m=s.memoizedState!==null;var k=l!==null&&l.memoizedState!==null,Y=ls,J=Pe;if(ls=Y||m,Pe=J||k,En(r,s),Pe=J,ls=Y,Tn(s),u&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||k||ls||Pe||tr(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){k=l=r;try{if(p=k.stateNode,m)x=p.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{S=k.stateNode;var it=k.memoizedProps.style,Q=it!=null&&it.hasOwnProperty("display")?it.display:null;S.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(mt){te(k,k.return,mt)}}}else if(r.tag===6){if(l===null){k=r;try{k.stateNode.nodeValue=m?"":k.memoizedProps}catch(mt){te(k,k.return,mt)}}}else if(r.tag===18){if(l===null){k=r;try{var W=k.stateNode;m?Z0(W,!0):Z0(k.stateNode,!1)}catch(mt){te(k,k.return,mt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Yu(s,l))));break;case 19:En(r,s),Tn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Yu(s,u)));break;case 30:break;case 21:break;default:En(r,s),Tn(s)}}function Tn(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(t0(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=ng(s);Gu(s,p,m);break;case 5:var x=l.stateNode;l.flags&32&&(vn(x,""),l.flags&=-33);var S=ng(s);Gu(s,S,x);break;case 3:case 4:var k=l.stateNode.containerInfo,Y=ng(s);ig(s,Y,k);break;default:throw Error(i(161))}}catch(J){te(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function c0(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;c0(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function us(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)i0(s,r.alternate,r),r=r.sibling}function tr(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:Ys(4,r,r.return),tr(r);break;case 1:zi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&Z_(r,r.return,l),tr(r);break;case 27:jl(r.stateNode);case 26:case 5:zi(r,r.return),tr(r);break;case 22:r.memoizedState===null&&tr(r);break;case 30:tr(r);break;default:tr(r)}s=s.sibling}}function hs(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,p=r,x=p.flags;switch(p.tag){case 0:case 11:case 15:hs(m,p,l),Ml(4,p);break;case 1:if(hs(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Y){te(u,u.return,Y)}if(u=p,m=u.updateQueue,m!==null){var S=u.stateNode;try{var k=m.shared.hiddenCallbacks;if(k!==null)for(m.shared.hiddenCallbacks=null,m=0;m<k.length;m++)By(k[m],S)}catch(Y){te(u,u.return,Y)}}l&&x&64&&$_(p),Dl(p,p.return);break;case 27:e0(p);case 26:case 5:hs(m,p,l),l&&u===null&&x&4&&J_(p),Dl(p,p.return);break;case 12:hs(m,p,l);break;case 31:hs(m,p,l),l&&x&4&&r0(m,p);break;case 13:hs(m,p,l),l&&x&4&&o0(m,p);break;case 22:p.memoizedState===null&&hs(m,p,l),Dl(p,p.return);break;case 30:break;default:hs(m,p,l)}r=r.sibling}}function ag(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&pl(l))}function rg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&pl(s))}function fi(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)u0(s,r,l,u),r=r.sibling}function u0(s,r,l,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:fi(s,r,l,u),m&2048&&Ml(9,r);break;case 1:fi(s,r,l,u);break;case 3:fi(s,r,l,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&pl(s)));break;case 12:if(m&2048){fi(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,x=p.id,S=p.onPostCommit;typeof S=="function"&&S(x,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(k){te(r,r.return,k)}}else fi(s,r,l,u);break;case 31:fi(s,r,l,u);break;case 13:fi(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,x=r.alternate,r.memoizedState!==null?p._visibility&2?fi(s,r,l,u):Ol(s,r):p._visibility&2?fi(s,r,l,u):(p._visibility|=2,io(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&ag(x,r);break;case 24:fi(s,r,l,u),m&2048&&rg(r.alternate,r);break;default:fi(s,r,l,u)}}function io(s,r,l,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,x=r,S=l,k=u,Y=x.flags;switch(x.tag){case 0:case 11:case 15:io(p,x,S,k,m),Ml(8,x);break;case 23:break;case 22:var J=x.stateNode;x.memoizedState!==null?J._visibility&2?io(p,x,S,k,m):Ol(p,x):(J._visibility|=2,io(p,x,S,k,m)),m&&Y&2048&&ag(x.alternate,x);break;case 24:io(p,x,S,k,m),m&&Y&2048&&rg(x.alternate,x);break;default:io(p,x,S,k,m)}r=r.sibling}}function Ol(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,m=u.flags;switch(u.tag){case 22:Ol(l,u),m&2048&&ag(u.alternate,u);break;case 24:Ol(l,u),m&2048&&rg(u.alternate,u);break;default:Ol(l,u)}r=r.sibling}}var Nl=8192;function so(s,r,l){if(s.subtreeFlags&Nl)for(s=s.child;s!==null;)h0(s,r,l),s=s.sibling}function h0(s,r,l){switch(s.tag){case 26:so(s,r,l),s.flags&Nl&&s.memoizedState!==null&&DA(l,hi,s.memoizedState,s.memoizedProps);break;case 5:so(s,r,l);break;case 3:case 4:var u=hi;hi=rh(s.stateNode.containerInfo),so(s,r,l),hi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=Nl,Nl=16777216,so(s,r,l),Nl=u):so(s,r,l));break;default:so(s,r,l)}}function f0(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function Il(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ke=u,g0(u,s)}f0(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)d0(s),s=s.sibling}function d0(s){switch(s.tag){case 0:case 11:case 15:Il(s),s.flags&2048&&Ys(9,s,s.return);break;case 3:Il(s);break;case 12:Il(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Qu(s)):Il(s);break;default:Il(s)}}function Qu(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ke=u,g0(u,s)}f0(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:Ys(8,r,r.return),Qu(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Qu(r));break;default:Qu(r)}s=s.sibling}}function g0(s,r){for(;Ke!==null;){var l=Ke;switch(l.tag){case 0:case 11:case 15:Ys(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:pl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ke=u;else t:for(l=s;Ke!==null;){u=Ke;var m=u.sibling,p=u.return;if(s0(u),u===l){Ke=null;break t}if(m!==null){m.return=p,Ke=m;break t}Ke=p}}}var GS={getCacheForType:function(s){var r=en(Ve),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return en(Ve).controller.signal}},YS=typeof WeakMap=="function"?WeakMap:Map,Kt=0,re=null,It=null,Lt=0,Jt=0,kn=null,Qs=!1,ao=!1,og=!1,fs=0,xe=0,Xs=0,er=0,lg=0,Ln=0,ro=0,Vl=null,Sn=null,cg=!1,Xu=0,m0=0,Ku=1/0,Wu=null,Ks=null,Fe=0,Ws=null,oo=null,ds=0,ug=0,hg=null,p0=null,kl=0,fg=null;function Pn(){return(Kt&2)!==0&&Lt!==0?Lt&-Lt:F.T!==null?_g():$c()}function y0(){if(Ln===0)if((Lt&536870912)===0||Ut){var s=Ca;Ca<<=1,(Ca&3932160)===0&&(Ca=262144),Ln=s}else Ln=536870912;return s=In.current,s!==null&&(s.flags|=32),Ln}function An(s,r,l){(s===re&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)&&(lo(s,0),$s(s,Lt,Ln,!1)),Ma(s,l),((Kt&2)===0||s!==re)&&(s===re&&((Kt&2)===0&&(er|=l),xe===4&&$s(s,Lt,Ln,!1)),ji(s))}function _0(s,r,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||ni(s,r),m=u?KS(s,r):gg(s,r,!0),p=u;do{if(m===0){ao&&!u&&$s(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!QS(l)){m=gg(s,r,!1),p=!1;continue}if(m===2){if(p=r,s.errorRecoveryDisabledLanes&p)var x=0;else x=s.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){r=x;t:{var S=s;m=Vl;var k=S.current.memoizedState.isDehydrated;if(k&&(lo(S,x).flags|=256),x=gg(S,x,!1),x!==2){if(og&&!k){S.errorRecoveryDisabledLanes|=p,er|=p,m=4;break t}p=Sn,Sn=m,p!==null&&(Sn===null?Sn=p:Sn.push.apply(Sn,p))}m=x}if(p=!1,m!==2)continue}}if(m===1){lo(s,0),$s(s,r,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:$s(u,r,Ln,!Qs);break t;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Xu+300-pn(),10<m)){if($s(u,r,Ln,!Qs),xi(u,0,!0)!==0)break t;ds=r,u.timeoutHandle=K0(b0.bind(null,u,l,Sn,Wu,cg,r,Ln,er,ro,Qs,p,"Throttled",-0,0),m);break t}b0(u,l,Sn,Wu,cg,r,Ln,er,ro,Qs,p,null,-0,0)}}break}while(!0);ji(s)}function b0(s,r,l,u,m,p,x,S,k,Y,J,it,Q,W){if(s.timeoutHandle=-1,it=r.subtreeFlags,it&8192||(it&16785408)===16785408){it={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ai},h0(r,p,it);var mt=(p&62914560)===p?Xu-pn():(p&4194048)===p?m0-pn():0;if(mt=OA(it,mt),mt!==null){ds=p,s.cancelPendingCommit=mt(R0.bind(null,s,r,p,l,u,m,x,S,k,J,it,null,Q,W)),$s(s,p,x,!Y);return}}R0(s,r,p,l,u,m,x,S,k)}function QS(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!On(p(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function $s(s,r,l,u){r&=~lg,r&=~er,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var p=31-Te(m),x=1<<p;u[p]=-1,m&=~x}l!==0&&Da(s,l,r)}function $u(){return(Kt&6)===0?(Ll(0),!1):!0}function dg(){if(It!==null){if(Jt===0)var s=It.return;else s=It,ns=Ya=null,Md(s),Zr=null,_l=0,s=It;for(;s!==null;)W_(s.alternate,s),s=s.return;It=null}}function lo(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,dA(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),ds=0,dg(),re=s,It=l=ts(s.current,null),Lt=r,Jt=0,kn=null,Qs=!1,ao=ni(s,r),og=!1,ro=Ln=lg=er=Xs=xe=0,Sn=Vl=null,cg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-Te(u),p=1<<m;r|=s[m],u&=~p}return fs=r,_u(),l}function v0(s,r){Dt=null,F.H=wl,r===$r||r===wu?(r=Ly(),Jt=3):r===yd?(r=Ly(),Jt=4):Jt=r===Gd?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,kn=r,It===null&&(xe=1,Bu(s,Gn(r,s.current)))}function x0(){var s=In.current;return s===null?!0:(Lt&4194048)===Lt?Kn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===Kn:!1}function E0(){var s=F.H;return F.H=wl,s===null?wl:s}function T0(){var s=F.A;return F.A=GS,s}function Zu(){xe=4,Qs||(Lt&4194048)!==Lt&&In.current!==null||(ao=!0),(Xs&134217727)===0&&(er&134217727)===0||re===null||$s(re,Lt,Ln,!1)}function gg(s,r,l){var u=Kt;Kt|=2;var m=E0(),p=T0();(re!==s||Lt!==r)&&(Wu=null,lo(s,r)),r=!1;var x=xe;t:do try{if(Jt!==0&&It!==null){var S=It,k=kn;switch(Jt){case 8:dg(),x=6;break t;case 3:case 2:case 9:case 6:In.current===null&&(r=!0);var Y=Jt;if(Jt=0,kn=null,co(s,S,k,Y),l&&ao){x=0;break t}break;default:Y=Jt,Jt=0,kn=null,co(s,S,k,Y)}}XS(),x=xe;break}catch(J){v0(s,J)}while(!0);return r&&s.shellSuspendCounter++,ns=Ya=null,Kt=u,F.H=m,F.A=p,It===null&&(re=null,Lt=0,_u()),x}function XS(){for(;It!==null;)S0(It)}function KS(s,r){var l=Kt;Kt|=2;var u=E0(),m=T0();re!==s||Lt!==r?(Wu=null,Ku=pn()+500,lo(s,r)):ao=ni(s,r);t:do try{if(Jt!==0&&It!==null){r=It;var p=kn;e:switch(Jt){case 1:Jt=0,kn=null,co(s,r,p,1);break;case 2:case 9:if(Vy(p)){Jt=0,kn=null,A0(r);break}r=function(){Jt!==2&&Jt!==9||re!==s||(Jt=7),ji(s)},p.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:Vy(p)?(Jt=0,kn=null,A0(r)):(Jt=0,kn=null,co(s,r,p,7));break;case 5:var x=null;switch(It.tag){case 26:x=It.memoizedState;case 5:case 27:var S=It;if(x?ub(x):S.stateNode.complete){Jt=0,kn=null;var k=S.sibling;if(k!==null)It=k;else{var Y=S.return;Y!==null?(It=Y,Ju(Y)):It=null}break e}}Jt=0,kn=null,co(s,r,p,5);break;case 6:Jt=0,kn=null,co(s,r,p,6);break;case 8:dg(),xe=6;break t;default:throw Error(i(462))}}WS();break}catch(J){v0(s,J)}while(!0);return ns=Ya=null,F.H=u,F.A=m,Kt=l,It!==null?0:(re=null,Lt=0,_u(),xe)}function WS(){for(;It!==null&&!qf();)S0(It)}function S0(s){var r=X_(s.alternate,s,fs);s.memoizedProps=s.pendingProps,r===null?Ju(s):It=r}function A0(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=H_(l,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=H_(l,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:Md(r);default:W_(l,r),r=It=Ty(r,fs),r=X_(l,r,fs)}s.memoizedProps=s.pendingProps,r===null?Ju(s):It=r}function co(s,r,l,u){ns=Ya=null,Md(r),Zr=null,_l=0;var m=r.return;try{if(zS(s,m,r,l,Lt)){xe=1,Bu(s,Gn(l,s.current)),It=null;return}}catch(p){if(m!==null)throw It=m,p;xe=1,Bu(s,Gn(l,s.current)),It=null;return}r.flags&32768?(Ut||u===1?s=!0:ao||(Lt&536870912)!==0?s=!1:(Qs=s=!0,(u===2||u===9||u===3||u===6)&&(u=In.current,u!==null&&u.tag===13&&(u.flags|=16384))),w0(r,s)):Ju(r)}function Ju(s){var r=s;do{if((r.flags&32768)!==0){w0(r,Qs);return}s=r.return;var l=US(r.alternate,r,fs);if(l!==null){It=l;return}if(r=r.sibling,r!==null){It=r;return}It=r=s}while(r!==null);xe===0&&(xe=5)}function w0(s,r){do{var l=HS(s.alternate,s);if(l!==null){l.flags&=32767,It=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){It=s;return}It=s=l}while(s!==null);xe=6,It=null}function R0(s,r,l,u,m,p,x,S,k){s.cancelPendingCommit=null;do th();while(Fe!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=nd,Qf(s,l,p,x,S,k),s===re&&(It=re=null,Lt=0),oo=r,Ws=s,ds=l,ug=p,hg=m,p0=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,tA(Rs,function(){return N0(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,m=st.p,st.p=2,x=Kt,Kt|=4;try{FS(s,r,l)}finally{Kt=x,st.p=m,F.T=u}}Fe=1,C0(),M0(),D0()}}function C0(){if(Fe===1){Fe=0;var s=Ws,r=oo,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var u=st.p;st.p=2;var m=Kt;Kt|=4;try{l0(r,s);var p=wg,x=gy(s.containerInfo),S=p.focusedElem,k=p.selectionRange;if(x!==S&&S&&S.ownerDocument&&dy(S.ownerDocument.documentElement,S)){if(k!==null&&$f(S)){var Y=k.start,J=k.end;if(J===void 0&&(J=Y),"selectionStart"in S)S.selectionStart=Y,S.selectionEnd=Math.min(J,S.value.length);else{var it=S.ownerDocument||document,Q=it&&it.defaultView||window;if(Q.getSelection){var W=Q.getSelection(),mt=S.textContent.length,Et=Math.min(k.start,mt),ae=k.end===void 0?Et:Math.min(k.end,mt);!W.extend&&Et>ae&&(x=ae,ae=Et,Et=x);var H=fy(S,Et),B=fy(S,ae);if(H&&B&&(W.rangeCount!==1||W.anchorNode!==H.node||W.anchorOffset!==H.offset||W.focusNode!==B.node||W.focusOffset!==B.offset)){var G=it.createRange();G.setStart(H.node,H.offset),W.removeAllRanges(),Et>ae?(W.addRange(G),W.extend(B.node,B.offset)):(G.setEnd(B.node,B.offset),W.addRange(G))}}}}for(it=[],W=S;W=W.parentNode;)W.nodeType===1&&it.push({element:W,left:W.scrollLeft,top:W.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<it.length;S++){var et=it[S];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}fh=!!Ag,wg=Ag=null}finally{Kt=m,st.p=u,F.T=l}}s.current=r,Fe=2}}function M0(){if(Fe===2){Fe=0;var s=Ws,r=oo,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var u=st.p;st.p=2;var m=Kt;Kt|=4;try{i0(s,r.alternate,r)}finally{Kt=m,st.p=u,F.T=l}}Fe=3}}function D0(){if(Fe===4||Fe===3){Fe=0,qc();var s=Ws,r=oo,l=ds,u=p0;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Fe=5:(Fe=0,oo=Ws=null,O0(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(Ks=null),Wi(l),r=r.stateNode,Ze&&typeof Ze.onCommitFiberRoot=="function")try{Ze.onCommitFiberRoot(ei,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=F.T,m=st.p,st.p=2,F.T=null;try{for(var p=s.onRecoverableError,x=0;x<u.length;x++){var S=u[x];p(S.value,{componentStack:S.stack})}}finally{F.T=r,st.p=m}}(ds&3)!==0&&th(),ji(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===fg?kl++:(kl=0,fg=s):kl=0,Ll(0)}}function O0(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,pl(r)))}function th(){return C0(),M0(),D0(),N0()}function N0(){if(Fe!==5)return!1;var s=Ws,r=ug;ug=0;var l=Wi(ds),u=F.T,m=st.p;try{st.p=32>l?32:l,F.T=null,l=hg,hg=null;var p=Ws,x=ds;if(Fe=0,oo=Ws=null,ds=0,(Kt&6)!==0)throw Error(i(331));var S=Kt;if(Kt|=4,d0(p.current),u0(p,p.current,x,l),Kt=S,Ll(0,!1),Ze&&typeof Ze.onPostCommitFiberRoot=="function")try{Ze.onPostCommitFiberRoot(ei,p)}catch{}return!0}finally{st.p=m,F.T=u,O0(s,r)}}function I0(s,r,l){r=Gn(l,r),r=qd(s.stateNode,r,2),s=Fs(s,r,2),s!==null&&(Ma(s,2),ji(s))}function te(s,r,l){if(s.tag===3)I0(s,s,l);else for(;r!==null;){if(r.tag===3){I0(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ks===null||!Ks.has(u))){s=Gn(l,s),l=V_(2),u=Fs(r,l,2),u!==null&&(k_(l,u,r,s),Ma(u,2),ji(u));break}}r=r.return}}function mg(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new YS;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(l)||(og=!0,m.add(l),s=$S.bind(null,s,r,l),r.then(s,s))}function $S(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,re===s&&(Lt&l)===l&&(xe===4||xe===3&&(Lt&62914560)===Lt&&300>pn()-Xu?(Kt&2)===0&&lo(s,0):lg|=l,ro===Lt&&(ro=0)),ji(s)}function V0(s,r){r===0&&(r=Wc()),s=Fa(s,r),s!==null&&(Ma(s,r),ji(s))}function ZS(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),V0(s,l)}function JS(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),V0(s,l)}function tA(s,r){return He(s,r)}var eh=null,uo=null,pg=!1,nh=!1,yg=!1,Zs=0;function ji(s){s!==uo&&s.next===null&&(uo===null?eh=uo=s:uo=uo.next=s),nh=!0,pg||(pg=!0,nA())}function Ll(s,r){if(!yg&&nh){yg=!0;do for(var l=!1,u=eh;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var x=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-Te(42|s)+1)-1,p&=m&~(x&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,z0(u,p))}else p=Lt,p=xi(u,u===re?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||ni(u,p)||(l=!0,z0(u,p));u=u.next}while(l);yg=!1}}function eA(){k0()}function k0(){nh=pg=!1;var s=0;Zs!==0&&fA()&&(s=Zs);for(var r=pn(),l=null,u=eh;u!==null;){var m=u.next,p=L0(u,r);p===0?(u.next=null,l===null?eh=m:l.next=m,m===null&&(uo=l)):(l=u,(s!==0||(p&3)!==0)&&(nh=!0)),u=m}Fe!==0&&Fe!==5||Ll(s),Zs!==0&&(Zs=0)}function L0(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var x=31-Te(p),S=1<<x,k=m[x];k===-1?((S&l)===0||(S&u)!==0)&&(m[x]=Yf(S,r)):k<=r&&(s.expiredLanes|=S),p&=~S}if(r=re,l=Lt,l=xi(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&ws(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||ni(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&ws(u),Wi(l)){case 2:case 8:l=Yo;break;case 32:l=Rs;break;case 268435456:l=Gc;break;default:l=Rs}return u=P0.bind(null,s),l=He(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&ws(u),s.callbackPriority=2,s.callbackNode=null,2}function P0(s,r){if(Fe!==0&&Fe!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(th()&&s.callbackNode!==l)return null;var u=Lt;return u=xi(s,s===re?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(_0(s,u,r),L0(s,pn()),s.callbackNode!=null&&s.callbackNode===l?P0.bind(null,s):null)}function z0(s,r){if(th())return null;_0(s,r,!0)}function nA(){gA(function(){(Kt&6)!==0?He(Go,eA):k0()})}function _g(){if(Zs===0){var s=Kr;s===0&&(s=bi,bi<<=1,(bi&261888)===0&&(bi=256)),Zs=s}return Zs}function j0(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Vr(""+s)}function B0(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function iA(s,r,l,u,m){if(r==="submit"&&l&&l.stateNode===m){var p=j0((m[Qe]||null).action),x=u.submitter;x&&(r=(r=x[Qe]||null)?j0(r.formAction):x.getAttribute("formAction"),r!==null&&(p=r,x=null));var S=new Ni("action","action",null,u,m);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Zs!==0){var k=x?B0(m,x):new FormData(m);zd(l,{pending:!0,data:k,method:m.method,action:p},null,k)}}else typeof p=="function"&&(S.preventDefault(),k=x?B0(m,x):new FormData(m),zd(l,{pending:!0,data:k,method:m.method,action:p},p,k))},currentTarget:m}]})}}for(var bg=0;bg<ed.length;bg++){var vg=ed[bg],sA=vg.toLowerCase(),aA=vg[0].toUpperCase()+vg.slice(1);ui(sA,"on"+aA)}ui(yy,"onAnimationEnd"),ui(_y,"onAnimationIteration"),ui(by,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(xS,"onTransitionRun"),ui(ES,"onTransitionStart"),ui(TS,"onTransitionCancel"),ui(vy,"onTransitionEnd"),Ci("onMouseEnter",["mouseout","mouseover"]),Ci("onMouseLeave",["mouseout","mouseover"]),Ci("onPointerEnter",["pointerout","pointerover"]),Ci("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Pl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Pl));function U0(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var x=u.length-1;0<=x;x--){var S=u[x],k=S.instance,Y=S.currentTarget;if(S=S.listener,k!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=Y;try{p(m)}catch(J){yu(J)}m.currentTarget=null,p=k}else for(x=0;x<u.length;x++){if(S=u[x],k=S.instance,Y=S.currentTarget,S=S.listener,k!==p&&m.isPropagationStopped())break t;p=S,m.currentTarget=Y;try{p(m)}catch(J){yu(J)}m.currentTarget=null,p=k}}}}function Vt(s,r){var l=r[Mr];l===void 0&&(l=r[Mr]=new Set);var u=s+"__bubble";l.has(u)||(H0(r,s,2,!1),l.add(u))}function xg(s,r,l){var u=0;r&&(u|=4),H0(l,s,u,r)}var ih="_reactListening"+Math.random().toString(36).slice(2);function Eg(s){if(!s[ih]){s[ih]=!0,Ko.forEach(function(l){l!=="selectionchange"&&(rA.has(l)||xg(l,!1,s),xg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[ih]||(r[ih]=!0,xg("selectionchange",!1,r))}}function H0(s,r,l,u){switch(yb(r)){case 2:var m=VA;break;case 8:m=kA;break;default:m=Pg}l=m.bind(null,r,l,s),m=void 0,!ka||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,l,{capture:!0,passive:m}):s.addEventListener(r,l,!0):m!==void 0?s.addEventListener(r,l,{passive:m}):s.addEventListener(r,l,!1)}function Tg(s,r,l,u,m){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var x=u.tag;if(x===3||x===4){var S=u.stateNode.containerInfo;if(S===m)break;if(x===4)for(x=u.return;x!==null;){var k=x.tag;if((k===3||k===4)&&x.stateNode.containerInfo===m)return;x=x.return}for(;S!==null;){if(x=Ai(S),x===null)return;if(k=x.tag,k===5||k===6||k===26||k===27){u=p=x;continue t}S=S.parentNode}}u=u.return}Is(function(){var Y=p,J=Un(l),it=[];t:{var Q=xy.get(s);if(Q!==void 0){var W=Ni,mt=s;switch(s){case"keypress":if(Pa(l)===0)break t;case"keydown":case"keyup":W=gu;break;case"focusin":mt="focus",W=ja;break;case"focusout":mt="blur",W=ja;break;case"beforeblur":case"afterblur":W=ja;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":W=ll;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":W=au;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":W=b;break;case yy:case _y:case by:W=ou;break;case vy:W=R;break;case"scroll":case"scrollend":W=ol;break;case"wheel":W=K;break;case"copy":case"cut":case"paste":W=lu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":W=Ji;break;case"toggle":case"beforetoggle":W=Mt}var Et=(r&4)!==0,ae=!Et&&(s==="scroll"||s==="scrollend"),H=Et?Q!==null?Q+"Capture":null:Q;Et=[];for(var B=Y,G;B!==null;){var et=B;if(G=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||G===null||H===null||(et=ri(B,H),et!=null&&Et.push(zl(B,et,G))),ae)break;B=B.return}0<Et.length&&(Q=new W(Q,mt,null,l,J),it.push({event:Q,listeners:Et}))}}if((r&7)===0){t:{if(Q=s==="mouseover"||s==="pointerover",W=s==="mouseout"||s==="pointerout",Q&&l!==sl&&(mt=l.relatedTarget||l.fromElement)&&(Ai(mt)||mt[Ti]))break t;if((W||Q)&&(Q=J.window===J?J:(Q=J.ownerDocument)?Q.defaultView||Q.parentWindow:window,W?(mt=l.relatedTarget||l.toElement,W=Y,mt=mt?Ai(mt):null,mt!==null&&(ae=o(mt),Et=mt.tag,mt!==ae||Et!==5&&Et!==27&&Et!==6)&&(mt=null)):(W=null,mt=Y),W!==mt)){if(Et=ll,et="onMouseLeave",H="onMouseEnter",B="mouse",(s==="pointerout"||s==="pointerover")&&(Et=Ji,et="onPointerLeave",H="onPointerEnter",B="pointer"),ae=W==null?Q:Mn(W),G=mt==null?Q:Mn(mt),Q=new Et(et,B+"leave",W,l,J),Q.target=ae,Q.relatedTarget=G,et=null,Ai(J)===Y&&(Et=new Et(H,B+"enter",mt,l,J),Et.target=G,Et.relatedTarget=ae,et=Et),ae=et,W&&mt)e:{for(Et=oA,H=W,B=mt,G=0,et=H;et;et=Et(et))G++;et=0;for(var bt=B;bt;bt=Et(bt))et++;for(;0<G-et;)H=Et(H),G--;for(;0<et-G;)B=Et(B),et--;for(;G--;){if(H===B||B!==null&&H===B.alternate){Et=H;break e}H=Et(H),B=Et(B)}Et=null}else Et=null;W!==null&&F0(it,Q,W,Et,!1),mt!==null&&ae!==null&&F0(it,ae,mt,Et,!0)}}t:{if(Q=Y?Mn(Y):window,W=Q.nodeName&&Q.nodeName.toLowerCase(),W==="select"||W==="input"&&Q.type==="file")var Gt=ry;else if(sy(Q))if(oy)Gt=_S;else{Gt=pS;var pt=mS}else W=Q.nodeName,!W||W.toLowerCase()!=="input"||Q.type!=="checkbox"&&Q.type!=="radio"?Y&&Ir(Y.elementType)&&(Gt=ry):Gt=yS;if(Gt&&(Gt=Gt(s,Y))){ay(it,Gt,l,J);break t}pt&&pt(s,Q,Y),s==="focusout"&&Y&&Q.type==="number"&&Y.memoizedProps.value!=null&&el(Q,"number",Q.value)}switch(pt=Y?Mn(Y):window,s){case"focusin":(sy(pt)||pt.contentEditable==="true")&&(Ur=pt,Zf=Y,dl=null);break;case"focusout":dl=Zf=Ur=null;break;case"mousedown":Jf=!0;break;case"contextmenu":case"mouseup":case"dragend":Jf=!1,my(it,l,J);break;case"selectionchange":if(vS)break;case"keydown":case"keyup":my(it,l,J)}var Ot;if(Xt)t:{switch(s){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else Br?Ba(s,l)&&(Pt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pt="onCompositionStart");Pt&&(ki&&l.locale!=="ko"&&(Br||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&Br&&(Ot=rl()):(Oi=J,al="value"in Oi?Oi.value:Oi.textContent,Br=!0)),pt=sh(Y,Pt),0<pt.length&&(Pt=new Vi(Pt,s,null,l,J),it.push({event:Pt,listeners:pt}),Ot?Pt.data=Ot:(Ot=jr(l),Ot!==null&&(Pt.data=Ot)))),(Ot=Fn?hS(s,l):fS(s,l))&&(Pt=sh(Y,"onBeforeInput"),0<Pt.length&&(pt=new Vi("onBeforeInput","beforeinput",null,l,J),it.push({event:pt,listeners:Pt}),pt.data=Ot)),iA(it,s,Y,l,J)}U0(it,r)})}function zl(s,r,l){return{instance:s,listener:r,currentTarget:l}}function sh(s,r){for(var l=r+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=ri(s,l),m!=null&&u.unshift(zl(s,m,p)),m=ri(s,r),m!=null&&u.push(zl(s,m,p))),s.tag===3)return u;s=s.return}return[]}function oA(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function F0(s,r,l,u,m){for(var p=r._reactName,x=[];l!==null&&l!==u;){var S=l,k=S.alternate,Y=S.stateNode;if(S=S.tag,k!==null&&k===u)break;S!==5&&S!==26&&S!==27||Y===null||(k=Y,m?(Y=ri(l,p),Y!=null&&x.unshift(zl(l,Y,k))):m||(Y=ri(l,p),Y!=null&&x.push(zl(l,Y,k)))),l=l.return}x.length!==0&&s.push({event:r,listeners:x})}var lA=/\r\n?/g,cA=/\u0000|\uFFFD/g;function q0(s){return(typeof s=="string"?s:""+s).replace(lA,`
`).replace(cA,"")}function G0(s,r){return r=q0(r),q0(s)===r}function se(s,r,l,u,m,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||vn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&vn(s,""+u);break;case"className":Dn(s,"class",u);break;case"tabIndex":Dn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Dn(s,l,u);break;case"style":il(s,u,p);break;case"data":if(r!=="object"){Dn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Vr(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&se(s,r,"name",m.name,m,null),se(s,r,"formEncType",m.formEncType,m,null),se(s,r,"formMethod",m.formMethod,m,null),se(s,r,"formTarget",m.formTarget,m,null)):(se(s,r,"encType",m.encType,m,null),se(s,r,"method",m.method,m,null),se(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=Vr(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ai);break;case"onScroll":u!=null&&Vt("scroll",s);break;case"onScrollEnd":u!=null&&Vt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=Vr(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Vt("beforetoggle",s),Vt("toggle",s),Or(s,"popover",u);break;case"xlinkActuate":Ie(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Ie(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Ie(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Ie(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Ie(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Ie(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Ie(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Or(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=su.get(l)||l,Or(s,l,u))}}function Sg(s,r,l,u,m,p){switch(l){case"style":il(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?vn(s,u):(typeof u=="number"||typeof u=="bigint")&&vn(s,""+u);break;case"onScroll":u!=null&&Vt("scroll",s);break;case"onScrollEnd":u!=null&&Vt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wo.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),p=s[Qe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Or(s,l,u)}}}function sn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Vt("error",s),Vt("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var x=l[p];if(x!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:se(s,r,p,x,l,null)}}m&&se(s,r,"srcSet",l.srcSet,l,null),u&&se(s,r,"src",l.src,l,null);return;case"input":Vt("invalid",s);var S=p=x=m=null,k=null,Y=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":m=J;break;case"type":x=J;break;case"checked":k=J;break;case"defaultChecked":Y=J;break;case"value":p=J;break;case"defaultValue":S=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:se(s,r,u,J,l,null)}}eu(s,p,S,k,Y,x,m,!1);return;case"select":Vt("invalid",s),u=x=p=null;for(m in l)if(l.hasOwnProperty(m)&&(S=l[m],S!=null))switch(m){case"value":p=S;break;case"defaultValue":x=S;break;case"multiple":u=S;default:se(s,r,m,S,l,null)}r=p,l=x,s.multiple=!!u,r!=null?Ms(s,!!u,r,!1):l!=null&&Ms(s,!!u,l,!0);return;case"textarea":Vt("invalid",s),p=m=u=null;for(x in l)if(l.hasOwnProperty(x)&&(S=l[x],S!=null))switch(x){case"value":u=S;break;case"defaultValue":m=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:se(s,r,x,S,l,null)}Ds(s,u,m,p);return;case"option":for(k in l)if(l.hasOwnProperty(k)&&(u=l[k],u!=null))switch(k){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,r,k,u,l,null)}return;case"dialog":Vt("beforetoggle",s),Vt("toggle",s),Vt("cancel",s),Vt("close",s);break;case"iframe":case"object":Vt("load",s);break;case"video":case"audio":for(u=0;u<Pl.length;u++)Vt(Pl[u],s);break;case"image":Vt("error",s),Vt("load",s);break;case"details":Vt("toggle",s);break;case"embed":case"source":case"link":Vt("error",s),Vt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:se(s,r,Y,u,l,null)}return;default:if(Ir(r)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&Sg(s,r,J,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&se(s,r,S,u,l,null))}function uA(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,x=null,S=null,k=null,Y=null,J=null;for(W in l){var it=l[W];if(l.hasOwnProperty(W)&&it!=null)switch(W){case"checked":break;case"value":break;case"defaultValue":k=it;default:u.hasOwnProperty(W)||se(s,r,W,null,u,it)}}for(var Q in u){var W=u[Q];if(it=l[Q],u.hasOwnProperty(Q)&&(W!=null||it!=null))switch(Q){case"type":p=W;break;case"name":m=W;break;case"checked":Y=W;break;case"defaultChecked":J=W;break;case"value":x=W;break;case"defaultValue":S=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(i(137,r));break;default:W!==it&&se(s,r,Q,W,u,it)}}Nr(s,x,S,k,Y,J,p,m);return;case"select":W=x=S=Q=null;for(p in l)if(k=l[p],l.hasOwnProperty(p)&&k!=null)switch(p){case"value":break;case"multiple":W=k;default:u.hasOwnProperty(p)||se(s,r,p,null,u,k)}for(m in u)if(p=u[m],k=l[m],u.hasOwnProperty(m)&&(p!=null||k!=null))switch(m){case"value":Q=p;break;case"defaultValue":S=p;break;case"multiple":x=p;default:p!==k&&se(s,r,m,p,u,k)}r=S,l=x,u=W,Q!=null?Ms(s,!!l,Q,!1):!!u!=!!l&&(r!=null?Ms(s,!!l,r,!0):Ms(s,!!l,l?[]:"",!1));return;case"textarea":W=Q=null;for(S in l)if(m=l[S],l.hasOwnProperty(S)&&m!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(s,r,S,null,u,m)}for(x in u)if(m=u[x],p=l[x],u.hasOwnProperty(x)&&(m!=null||p!=null))switch(x){case"value":Q=m;break;case"defaultValue":W=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&se(s,r,x,m,u,p)}nu(s,Q,W);return;case"option":for(var mt in l)if(Q=l[mt],l.hasOwnProperty(mt)&&Q!=null&&!u.hasOwnProperty(mt))switch(mt){case"selected":s.selected=!1;break;default:se(s,r,mt,null,u,Q)}for(k in u)if(Q=u[k],W=l[k],u.hasOwnProperty(k)&&Q!==W&&(Q!=null||W!=null))switch(k){case"selected":s.selected=Q&&typeof Q!="function"&&typeof Q!="symbol";break;default:se(s,r,k,Q,u,W)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in l)Q=l[Et],l.hasOwnProperty(Et)&&Q!=null&&!u.hasOwnProperty(Et)&&se(s,r,Et,null,u,Q);for(Y in u)if(Q=u[Y],W=l[Y],u.hasOwnProperty(Y)&&Q!==W&&(Q!=null||W!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(i(137,r));break;default:se(s,r,Y,Q,u,W)}return;default:if(Ir(r)){for(var ae in l)Q=l[ae],l.hasOwnProperty(ae)&&Q!==void 0&&!u.hasOwnProperty(ae)&&Sg(s,r,ae,void 0,u,Q);for(J in u)Q=u[J],W=l[J],!u.hasOwnProperty(J)||Q===W||Q===void 0&&W===void 0||Sg(s,r,J,Q,u,W);return}}for(var H in l)Q=l[H],l.hasOwnProperty(H)&&Q!=null&&!u.hasOwnProperty(H)&&se(s,r,H,null,u,Q);for(it in u)Q=u[it],W=l[it],!u.hasOwnProperty(it)||Q===W||Q==null&&W==null||se(s,r,it,Q,u,W)}function Y0(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hA(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,x=m.initiatorType,S=m.duration;if(p&&S&&Y0(x)){for(x=0,S=m.responseEnd,u+=1;u<l.length;u++){var k=l[u],Y=k.startTime;if(Y>S)break;var J=k.transferSize,it=k.initiatorType;J&&Y0(it)&&(k=k.responseEnd,x+=J*(k<S?1:(S-Y)/(k-Y)))}if(--u,r+=8*(p+x)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Ag=null,wg=null;function ah(s){return s.nodeType===9?s:s.ownerDocument}function Q0(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function X0(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function Rg(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Cg=null;function fA(){var s=window.event;return s&&s.type==="popstate"?s===Cg?!1:(Cg=s,!0):(Cg=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,W0=typeof Promise=="function"?Promise:void 0,gA=typeof queueMicrotask=="function"?queueMicrotask:typeof W0<"u"?function(s){return W0.resolve(null).then(s).catch(mA)}:K0;function mA(s){setTimeout(function(){throw s})}function Js(s){return s==="head"}function $0(s,r){var l=r,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),mo(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")jl(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,jl(l);for(var p=l.firstChild;p;){var x=p.nextSibling,S=p.nodeName;p[Si]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=x}}else l==="body"&&jl(s.ownerDocument.body);l=m}while(l);mo(r)}function Z0(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function Mg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Mg(l),Dr(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function pA(s,r,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Si])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Wn(s.nextSibling),s===null)break}return null}function yA(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Wn(s.nextSibling),s===null))return null;return s}function J0(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Wn(s.nextSibling),s===null))return null;return s}function Dg(s){return s.data==="$?"||s.data==="$~"}function Og(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function _A(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Wn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Ng=null;function tb(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return Wn(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function eb(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function nb(s,r,l){switch(r=ah(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function jl(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Dr(s)}var $n=new Map,ib=new Set;function rh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var gs=st.d;st.d={f:bA,r:vA,D:xA,C:EA,L:TA,m:SA,X:wA,S:AA,M:RA};function bA(){var s=gs.f(),r=$u();return s||r}function vA(s){var r=Bn(s);r!==null&&r.tag===5&&r.type==="form"?v_(r):gs.r(s)}var ho=typeof document>"u"?null:document;function sb(s,r,l){var u=ho;if(u&&typeof r=="string"&&r){var m=bn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),ib.has(m)||(ib.add(m),s={rel:s,crossOrigin:l,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),sn(r,"link",s),Ne(r),u.head.appendChild(r)))}}function xA(s){gs.D(s),sb("dns-prefetch",s,null)}function EA(s,r){gs.C(s,r),sb("preconnect",s,r)}function TA(s,r,l){gs.L(s,r,l);var u=ho;if(u&&s&&r){var m='link[rel="preload"][as="'+bn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+bn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+bn(l.imageSizes)+'"]')):m+='[href="'+bn(s)+'"]';var p=m;switch(r){case"style":p=fo(s);break;case"script":p=go(s)}$n.has(p)||(s=_({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),$n.set(p,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(Bl(p))||r==="script"&&u.querySelector(Ul(p))||(r=u.createElement("link"),sn(r,"link",s),Ne(r),u.head.appendChild(r)))}}function SA(s,r){gs.m(s,r);var l=ho;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+bn(u)+'"][href="'+bn(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=go(s)}if(!$n.has(p)&&(s=_({rel:"modulepreload",href:s},r),$n.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(Ul(p)))return}u=l.createElement("link"),sn(u,"link",s),Ne(u),l.head.appendChild(u)}}}function AA(s,r,l){gs.S(s,r,l);var u=ho;if(u&&s){var m=wi(u).hoistableStyles,p=fo(s);r=r||"default";var x=m.get(p);if(!x){var S={loading:0,preload:null};if(x=u.querySelector(Bl(p)))S.loading=5;else{s=_({rel:"stylesheet",href:s,"data-precedence":r},l),(l=$n.get(p))&&Ig(s,l);var k=x=u.createElement("link");Ne(k),sn(k,"link",s),k._p=new Promise(function(Y,J){k.onload=Y,k.onerror=J}),k.addEventListener("load",function(){S.loading|=1}),k.addEventListener("error",function(){S.loading|=2}),S.loading|=4,oh(x,r,u)}x={type:"stylesheet",instance:x,count:1,state:S},m.set(p,x)}}}function wA(s,r){gs.X(s,r);var l=ho;if(l&&s){var u=wi(l).hoistableScripts,m=go(s),p=u.get(m);p||(p=l.querySelector(Ul(m)),p||(s=_({src:s,async:!0},r),(r=$n.get(m))&&Vg(s,r),p=l.createElement("script"),Ne(p),sn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function RA(s,r){gs.M(s,r);var l=ho;if(l&&s){var u=wi(l).hoistableScripts,m=go(s),p=u.get(m);p||(p=l.querySelector(Ul(m)),p||(s=_({src:s,async:!0,type:"module"},r),(r=$n.get(m))&&Vg(s,r),p=l.createElement("script"),Ne(p),sn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function ab(s,r,l,u){var m=(m=Tt.current)?rh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=fo(l.href),l=wi(m).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=fo(l.href);var p=wi(m).hoistableStyles,x=p.get(s);if(x||(m=m.ownerDocument||m,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,x),(p=m.querySelector(Bl(s)))&&!p._p&&(x.instance=p,x.state.loading=5),$n.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},$n.set(s,l),p||CA(m,s,l,x.state))),r&&u===null)throw Error(i(528,""));return x}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=go(l),l=wi(m).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function fo(s){return'href="'+bn(s)+'"'}function Bl(s){return'link[rel="stylesheet"]['+s+"]"}function rb(s){return _({},s,{"data-precedence":s.precedence,precedence:null})}function CA(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),sn(r,"link",l),Ne(r),s.head.appendChild(r))}function go(s){return'[src="'+bn(s)+'"]'}function Ul(s){return"script[async]"+s}function ob(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+bn(l.href)+'"]');if(u)return r.instance=u,Ne(u),u;var m=_({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ne(u),sn(u,"style",m),oh(u,l.precedence,s),r.instance=u;case"stylesheet":m=fo(l.href);var p=s.querySelector(Bl(m));if(p)return r.state.loading|=4,r.instance=p,Ne(p),p;u=rb(l),(m=$n.get(m))&&Ig(u,m),p=(s.ownerDocument||s).createElement("link"),Ne(p);var x=p;return x._p=new Promise(function(S,k){x.onload=S,x.onerror=k}),sn(p,"link",u),r.state.loading|=4,oh(p,l.precedence,s),r.instance=p;case"script":return p=go(l.src),(m=s.querySelector(Ul(p)))?(r.instance=m,Ne(m),m):(u=l,(m=$n.get(p))&&(u=_({},l),Vg(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ne(m),sn(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,oh(u,l.precedence,s));return r.instance}function oh(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,x=0;x<u.length;x++){var S=u[x];if(S.dataset.precedence===r)p=S;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Ig(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function Vg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var lh=null;function lb(s,r,l){if(lh===null){var u=new Map,m=lh=new Map;m.set(l,u)}else m=lh,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Si]||p[Oe]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var x=p.getAttribute(r)||"";x=s+x;var S=u.get(x);S?S.push(p):u.set(x,[p])}}return u}function cb(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function MA(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function ub(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function DA(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=fo(u.href),p=r.querySelector(Bl(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=ch.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,Ne(p);return}p=r.ownerDocument||r,u=rb(u),(m=$n.get(m))&&Ig(u,m),p=p.createElement("link"),Ne(p);var x=p;x._p=new Promise(function(S,k){x.onload=S,x.onerror=k}),sn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=ch.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var kg=0;function OA(s,r){return s.stylesheets&&s.count===0&&hh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&hh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&kg===0&&(kg=62500*hA());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&hh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>kg?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function ch(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)hh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var uh=null;function hh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,uh=new Map,r.forEach(NA,s),uh=null,ch.call(s))}function NA(s,r){if(!(r.state.loading&4)){var l=uh.get(s);if(l)var u=l.get(null);else{l=new Map,uh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var x=m[p];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(l.set(x.dataset.precedence,x),u=x)}u&&l.set(null,u)}m=r.instance,x=m.getAttribute("data-precedence"),p=l.get(x)||u,p===u&&l.set(null,m),l.set(x,m),this.count++,u=ch.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var Hl={$$typeof:X,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function IA(s,r,l,u,m,p,x,S,k){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=k,this.incompleteTransitions=new Map}function hb(s,r,l,u,m,p,x,S,k,Y,J,it){return s=new IA(s,r,l,x,k,Y,J,it,S),r=1,p===!0&&(r|=24),p=Nn(3,null,null,r),s.current=p,p.stateNode=s,r=gd(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},_d(p),s}function fb(s){return s?(s=qr,s):qr}function db(s,r,l,u,m,p){m=fb(m),u.context===null?u.context=m:u.pendingContext=m,u=Hs(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=Fs(s,u,r),l!==null&&(An(l,s,r),vl(l,s,r))}function gb(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Lg(s,r){gb(s,r),(s=s.alternate)&&gb(s,r)}function mb(s){if(s.tag===13||s.tag===31){var r=Fa(s,67108864);r!==null&&An(r,s,67108864),Lg(s,67108864)}}function pb(s){if(s.tag===13||s.tag===31){var r=Pn();r=Oa(r);var l=Fa(s,r);l!==null&&An(l,s,r),Lg(s,r)}}var fh=!0;function VA(s,r,l,u){var m=F.T;F.T=null;var p=st.p;try{st.p=2,Pg(s,r,l,u)}finally{st.p=p,F.T=m}}function kA(s,r,l,u){var m=F.T;F.T=null;var p=st.p;try{st.p=8,Pg(s,r,l,u)}finally{st.p=p,F.T=m}}function Pg(s,r,l,u){if(fh){var m=zg(u);if(m===null)Tg(s,r,u,dh,l),_b(s,u);else if(PA(m,s,r,l,u))u.stopPropagation();else if(_b(s,u),r&4&&-1<LA.indexOf(s)){for(;m!==null;){var p=Bn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var x=vi(p.pendingLanes);if(x!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;x;){var k=1<<31-Te(x);S.entanglements[1]|=k,x&=~k}ji(p),(Kt&6)===0&&(Ku=pn()+500,Ll(0))}}break;case 31:case 13:S=Fa(p,2),S!==null&&An(S,p,2),$u(),Lg(p,2)}if(p=zg(u),p===null&&Tg(s,r,u,dh,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else Tg(s,r,u,null,l)}}function zg(s){return s=Un(s),jg(s)}var dh=null;function jg(s){if(dh=null,s=Ai(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return dh=s,null}function yb(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ra()){case Go:return 2;case Yo:return 8;case Rs:case Gf:return 32;case Gc:return 268435456;default:return 32}default:return 32}}var Bg=!1,ta=null,ea=null,na=null,Fl=new Map,ql=new Map,ia=[],LA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function _b(s,r){switch(s){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":Fl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":ql.delete(r.pointerId)}}function Gl(s,r,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},r!==null&&(r=Bn(r),r!==null&&mb(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function PA(s,r,l,u,m){switch(r){case"focusin":return ta=Gl(ta,s,r,l,u,m),!0;case"dragenter":return ea=Gl(ea,s,r,l,u,m),!0;case"mouseover":return na=Gl(na,s,r,l,u,m),!0;case"pointerover":var p=m.pointerId;return Fl.set(p,Gl(Fl.get(p)||null,s,r,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,ql.set(p,Gl(ql.get(p)||null,s,r,l,u,m)),!0}return!1}function bb(s){var r=Ai(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,ii(s.priority,function(){pb(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,ii(s.priority,function(){pb(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=zg(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);sl=u,l.target.dispatchEvent(u),sl=null}else return r=Bn(l),r!==null&&mb(r),s.blockedOn=l,!1;r.shift()}return!0}function vb(s,r,l){gh(s)&&l.delete(r)}function zA(){Bg=!1,ta!==null&&gh(ta)&&(ta=null),ea!==null&&gh(ea)&&(ea=null),na!==null&&gh(na)&&(na=null),Fl.forEach(vb),ql.forEach(vb)}function mh(s,r){s.blockedOn===r&&(s.blockedOn=null,Bg||(Bg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,zA)))}var ph=null;function xb(s){ph!==s&&(ph=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){ph===s&&(ph=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(jg(u||l)===null)continue;break}var p=Bn(l);p!==null&&(s.splice(r,3),r-=3,zd(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function mo(s){function r(k){return mh(k,s)}ta!==null&&mh(ta,s),ea!==null&&mh(ea,s),na!==null&&mh(na,s),Fl.forEach(r),ql.forEach(r);for(var l=0;l<ia.length;l++){var u=ia[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<ia.length&&(l=ia[0],l.blockedOn===null);)bb(l),l.blockedOn===null&&ia.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],x=m[Qe]||null;if(typeof p=="function")x||xb(l);else if(x){var S=null;if(p&&p.hasAttribute("formAction")){if(m=p,x=p[Qe]||null)S=x.formAction;else if(jg(m)!==null)continue}else S=x.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),xb(l)}}}function Eb(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(x){return m=x})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Ug(s){this._internalRoot=s}yh.prototype.render=Ug.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Pn();db(l,u,s,r,null,null)},yh.prototype.unmount=Ug.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;db(s.current,2,null,s,null,null),$u(),r[Ti]=null}};function yh(s){this._internalRoot=s}yh.prototype.unstable_scheduleHydration=function(s){if(s){var r=$c();s={blockedOn:null,target:s,priority:r};for(var l=0;l<ia.length&&r!==0&&r<ia[l].priority;l++);ia.splice(l,0,s),l===0&&bb(s)}};var Tb=t.version;if(Tb!=="19.2.3")throw Error(i(527,Tb,"19.2.3"));st.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=d(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var jA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_h.isDisabled&&_h.supportsFiber)try{ei=_h.inject(jA),Ze=_h}catch{}}return Ql.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",m=D_,p=O_,x=N_;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(x=r.onRecoverableError)),r=hb(s,1,!1,null,null,l,u,null,m,p,x,Eb),s[Ti]=r.current,Eg(s),new Ug(r)},Ql.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,m="",p=D_,x=O_,S=N_,k=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(x=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(k=l.formState)),r=hb(s,1,!0,r,l??null,u,m,k,p,x,S,Eb),r.context=fb(null),l=r.current,u=Pn(),u=Oa(u),m=Hs(u),m.callback=null,Fs(l,m,u),l=u,r.current.lanes=l,Ma(r,l),ji(r),s[Ti]=r.current,Eg(s),new yh(r)},Ql.version="19.2.3",Ql}var Ib;function ZA(){if(Ib)return qg.exports;Ib=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),qg.exports=$A(),qg.exports}var JA=ZA();const t2=yx(JA),e2=()=>{};var Vb={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},n2=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,d=f?n[a+2]:0,y=o>>2,_=(o&3)<<4|h>>4;let v=(h&15)<<2|d>>6,T=d&63;f||(T=64,c||(v=64)),i.push(e[y],e[_],e[v],e[T])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(_x(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):n2(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const d=a<n.length?e[n.charAt(a)]:64;++a;const _=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||d==null||_==null)throw new i2;const v=o<<2|h>>4;if(i.push(v),d!==64){const T=h<<4&240|d>>2;if(i.push(T),_!==64){const A=d<<6&192|_;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class i2 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const s2=function(n){const t=_x(n);return bx.encodeByteArray(t,!0)},Jh=function(n){return s2(n).replace(/\./g,"")},a2=function(n){try{return bx.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o2=()=>r2().__FIREBASE_DEFAULTS__,l2=()=>{if(typeof process>"u"||typeof Vb>"u")return;const n=Vb.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},c2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&a2(n[1]);return t&&JSON.parse(t)},sp=()=>{try{return e2()||o2()||l2()||c2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},u2=n=>{var t,e;return(e=(t=sp())==null?void 0:t.emulatorHosts)==null?void 0:e[n]},h2=n=>{const t=u2(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},vx=()=>{var n;return(n=sp())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function d2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Jh(JSON.stringify(e)),Jh(JSON.stringify(c)),""].join(".")}const cc={};function m2(){const n={prod:[],emulator:[]};for(const t of Object.keys(cc))cc[t]?n.emulator.push(t):n.prod.push(t);return n}function p2(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let kb=!1;function y2(n,t){if(typeof window>"u"||typeof document>"u"||!ap(window.location.host)||cc[n]===t||cc[n]||kb)return;cc[n]=t;function e(v){return`__firebase__banner__${v}`}const i="__firebase__banner",o=m2().prod.length>0;function c(){const v=document.getElementById(i);v&&v.remove()}function h(v){v.style.display="flex",v.style.background="#7faaf0",v.style.position="fixed",v.style.bottom="5px",v.style.left="5px",v.style.padding=".5em",v.style.borderRadius="5px",v.style.alignItems="center"}function f(v,T){v.setAttribute("width","24"),v.setAttribute("id",T),v.setAttribute("height","24"),v.setAttribute("viewBox","0 0 24 24"),v.setAttribute("fill","none"),v.style.marginLeft="-6px"}function d(){const v=document.createElement("span");return v.style.cursor="pointer",v.style.marginLeft="16px",v.style.fontSize="24px",v.innerHTML=" &times;",v.onclick=()=>{kb=!0,c()},v}function y(v,T){v.setAttribute("id",T),v.innerText="Learn more",v.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",v.setAttribute("target","__blank"),v.style.paddingLeft="5px",v.style.textDecoration="underline"}function _(){const v=p2(i),T=e("text"),A=document.getElementById(T)||document.createElement("span"),C=e("learnmore"),D=document.getElementById(C)||document.createElement("a"),P=e("preprendIcon"),U=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(v.created){const X=v.element;h(X),y(D,C);const Z=d();f(U,P),X.append(U,A,D,Z),document.body.appendChild(X)}o?(A.innerText="Preview backend disconnected.",U.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(U.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function b2(){var t;const n=(t=sp())==null?void 0:t.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function v2(){return!b2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function x2(){try{return typeof indexedDB=="object"}catch{return!1}}function E2(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{var o;t(((o=a.error)==null?void 0:o.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="FirebaseError";class Lo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=T2,Object.setPrototypeOf(this,Lo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,xx.prototype.create)}}class xx{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?S2(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Lo(a,h,i)}}function S2(n,t){return n.replace(A2,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const A2=/\{\$([^}]+)}/g;function tf(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(Lb(o)&&Lb(c)){if(!tf(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function Lb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(n){return n&&n._delegate?n._delegate:n}class bc{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w2{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new f2;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(t==null?void 0:t.optional)??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(C2(t))try{this.getOrInitializeService({instanceIdentifier:rr})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=rr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=rr){return this.instances.has(t)}getOptions(t=rr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:R2(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=rr){return this.component?this.component.multipleInstances?t:rr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function R2(n){return n===rr?void 0:n}function C2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new w2(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const D2={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},O2=qt.INFO,N2={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},I2=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=N2[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Ex{constructor(t){this.name=t,this._logLevel=O2,this._logHandler=I2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?D2[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const V2=(n,t)=>t.some(e=>n instanceof e);let Pb,zb;function k2(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function L2(){return zb||(zb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Tx=new WeakMap,bm=new WeakMap,Sx=new WeakMap,Xg=new WeakMap,rp=new WeakMap;function P2(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(ha(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&Tx.set(e,n)}).catch(()=>{}),rp.set(t,n),t}function z2(n){if(bm.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});bm.set(n,t)}let vm={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return bm.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Sx.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return ha(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function j2(n){vm=n(vm)}function B2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Kg(this),t,...e);return Sx.set(i,t.sort?t.sort():[t]),ha(i)}:L2().includes(n)?function(...t){return n.apply(Kg(this),t),ha(Tx.get(this))}:function(...t){return ha(n.apply(Kg(this),t))}}function U2(n){return typeof n=="function"?B2(n):(n instanceof IDBTransaction&&z2(n),V2(n,k2())?new Proxy(n,vm):n)}function ha(n){if(n instanceof IDBRequest)return P2(n);if(Xg.has(n))return Xg.get(n);const t=U2(n);return t!==n&&(Xg.set(n,t),rp.set(t,n)),t}const Kg=n=>rp.get(n);function H2(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=ha(c);return i&&c.addEventListener("upgradeneeded",f=>{i(ha(c.result),f.oldVersion,f.newVersion,ha(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",d=>a(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const F2=["get","getKey","getAll","getAllKeys","count"],q2=["put","add","delete","clear"],Wg=new Map;function jb(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Wg.get(t))return Wg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=q2.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||F2.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let d=f.store;return i&&(d=d.index(h.shift())),(await Promise.all([d[e](...h),a&&f.done]))[0]};return Wg.set(t,o),o}j2(n=>({...n,get:(t,e,i)=>jb(t,e)||n.get(t,e,i),has:(t,e)=>!!jb(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(Y2(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function Y2(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const xm="@firebase/app",Bb="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ts=new Ex("@firebase/app"),Q2="@firebase/app-compat",X2="@firebase/analytics-compat",K2="@firebase/analytics",W2="@firebase/app-check-compat",$2="@firebase/app-check",Z2="@firebase/auth",J2="@firebase/auth-compat",tw="@firebase/database",ew="@firebase/data-connect",nw="@firebase/database-compat",iw="@firebase/functions",sw="@firebase/functions-compat",aw="@firebase/installations",rw="@firebase/installations-compat",ow="@firebase/messaging",lw="@firebase/messaging-compat",cw="@firebase/performance",uw="@firebase/performance-compat",hw="@firebase/remote-config",fw="@firebase/remote-config-compat",dw="@firebase/storage",gw="@firebase/storage-compat",mw="@firebase/firestore",pw="@firebase/ai",yw="@firebase/firestore-compat",_w="firebase",bw="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Em="[DEFAULT]",vw={[xm]:"fire-core",[Q2]:"fire-core-compat",[K2]:"fire-analytics",[X2]:"fire-analytics-compat",[$2]:"fire-app-check",[W2]:"fire-app-check-compat",[Z2]:"fire-auth",[J2]:"fire-auth-compat",[tw]:"fire-rtdb",[ew]:"fire-data-connect",[nw]:"fire-rtdb-compat",[iw]:"fire-fn",[sw]:"fire-fn-compat",[aw]:"fire-iid",[rw]:"fire-iid-compat",[ow]:"fire-fcm",[lw]:"fire-fcm-compat",[cw]:"fire-perf",[uw]:"fire-perf-compat",[hw]:"fire-rc",[fw]:"fire-rc-compat",[dw]:"fire-gcs",[gw]:"fire-gcs-compat",[mw]:"fire-fst",[yw]:"fire-fst-compat",[pw]:"fire-vertex","fire-js":"fire-js",[_w]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ef=new Map,xw=new Map,Tm=new Map;function Ub(n,t){try{n.container.addComponent(t)}catch(e){Ts.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function nf(n){const t=n.name;if(Tm.has(t))return Ts.debug(`There were multiple attempts to register component ${t}.`),!1;Tm.set(t,n);for(const e of ef.values())Ub(e,n);for(const e of xw.values())Ub(e,n);return!0}function Ew(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Tw(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},fa=new xx("app","Firebase",Sw);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bc("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw fa.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww=bw;function Ax(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:Em,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw fa.create("bad-app-name",{appName:String(a)});if(e||(e=vx()),!e)throw fa.create("no-options");const o=ef.get(a);if(o){if(tf(e,o.options)&&tf(i,o.config))return o;throw fa.create("duplicate-app",{appName:a})}const c=new M2(a);for(const f of Tm.values())c.addComponent(f);const h=new Aw(e,i,c);return ef.set(a,h),h}function Rw(n=Em){const t=ef.get(n);if(!t&&n===Em&&vx())return Ax();if(!t)throw fa.create("no-app",{appName:n});return t}function Eo(n,t,e){let i=vw[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ts.warn(c.join(" "));return}nf(new bc(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cw="firebase-heartbeat-database",Mw=1,vc="firebase-heartbeat-store";let $g=null;function wx(){return $g||($g=H2(Cw,Mw,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(vc)}catch(e){console.warn(e)}}}}).catch(n=>{throw fa.create("idb-open",{originalErrorMessage:n.message})})),$g}async function Dw(n){try{const e=(await wx()).transaction(vc),i=await e.objectStore(vc).get(Rx(n));return await e.done,i}catch(t){if(t instanceof Lo)Ts.warn(t.message);else{const e=fa.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ts.warn(e.message)}}}async function Hb(n,t){try{const i=(await wx()).transaction(vc,"readwrite");await i.objectStore(vc).put(t,Rx(n)),await i.done}catch(e){if(e instanceof Lo)Ts.warn(e.message);else{const i=fa.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Ts.warn(i.message)}}}function Rx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ow=1024,Nw=30;class Iw{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new kw(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var t,e;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Fb();if(((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(c=>c.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:a}),this._heartbeatsCache.heartbeats.length>Nw){const c=Lw(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Ts.warn(i)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fb(),{heartbeatsToSend:i,unsentEntries:a}=Vw(this._heartbeatsCache.heartbeats),o=Jh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=e,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return Ts.warn(e),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function Vw(n,t=Ow){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),qb(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),qb(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class kw{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return x2()?E2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Dw(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Hb(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function qb(n){return Jh(JSON.stringify({version:2,heartbeats:n})).length}function Lw(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(n){nf(new bc("platform-logger",t=>new G2(t),"PRIVATE")),nf(new bc("heartbeat",t=>new Iw(t),"PRIVATE")),Eo(xm,Bb,n),Eo(xm,Bb,"esm2020"),Eo("fire-js","")}Pw("");var zw="firebase",jw="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Eo(zw,jw,"app");var Gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var da,Cx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,w){function O(){}O.prototype=w.prototype,M.F=w.prototype,M.prototype=new O,M.prototype.constructor=M,M.D=function(V,I,z){for(var N=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)N[Nt-2]=arguments[Nt];return w.prototype[I].apply(V,N)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(M,w,O){O||(O=0);const V=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)V[I]=w.charCodeAt(O++)|w.charCodeAt(O++)<<8|w.charCodeAt(O++)<<16|w.charCodeAt(O++)<<24;else for(I=0;I<16;++I)V[I]=w[O++]|w[O++]<<8|w[O++]<<16|w[O++]<<24;w=M.g[0],O=M.g[1],I=M.g[2];let z=M.g[3],N;N=w+(z^O&(I^z))+V[0]+3614090360&4294967295,w=O+(N<<7&4294967295|N>>>25),N=z+(I^w&(O^I))+V[1]+3905402710&4294967295,z=w+(N<<12&4294967295|N>>>20),N=I+(O^z&(w^O))+V[2]+606105819&4294967295,I=z+(N<<17&4294967295|N>>>15),N=O+(w^I&(z^w))+V[3]+3250441966&4294967295,O=I+(N<<22&4294967295|N>>>10),N=w+(z^O&(I^z))+V[4]+4118548399&4294967295,w=O+(N<<7&4294967295|N>>>25),N=z+(I^w&(O^I))+V[5]+1200080426&4294967295,z=w+(N<<12&4294967295|N>>>20),N=I+(O^z&(w^O))+V[6]+2821735955&4294967295,I=z+(N<<17&4294967295|N>>>15),N=O+(w^I&(z^w))+V[7]+4249261313&4294967295,O=I+(N<<22&4294967295|N>>>10),N=w+(z^O&(I^z))+V[8]+1770035416&4294967295,w=O+(N<<7&4294967295|N>>>25),N=z+(I^w&(O^I))+V[9]+2336552879&4294967295,z=w+(N<<12&4294967295|N>>>20),N=I+(O^z&(w^O))+V[10]+4294925233&4294967295,I=z+(N<<17&4294967295|N>>>15),N=O+(w^I&(z^w))+V[11]+2304563134&4294967295,O=I+(N<<22&4294967295|N>>>10),N=w+(z^O&(I^z))+V[12]+1804603682&4294967295,w=O+(N<<7&4294967295|N>>>25),N=z+(I^w&(O^I))+V[13]+4254626195&4294967295,z=w+(N<<12&4294967295|N>>>20),N=I+(O^z&(w^O))+V[14]+2792965006&4294967295,I=z+(N<<17&4294967295|N>>>15),N=O+(w^I&(z^w))+V[15]+1236535329&4294967295,O=I+(N<<22&4294967295|N>>>10),N=w+(I^z&(O^I))+V[1]+4129170786&4294967295,w=O+(N<<5&4294967295|N>>>27),N=z+(O^I&(w^O))+V[6]+3225465664&4294967295,z=w+(N<<9&4294967295|N>>>23),N=I+(w^O&(z^w))+V[11]+643717713&4294967295,I=z+(N<<14&4294967295|N>>>18),N=O+(z^w&(I^z))+V[0]+3921069994&4294967295,O=I+(N<<20&4294967295|N>>>12),N=w+(I^z&(O^I))+V[5]+3593408605&4294967295,w=O+(N<<5&4294967295|N>>>27),N=z+(O^I&(w^O))+V[10]+38016083&4294967295,z=w+(N<<9&4294967295|N>>>23),N=I+(w^O&(z^w))+V[15]+3634488961&4294967295,I=z+(N<<14&4294967295|N>>>18),N=O+(z^w&(I^z))+V[4]+3889429448&4294967295,O=I+(N<<20&4294967295|N>>>12),N=w+(I^z&(O^I))+V[9]+568446438&4294967295,w=O+(N<<5&4294967295|N>>>27),N=z+(O^I&(w^O))+V[14]+3275163606&4294967295,z=w+(N<<9&4294967295|N>>>23),N=I+(w^O&(z^w))+V[3]+4107603335&4294967295,I=z+(N<<14&4294967295|N>>>18),N=O+(z^w&(I^z))+V[8]+1163531501&4294967295,O=I+(N<<20&4294967295|N>>>12),N=w+(I^z&(O^I))+V[13]+2850285829&4294967295,w=O+(N<<5&4294967295|N>>>27),N=z+(O^I&(w^O))+V[2]+4243563512&4294967295,z=w+(N<<9&4294967295|N>>>23),N=I+(w^O&(z^w))+V[7]+1735328473&4294967295,I=z+(N<<14&4294967295|N>>>18),N=O+(z^w&(I^z))+V[12]+2368359562&4294967295,O=I+(N<<20&4294967295|N>>>12),N=w+(O^I^z)+V[5]+4294588738&4294967295,w=O+(N<<4&4294967295|N>>>28),N=z+(w^O^I)+V[8]+2272392833&4294967295,z=w+(N<<11&4294967295|N>>>21),N=I+(z^w^O)+V[11]+1839030562&4294967295,I=z+(N<<16&4294967295|N>>>16),N=O+(I^z^w)+V[14]+4259657740&4294967295,O=I+(N<<23&4294967295|N>>>9),N=w+(O^I^z)+V[1]+2763975236&4294967295,w=O+(N<<4&4294967295|N>>>28),N=z+(w^O^I)+V[4]+1272893353&4294967295,z=w+(N<<11&4294967295|N>>>21),N=I+(z^w^O)+V[7]+4139469664&4294967295,I=z+(N<<16&4294967295|N>>>16),N=O+(I^z^w)+V[10]+3200236656&4294967295,O=I+(N<<23&4294967295|N>>>9),N=w+(O^I^z)+V[13]+681279174&4294967295,w=O+(N<<4&4294967295|N>>>28),N=z+(w^O^I)+V[0]+3936430074&4294967295,z=w+(N<<11&4294967295|N>>>21),N=I+(z^w^O)+V[3]+3572445317&4294967295,I=z+(N<<16&4294967295|N>>>16),N=O+(I^z^w)+V[6]+76029189&4294967295,O=I+(N<<23&4294967295|N>>>9),N=w+(O^I^z)+V[9]+3654602809&4294967295,w=O+(N<<4&4294967295|N>>>28),N=z+(w^O^I)+V[12]+3873151461&4294967295,z=w+(N<<11&4294967295|N>>>21),N=I+(z^w^O)+V[15]+530742520&4294967295,I=z+(N<<16&4294967295|N>>>16),N=O+(I^z^w)+V[2]+3299628645&4294967295,O=I+(N<<23&4294967295|N>>>9),N=w+(I^(O|~z))+V[0]+4096336452&4294967295,w=O+(N<<6&4294967295|N>>>26),N=z+(O^(w|~I))+V[7]+1126891415&4294967295,z=w+(N<<10&4294967295|N>>>22),N=I+(w^(z|~O))+V[14]+2878612391&4294967295,I=z+(N<<15&4294967295|N>>>17),N=O+(z^(I|~w))+V[5]+4237533241&4294967295,O=I+(N<<21&4294967295|N>>>11),N=w+(I^(O|~z))+V[12]+1700485571&4294967295,w=O+(N<<6&4294967295|N>>>26),N=z+(O^(w|~I))+V[3]+2399980690&4294967295,z=w+(N<<10&4294967295|N>>>22),N=I+(w^(z|~O))+V[10]+4293915773&4294967295,I=z+(N<<15&4294967295|N>>>17),N=O+(z^(I|~w))+V[1]+2240044497&4294967295,O=I+(N<<21&4294967295|N>>>11),N=w+(I^(O|~z))+V[8]+1873313359&4294967295,w=O+(N<<6&4294967295|N>>>26),N=z+(O^(w|~I))+V[15]+4264355552&4294967295,z=w+(N<<10&4294967295|N>>>22),N=I+(w^(z|~O))+V[6]+2734768916&4294967295,I=z+(N<<15&4294967295|N>>>17),N=O+(z^(I|~w))+V[13]+1309151649&4294967295,O=I+(N<<21&4294967295|N>>>11),N=w+(I^(O|~z))+V[4]+4149444226&4294967295,w=O+(N<<6&4294967295|N>>>26),N=z+(O^(w|~I))+V[11]+3174756917&4294967295,z=w+(N<<10&4294967295|N>>>22),N=I+(w^(z|~O))+V[2]+718787259&4294967295,I=z+(N<<15&4294967295|N>>>17),N=O+(z^(I|~w))+V[9]+3951481745&4294967295,M.g[0]=M.g[0]+w&4294967295,M.g[1]=M.g[1]+(I+(N<<21&4294967295|N>>>11))&4294967295,M.g[2]=M.g[2]+I&4294967295,M.g[3]=M.g[3]+z&4294967295}i.prototype.v=function(M,w){w===void 0&&(w=M.length);const O=w-this.blockSize,V=this.C;let I=this.h,z=0;for(;z<w;){if(I==0)for(;z<=O;)a(this,M,z),z+=this.blockSize;if(typeof M=="string"){for(;z<w;)if(V[I++]=M.charCodeAt(z++),I==this.blockSize){a(this,V),I=0;break}}else for(;z<w;)if(V[I++]=M[z++],I==this.blockSize){a(this,V),I=0;break}}this.h=I,this.o+=w},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var w=1;w<M.length-8;++w)M[w]=0;w=this.o*8;for(var O=M.length-8;O<M.length;++O)M[O]=w&255,w/=256;for(this.v(M),M=Array(16),w=0,O=0;O<4;++O)for(let V=0;V<32;V+=8)M[w++]=this.g[O]>>>V&255;return M};function o(M,w){var O=h;return Object.prototype.hasOwnProperty.call(O,M)?O[M]:O[M]=w(M)}function c(M,w){this.h=w;const O=[];let V=!0;for(let I=M.length-1;I>=0;I--){const z=M[I]|0;V&&z==w||(O[I]=z,V=!1)}this.g=O}var h={};function f(M){return-128<=M&&M<128?o(M,function(w){return new c([w|0],w<0?-1:0)}):new c([M|0],M<0?-1:0)}function d(M){if(isNaN(M)||!isFinite(M))return _;if(M<0)return D(d(-M));const w=[];let O=1;for(let V=0;M>=O;V++)w[V]=M/O|0,O*=4294967296;return new c(w,0)}function y(M,w){if(M.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(M.charAt(0)=="-")return D(y(M.substring(1),w));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=d(Math.pow(w,8));let V=_;for(let z=0;z<M.length;z+=8){var I=Math.min(8,M.length-z);const N=parseInt(M.substring(z,z+I),w);I<8?(I=d(Math.pow(w,I)),V=V.j(I).add(d(N))):(V=V.j(O),V=V.add(d(N)))}return V}var _=f(0),v=f(1),T=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-D(this).m();let M=0,w=1;for(let O=0;O<this.g.length;O++){const V=this.i(O);M+=(V>=0?V:4294967296+V)*w,w*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(A(this))return"0";if(C(this))return"-"+D(this).toString(M);const w=d(Math.pow(M,6));var O=this;let V="";for(;;){const I=Z(O,w).g;O=P(O,I.j(w));let z=((O.g.length>0?O.g[0]:O.h)>>>0).toString(M);if(O=I,A(O))return z+V;for(;z.length<6;)z="0"+z;V=z+V}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function A(M){if(M.h!=0)return!1;for(let w=0;w<M.g.length;w++)if(M.g[w]!=0)return!1;return!0}function C(M){return M.h==-1}n.l=function(M){return M=P(this,M),C(M)?-1:A(M)?0:1};function D(M){const w=M.g.length,O=[];for(let V=0;V<w;V++)O[V]=~M.g[V];return new c(O,~M.h).add(v)}n.abs=function(){return C(this)?D(this):this},n.add=function(M){const w=Math.max(this.g.length,M.g.length),O=[];let V=0;for(let I=0;I<=w;I++){let z=V+(this.i(I)&65535)+(M.i(I)&65535),N=(z>>>16)+(this.i(I)>>>16)+(M.i(I)>>>16);V=N>>>16,z&=65535,N&=65535,O[I]=N<<16|z}return new c(O,O[O.length-1]&-2147483648?-1:0)};function P(M,w){return M.add(D(w))}n.j=function(M){if(A(this)||A(M))return _;if(C(this))return C(M)?D(this).j(D(M)):D(D(this).j(M));if(C(M))return D(this.j(D(M)));if(this.l(T)<0&&M.l(T)<0)return d(this.m()*M.m());const w=this.g.length+M.g.length,O=[];for(var V=0;V<2*w;V++)O[V]=0;for(V=0;V<this.g.length;V++)for(let I=0;I<M.g.length;I++){const z=this.i(V)>>>16,N=this.i(V)&65535,Nt=M.i(I)>>>16,ut=M.i(I)&65535;O[2*V+2*I]+=N*ut,U(O,2*V+2*I),O[2*V+2*I+1]+=z*ut,U(O,2*V+2*I+1),O[2*V+2*I+1]+=N*Nt,U(O,2*V+2*I+1),O[2*V+2*I+2]+=z*Nt,U(O,2*V+2*I+2)}for(M=0;M<w;M++)O[M]=O[2*M+1]<<16|O[2*M];for(M=w;M<2*w;M++)O[M]=0;return new c(O,0)};function U(M,w){for(;(M[w]&65535)!=M[w];)M[w+1]+=M[w]>>>16,M[w]&=65535,w++}function X(M,w){this.g=M,this.h=w}function Z(M,w){if(A(w))throw Error("division by zero");if(A(M))return new X(_,_);if(C(M))return w=Z(D(M),w),new X(D(w.g),D(w.h));if(C(w))return w=Z(M,D(w)),new X(D(w.g),w.h);if(M.g.length>30){if(C(M)||C(w))throw Error("slowDivide_ only works with positive integers.");for(var O=v,V=w;V.l(M)<=0;)O=$(O),V=$(V);var I=nt(O,1),z=nt(V,1);for(V=nt(V,2),O=nt(O,2);!A(V);){var N=z.add(V);N.l(M)<=0&&(I=I.add(O),z=N),V=nt(V,1),O=nt(O,1)}return w=P(M,I.j(w)),new X(I,w)}for(I=_;M.l(w)>=0;){for(O=Math.max(1,Math.floor(M.m()/w.m())),V=Math.ceil(Math.log(O)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),z=d(O),N=z.j(w);C(N)||N.l(M)>0;)O-=V,z=d(O),N=z.j(w);A(z)&&(z=v),I=I.add(z),M=P(M,N)}return new X(I,M)}n.B=function(M){return Z(this,M).h},n.and=function(M){const w=Math.max(this.g.length,M.g.length),O=[];for(let V=0;V<w;V++)O[V]=this.i(V)&M.i(V);return new c(O,this.h&M.h)},n.or=function(M){const w=Math.max(this.g.length,M.g.length),O=[];for(let V=0;V<w;V++)O[V]=this.i(V)|M.i(V);return new c(O,this.h|M.h)},n.xor=function(M){const w=Math.max(this.g.length,M.g.length),O=[];for(let V=0;V<w;V++)O[V]=this.i(V)^M.i(V);return new c(O,this.h^M.h)};function $(M){const w=M.g.length+1,O=[];for(let V=0;V<w;V++)O[V]=M.i(V)<<1|M.i(V-1)>>>31;return new c(O,M.h)}function nt(M,w){const O=w>>5;w%=32;const V=M.g.length-O,I=[];for(let z=0;z<V;z++)I[z]=w>0?M.i(z+O)>>>w|M.i(z+O+1)<<32-w:M.i(z+O);return new c(I,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Cx=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=y,da=c}).apply(typeof Gb<"u"?Gb:typeof self<"u"?self:typeof window<"u"?window:{});var bh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mx,Jl,Dx,zh,Sm,Ox,Nx,Ix;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof bh=="object"&&bh];for(var b=0;b<g.length;++b){var E=g[b];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(g,b){if(b)t:{var E=i;g=g.split(".");for(var R=0;R<g.length-1;R++){var q=g[R];if(!(q in E))break t;E=E[q]}g=g[g.length-1],R=E[g],b=b(R),b!=R&&b!=null&&t(E,g,{configurable:!0,writable:!0,value:b})}}a("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(g){return g||function(b){var E=[],R;for(R in b)Object.prototype.hasOwnProperty.call(b,R)&&E.push([R,b[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(g){var b=typeof g;return b=="object"&&g!=null||b=="function"}function f(g,b,E){return g.call.apply(g.bind,arguments)}function d(g,b,E){return d=f,d.apply(null,arguments)}function y(g,b){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),g.apply(this,R)}}function _(g,b){function E(){}E.prototype=b.prototype,g.Z=b.prototype,g.prototype=new E,g.prototype.constructor=g,g.Ob=function(R,q,K){for(var ot=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ot[Mt-2]=arguments[Mt];return b.prototype[q].apply(R,ot)}}var v=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function T(g){const b=g.length;if(b>0){const E=Array(b);for(let R=0;R<b;R++)E[R]=g[R];return E}return[]}function A(g,b){for(let R=1;R<arguments.length;R++){const q=arguments[R];var E=typeof q;if(E=E!="object"?E:q?Array.isArray(q)?"array":E:"null",E=="array"||E=="object"&&typeof q.length=="number"){E=g.length||0;const K=q.length||0;g.length=E+K;for(let ot=0;ot<K;ot++)g[E+ot]=q[ot]}else g.push(q)}}class C{constructor(b,E){this.i=b,this.j=E,this.h=0,this.g=null}get(){let b;return this.h>0?(this.h--,b=this.g,this.g=b.next,b.next=null):b=this.i(),b}}function D(g){c.setTimeout(()=>{throw g},0)}function P(){var g=M;let b=null;return g.g&&(b=g.g,g.g=g.g.next,g.g||(g.h=null),b.next=null),b}class U{constructor(){this.h=this.g=null}add(b,E){const R=X.get();R.set(b,E),this.h?this.h.next=R:this.g=R,this.h=R}}var X=new C(()=>new Z,g=>g.reset());class Z{constructor(){this.next=this.g=this.h=null}set(b,E){this.h=b,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let $,nt=!1,M=new U,w=()=>{const g=Promise.resolve(void 0);$=()=>{g.then(O)}};function O(){for(var g;g=P();){try{g.h.call(g.g)}catch(E){D(E)}var b=X;b.j(g),b.h<100&&(b.h++,g.next=b.g,b.g=g)}nt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(g,b){this.type=g,this.g=this.target=b,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var z=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var g=!1,b=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const E=()=>{};c.addEventListener("test",E,b),c.removeEventListener("test",E,b)}catch{}return g})();function N(g){return/^[\s\xa0]*$/.test(g)}function Nt(g,b){I.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,b)}_(Nt,I),Nt.prototype.init=function(g,b){const E=this.type=g.type,R=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=b,b=g.relatedTarget,b||(E=="mouseover"?b=g.fromElement:E=="mouseout"&&(b=g.toElement)),this.relatedTarget=b,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Nt.Z.h.call(this)},Nt.prototype.h=function(){Nt.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),F=0;function st(g,b,E,R,q){this.listener=g,this.proxy=null,this.src=b,this.type=E,this.capture=!!R,this.ha=q,this.key=++F,this.da=this.fa=!1}function ht(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function yt(g,b,E){for(const R in g)b.call(E,g[R],R,g)}function _t(g,b){for(const E in g)b.call(void 0,g[E],E,g)}function L(g){const b={};for(const E in g)b[E]=g[E];return b}const tt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(g,b){let E,R;for(let q=1;q<arguments.length;q++){R=arguments[q];for(E in R)g[E]=R[E];for(let K=0;K<tt.length;K++)E=tt[K],Object.prototype.hasOwnProperty.call(R,E)&&(g[E]=R[E])}}function ft(g){this.src=g,this.g={},this.h=0}ft.prototype.add=function(g,b,E,R,q){const K=g.toString();g=this.g[K],g||(g=this.g[K]=[],this.h++);const ot=Tt(g,b,R,q);return ot>-1?(b=g[ot],E||(b.fa=!1)):(b=new st(b,this.src,K,!!R,q),b.fa=E,g.push(b)),b};function xt(g,b){const E=b.type;if(E in g.g){var R=g.g[E],q=Array.prototype.indexOf.call(R,b,void 0),K;(K=q>=0)&&Array.prototype.splice.call(R,q,1),K&&(ht(b),g.g[E].length==0&&(delete g.g[E],g.h--))}}function Tt(g,b,E,R){for(let q=0;q<g.length;++q){const K=g[q];if(!K.da&&K.listener==b&&K.capture==!!E&&K.ha==R)return q}return-1}var Ht="closure_lm_"+(Math.random()*1e6|0),Ue={};function de(g,b,E,R,q){if(Array.isArray(b)){for(let K=0;K<b.length;K++)de(g,b[K],E,R,q);return null}return E=qo(E),g&&g[ut]?g.J(b,E,h(R)?!!R.capture:!1,q):Aa(g,b,E,!1,R,q)}function Aa(g,b,E,R,q,K){if(!b)throw Error("Invalid event type");const ot=h(q)?!!q.capture:!!q;let Mt=wa(g);if(Mt||(g[Ht]=Mt=new ft(g)),E=Mt.add(b,E,R,ot,K),E.proxy)return E;if(R=Ar(),E.proxy=R,R.src=g,R.listener=E,g.addEventListener)z||(q=ot),q===void 0&&(q=!1),g.addEventListener(b.toString(),R,q);else if(g.attachEvent)g.attachEvent(_i(b.toString()),R);else if(g.addListener&&g.removeListener)g.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ar(){function g(E){return b.call(g.src,g.listener,E)}const b=Ho;return g}function wr(g,b,E,R,q){if(Array.isArray(b))for(var K=0;K<b.length;K++)wr(g,b[K],E,R,q);else R=h(R)?!!R.capture:!!R,E=qo(E),g&&g[ut]?(g=g.i,K=String(b).toString(),K in g.g&&(b=g.g[K],E=Tt(b,E,R,q),E>-1&&(ht(b[E]),Array.prototype.splice.call(b,E,1),b.length==0&&(delete g.g[K],g.h--)))):g&&(g=wa(g))&&(b=g.g[b.toString()],g=-1,b&&(g=Tt(b,E,R,q)),(E=g>-1?b[g]:null)&&Rr(E))}function Rr(g){if(typeof g!="number"&&g&&!g.da){var b=g.src;if(b&&b[ut])xt(b.i,g);else{var E=g.type,R=g.proxy;b.removeEventListener?b.removeEventListener(E,R,g.capture):b.detachEvent?b.detachEvent(_i(E),R):b.addListener&&b.removeListener&&b.removeListener(R),(E=wa(b))?(xt(E,g),E.h==0&&(E.src=null,b[Ht]=null)):ht(g)}}}function _i(g){return g in Ue?Ue[g]:Ue[g]="on"+g}function Ho(g,b){if(g.da)g=!0;else{b=new Nt(b,this);const E=g.listener,R=g.ha||g.src;g.fa&&Rr(g),g=E.call(R,b)}return g}function wa(g){return g=g[Ht],g instanceof ft?g:null}var Fo="__closure_events_fn_"+(Math.random()*1e9>>>0);function qo(g){return typeof g=="function"?g:(g[Fo]||(g[Fo]=function(b){return g.handleEvent(b)}),g[Fo])}function Me(){V.call(this),this.i=new ft(this),this.M=this,this.G=null}_(Me,V),Me.prototype[ut]=!0,Me.prototype.removeEventListener=function(g,b,E,R){wr(this,g,b,E,R)};function He(g,b){var E,R=g.G;if(R)for(E=[];R;R=R.G)E.push(R);if(g=g.M,R=b.type||b,typeof b=="string")b=new I(b,g);else if(b instanceof I)b.target=b.target||g;else{var q=b;b=new I(R,g),lt(b,q)}q=!0;let K,ot;if(E)for(ot=E.length-1;ot>=0;ot--)K=b.g=E[ot],q=ws(K,R,!0,b)&&q;if(K=b.g=g,q=ws(K,R,!0,b)&&q,q=ws(K,R,!1,b)&&q,E)for(ot=0;ot<E.length;ot++)K=b.g=E[ot],q=ws(K,R,!1,b)&&q}Me.prototype.N=function(){if(Me.Z.N.call(this),this.i){var g=this.i;for(const b in g.g){const E=g.g[b];for(let R=0;R<E.length;R++)ht(E[R]);delete g.g[b],g.h--}}this.G=null},Me.prototype.J=function(g,b,E,R){return this.i.add(String(g),b,!1,E,R)},Me.prototype.K=function(g,b,E,R){return this.i.add(String(g),b,!0,E,R)};function ws(g,b,E,R){if(b=g.i.g[String(b)],!b)return!0;b=b.concat();let q=!0;for(let K=0;K<b.length;++K){const ot=b[K];if(ot&&!ot.da&&ot.capture==E){const Mt=ot.listener,Se=ot.ha||ot.src;ot.fa&&xt(g.i,ot),q=Mt.call(Se,R)!==!1&&q}}return q&&!R.defaultPrevented}function qf(g,b){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=d(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(b)>2147483647?-1:c.setTimeout(g,b||0)}function qc(g){g.g=qf(()=>{g.g=null,g.i&&(g.i=!1,qc(g))},g.l);const b=g.h;g.h=null,g.m.apply(null,b)}class pn extends V{constructor(b,E){super(),this.m=b,this.l=E,this.h=null,this.i=!1,this.g=null}j(b){this.h=arguments,this.g?this.i=!0:qc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ra(g){V.call(this),this.h=g,this.g={}}_(Ra,V);var Go=[];function Yo(g){yt(g.g,function(b,E){this.g.hasOwnProperty(E)&&Rr(b)},g),g.g={}}Ra.prototype.N=function(){Ra.Z.N.call(this),Yo(this)},Ra.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Rs=c.JSON.stringify,Gf=c.JSON.parse,Gc=class{stringify(g){return c.JSON.stringify(g,void 0)}parse(g){return c.JSON.parse(g,void 0)}};function Yc(){}function Qc(){}var ei={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ze(){I.call(this,"d")}_(Ze,I);function jn(){I.call(this,"c")}_(jn,I);var Te={},Xc=null;function Cr(){return Xc=Xc||new Me}Te.Ia="serverreachability";function Kc(g){I.call(this,Te.Ia,g)}_(Kc,I);function bi(g){const b=Cr();He(b,new Kc(b))}Te.STAT_EVENT="statevent";function Ca(g,b){I.call(this,Te.STAT_EVENT,g),this.stat=b}_(Ca,I);function De(g){const b=Cr();He(b,new Ca(b,g))}Te.Ja="timingevent";function vi(g,b){I.call(this,Te.Ja,g),this.size=b}_(vi,I);function xi(g,b){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){g()},b)}function ni(){this.g=!0}ni.prototype.ua=function(){this.g=!1};function Yf(g,b,E,R,q,K){g.info(function(){if(g.g)if(K){var ot="",Mt=K.split("&");for(let Xt=0;Xt<Mt.length;Xt++){var Se=Mt[Xt].split("=");if(Se.length>1){const ge=Se[0];Se=Se[1];const Fn=ge.split("_");ot=Fn.length>=2&&Fn[1]=="type"?ot+(ge+"="+Se+"&"):ot+(ge+"=redacted&")}}}else ot=null;else ot=K;return"XMLHTTP REQ ("+R+") [attempt "+q+"]: "+b+`
`+E+`
`+ot})}function Wc(g,b,E,R,q,K,ot){g.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+q+"]: "+b+`
`+E+`
`+K+" "+ot})}function Ei(g,b,E,R){g.info(function(){return"XMLHTTP TEXT ("+b+"): "+Qf(g,E)+(R?" "+R:"")})}function Ma(g,b){g.info(function(){return"TIMEOUT: "+b})}ni.prototype.info=function(){};function Qf(g,b){if(!g.g)return b;if(!b)return null;try{const K=JSON.parse(b);if(K){for(g=0;g<K.length;g++)if(Array.isArray(K[g])){var E=K[g];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var q=R[0];if(q!="noop"&&q!="stop"&&q!="close")for(let ot=1;ot<R.length;ot++)R[ot]=""}}}}return Rs(K)}catch{return b}}var Da={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Xo;function Oa(){}_(Oa,Yc),Oa.prototype.g=function(){return new XMLHttpRequest},Xo=new Oa;function Wi(g){return encodeURIComponent(String(g))}function $c(g){var b=1;g=g.split(":");const E=[];for(;b>0&&g.length;)E.push(g.shift()),b--;return g.length&&E.push(g.join(":")),E}function ii(g,b,E,R){this.j=g,this.i=b,this.l=E,this.S=R||1,this.V=new Ra(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new si}function si(){this.i=null,this.g="",this.h=!1}var Oe={},Qe={};function Ti(g,b,E){g.M=1,g.A=Na(Ie(b)),g.u=E,g.R=!0,Mr(g,null)}function Mr(g,b){g.F=Date.now(),Si(g),g.B=Ie(g.A);var E=g.B,R=g.S;Array.isArray(R)||(R=[String(R)]),Ir(E.i,"t",R),g.C=0,E=g.j.L,g.h=new si,g.g=fu(g.j,E?b:null,!g.u),g.P>0&&(g.O=new pn(d(g.Y,g,g.g),g.P)),b=g.V,E=g.g,R=g.ba;var q="readystatechange";Array.isArray(q)||(q&&(Go[0]=q.toString()),q=Go);for(let K=0;K<q.length;K++){const ot=de(E,q[K],R||b.handleEvent,!1,b.h||b);if(!ot)break;b.g[ot.key]=ot}b=g.J?L(g.J):{},g.u?(g.v||(g.v="POST"),b["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,b)):(g.v="GET",g.g.ea(g.B,g.v,null,b)),bi(),Yf(g.i,g.v,g.B,g.l,g.S,g.u)}ii.prototype.ba=function(g){g=g.target;const b=this.O;b&&oi(g)==3?b.j():this.Y(g)},ii.prototype.Y=function(g){try{if(g==this.g)t:{const Mt=oi(this.g),Se=this.g.ya(),Xt=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||Je(this.g)))){this.K||Mt!=4||Se==7||(Se==8||Xt<=0?bi(3):bi(2)),Ai(this);var b=this.g.ca();this.X=b;var E=Xf(this);if(this.o=b==200,Wc(this.i,this.v,this.B,this.l,this.S,Mt,b),this.o){if(this.U&&!this.L){e:{if(this.g){var R,q=this.g;if((R=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var K=R;break e}}K=null}if(g=K)Ei(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,wi(this,g);else{this.o=!1,this.m=3,De(12),Mn(this),Bn(this);break t}}if(this.R){g=!0;let ge;for(;!this.K&&this.C<E.length;)if(ge=Jc(this,E),ge==Qe){Mt==4&&(this.m=4,De(14),g=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(ge==Oe){this.m=4,De(15),Ei(this.i,this.l,E,"[Invalid Chunk]"),g=!1;break}else Ei(this.i,this.l,ge,null),wi(this,ge);if(Zc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||E.length!=0||this.h.h||(this.m=1,De(16),g=!1),this.o=this.o&&g,!g)Ei(this.i,this.l,E,"[Invalid Chunked Response]"),Mn(this),Bn(this);else if(E.length>0&&!this.W){this.W=!0;var ot=this.j;ot.g==this&&ot.aa&&!ot.P&&(ot.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),cl(ot),ot.P=!0,De(11))}}else Ei(this.i,this.l,E,null),wi(this,E);Mt==4&&Mn(this),this.o&&!this.K&&(Mt==4?lu(this.j,this):(this.o=!1,Si(this)))}else Zi(this.g),b==400&&E.indexOf("Unknown SID")>0?(this.m=3,De(12)):(this.m=0,De(13)),Mn(this),Bn(this)}}}catch{}finally{}};function Xf(g){if(!Zc(g))return g.g.la();const b=Je(g.g);if(b==="")return"";let E="";const R=b.length,q=oi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Mn(g),Bn(g),"";g.h.i=new c.TextDecoder}for(let K=0;K<R;K++)g.h.h=!0,E+=g.h.i.decode(b[K],{stream:!(q&&K==R-1)});return b.length=0,g.h.g+=E,g.C=0,g.h.g}function Zc(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Jc(g,b){var E=g.C,R=b.indexOf(`
`,E);return R==-1?Qe:(E=Number(b.substring(E,R)),isNaN(E)?Oe:(R+=1,R+E>b.length?Qe:(b=b.slice(R,R+E),g.C=R+E,b)))}ii.prototype.cancel=function(){this.K=!0,Mn(this)};function Si(g){g.T=Date.now()+g.H,Dr(g,g.H)}function Dr(g,b){if(g.D!=null)throw Error("WatchDog timer not null");g.D=xi(d(g.aa,g),b)}function Ai(g){g.D&&(c.clearTimeout(g.D),g.D=null)}ii.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ma(this.i,this.B),this.M!=2&&(bi(),De(17)),Mn(this),this.m=2,Bn(this)):Dr(this,this.T-g)};function Bn(g){g.j.I==0||g.K||lu(g.j,g)}function Mn(g){Ai(g);var b=g.O;b&&typeof b.dispose=="function"&&b.dispose(),g.O=null,Yo(g.V),g.g&&(b=g.g,g.g=null,b.abort(),b.dispose())}function wi(g,b){try{var E=g.j;if(E.I!=0&&(E.g==g||Ci(E.h,g))){if(!g.L&&Ci(E.h,g)&&E.I==3){try{var R=E.Ba.g.parse(b)}catch{R=null}if(Array.isArray(R)&&R.length==3){var q=R;if(q[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<g.F)zr(E),ks(E);else break t;ja(E),De(18)}}else E.xa=q[1],0<E.xa-E.K&&q[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=xi(d(E.Va,E),6e3));Ri(E.h)<=1&&E.ta&&(E.ta=void 0)}else Vi(E,11)}else if((g.L||E.g==g)&&zr(E),!N(b))for(q=E.Ba.g.parse(b),b=0;b<q.length;b++){let Xt=q[b];const ge=Xt[0];if(!(ge<=E.K))if(E.K=ge,Xt=Xt[1],E.I==2)if(Xt[0]=="c"){E.M=Xt[1],E.ba=Xt[2];const Fn=Xt[3];Fn!=null&&(E.ka=Fn,E.j.info("VER="+E.ka));const ki=Xt[4];ki!=null&&(E.za=ki,E.j.info("SVER="+E.za));const li=Xt[5];li!=null&&typeof li=="number"&&li>0&&(R=1.5*li,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const ci=g.g;if(ci){const Ba=ci.g?ci.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ba){var K=R.h;K.g||Ba.indexOf("spdy")==-1&&Ba.indexOf("quic")==-1&&Ba.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&($o(K,K.h),K.h=null))}if(R.G){const jr=ci.g?ci.g.getResponseHeader("X-HTTP-Session-Id"):null;jr&&(R.wa=jr,Zt(R.J,R.G,jr))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-g.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ot=g;if(R.na=hu(R,R.L?R.ba:null,R.W),ot.L){Zo(R.h,ot);var Mt=ot,Se=R.O;Se&&(Mt.H=Se),Mt.D&&(Ai(Mt),Si(Mt)),R.g=ot}else ru(R);E.i.length>0&&Ii(E)}else Xt[0]!="stop"&&Xt[0]!="close"||Vi(E,7);else E.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?Vi(E,7):ol(E):Xt[0]!="noop"&&E.l&&E.l.qa(Xt),E.A=0)}}bi(4)}catch{}}var Ne=class{constructor(g,b){this.g=g,this.map=b}};function Ko(g){this.l=g||10,c.PerformanceNavigationTiming?(g=c.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Wo(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function Ri(g){return g.h?1:g.g?g.g.size:0}function Ci(g,b){return g.h?g.h==b:g.g?g.g.has(b):!1}function $o(g,b){g.g?g.g.add(b):g.h=b}function Zo(g,b){g.h&&g.h==b?g.h=null:g.g&&g.g.has(b)&&g.g.delete(b)}Ko.prototype.cancel=function(){if(this.i=Jo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function Jo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let b=g.i;for(const E of g.g.values())b=b.concat(E.G);return b}return T(g.i)}var tu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Or(g,b){if(g){g=g.split("&");for(let E=0;E<g.length;E++){const R=g[E].indexOf("=");let q,K=null;R>=0?(q=g[E].substring(0,R),K=g[E].substring(R+1)):q=g[E],b(q,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function Dn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let b;g instanceof Dn?(this.l=g.l,Xe(this,g.j),this.o=g.o,this.g=g.g,Cs(this,g.u),this.h=g.h,tl(this,su(g.i)),this.m=g.m):g&&(b=String(g).match(tu))?(this.l=!1,Xe(this,b[1]||"",!0),this.o=Mi(b[2]||""),this.g=Mi(b[3]||"",!0),Cs(this,b[4]),this.h=Mi(b[5]||"",!0),tl(this,b[6]||"",!0),this.m=Mi(b[7]||"")):(this.l=!1,this.i=new Ds(null,this.l))}Dn.prototype.toString=function(){const g=[];var b=this.j;b&&g.push(Ia(b,Nr,!0),":");var E=this.g;return(E||b=="file")&&(g.push("//"),(b=this.o)&&g.push(Ia(b,Nr,!0),"@"),g.push(Wi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&g.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&g.push("/"),g.push(Ia(E,E.charAt(0)=="/"?el:eu,!0))),(E=this.i.toString())&&g.push("?",E),(E=this.m)&&g.push("#",Ia(E,nu)),g.join("")},Dn.prototype.resolve=function(g){const b=Ie(this);let E=!!g.j;E?Xe(b,g.j):E=!!g.o,E?b.o=g.o:E=!!g.g,E?b.g=g.g:E=g.u!=null;var R=g.h;if(E)Cs(b,g.u);else if(E=!!g.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var q=b.h.lastIndexOf("/");q!=-1&&(R=b.h.slice(0,q+1)+R)}if(q=R,q==".."||q==".")R="";else if(q.indexOf("./")!=-1||q.indexOf("/.")!=-1){R=q.lastIndexOf("/",0)==0,q=q.split("/");const K=[];for(let ot=0;ot<q.length;){const Mt=q[ot++];Mt=="."?R&&ot==q.length&&K.push(""):Mt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),R&&ot==q.length&&K.push("")):(K.push(Mt),R=!0)}R=K.join("/")}else R=q}return E?b.h=R:E=g.i.toString()!=="",E?tl(b,su(g.i)):E=!!g.m,E&&(b.m=g.m),b};function Ie(g){return new Dn(g)}function Xe(g,b,E){g.j=E?Mi(b,!0):b,g.j&&(g.j=g.j.replace(/:$/,""))}function Cs(g,b){if(b){if(b=Number(b),isNaN(b)||b<0)throw Error("Bad port number "+b);g.u=b}else g.u=null}function tl(g,b,E){b instanceof Ds?(g.i=b,Vr(g.i,g.l)):(E||(b=Ia(b,Ms)),g.i=new Ds(b,g.l))}function Zt(g,b,E){g.i.set(b,E)}function Na(g){return Zt(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function Mi(g,b){return g?b?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ia(g,b,E){return typeof g=="string"?(g=encodeURI(g).replace(b,bn),E&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function bn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Nr=/[#\/\?@]/g,eu=/[#\?:]/g,el=/[#\?]/g,Ms=/[#\?@]/g,nu=/#/g;function Ds(g,b){this.h=this.g=null,this.i=g||null,this.j=!!b}function vn(g){g.g||(g.g=new Map,g.h=0,g.i&&Or(g.i,function(b,E){g.add(decodeURIComponent(b.replace(/\+/g," ")),E)}))}n=Ds.prototype,n.add=function(g,b){vn(this),this.i=null,g=Os(this,g);let E=this.g.get(g);return E||this.g.set(g,E=[]),E.push(b),this.h+=1,this};function iu(g,b){vn(g),b=Os(g,b),g.g.has(b)&&(g.i=null,g.h-=g.g.get(b).length,g.g.delete(b))}function nl(g,b){return vn(g),b=Os(g,b),g.g.has(b)}n.forEach=function(g,b){vn(this),this.g.forEach(function(E,R){E.forEach(function(q){g.call(b,q,R,this)},this)},this)};function il(g,b){vn(g);let E=[];if(typeof b=="string")nl(g,b)&&(E=E.concat(g.g.get(Os(g,b))));else for(g=Array.from(g.g.values()),b=0;b<g.length;b++)E=E.concat(g[b]);return E}n.set=function(g,b){return vn(this),this.i=null,g=Os(this,g),nl(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[b]),this.h+=1,this},n.get=function(g,b){return g?(g=il(this,g),g.length>0?String(g[0]):b):b};function Ir(g,b,E){iu(g,b),E.length>0&&(g.i=null,g.g.set(Os(g,b),T(E)),g.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],b=Array.from(this.g.keys());for(let R=0;R<b.length;R++){var E=b[R];const q=Wi(E);E=il(this,E);for(let K=0;K<E.length;K++){let ot=q;E[K]!==""&&(ot+="="+Wi(E[K])),g.push(ot)}}return this.i=g.join("&")};function su(g){const b=new Ds;return b.i=g.i,g.g&&(b.g=new Map(g.g),b.h=g.h),b}function Os(g,b){return b=String(b),g.j&&(b=b.toLowerCase()),b}function Vr(g,b){b&&!g.j&&(vn(g),g.i=null,g.g.forEach(function(E,R){const q=R.toLowerCase();R!=q&&(iu(this,R),Ir(this,q,E))},g)),g.j=b}function ai(g,b){const E=new ni;if(c.Image){const R=new Image;R.onload=y(Un,E,"TestLoadImage: loaded",!0,b,R),R.onerror=y(Un,E,"TestLoadImage: error",!1,b,R),R.onabort=y(Un,E,"TestLoadImage: abort",!1,b,R),R.ontimeout=y(Un,E,"TestLoadImage: timeout",!1,b,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=g}else b(!1)}function sl(g,b){const E=new ni,R=new AbortController,q=setTimeout(()=>{R.abort(),Un(E,"TestPingServer: timeout",!1,b)},1e4);fetch(g,{signal:R.signal}).then(K=>{clearTimeout(q),K.ok?Un(E,"TestPingServer: ok",!0,b):Un(E,"TestPingServer: server error",!1,b)}).catch(()=>{clearTimeout(q),Un(E,"TestPingServer: error",!1,b)})}function Un(g,b,E,R,q){try{q&&(q.onload=null,q.onerror=null,q.onabort=null,q.ontimeout=null),R(E)}catch{}}function Ns(){this.g=new Gc}function Di(g){this.i=g.Sb||null,this.h=g.ab||!1}_(Di,Yc),Di.prototype.g=function(){return new Va(this.i,this.h)};function Va(g,b){Me.call(this),this.H=g,this.o=b,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Va,Me),n=Va.prototype,n.open=function(g,b){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=b,this.readyState=1,ri(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const b={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(b.body=g),(this.H||c).fetch(new Request(this.D,b)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Is(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,ri(this)),this.g&&(this.readyState=3,ri(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kr(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function kr(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var b=g.value?g.value:new Uint8Array(0);(b=this.B.decode(b,{stream:!g.done}))&&(this.response=this.responseText+=b)}g.done?Is(this):ri(this),this.readyState==3&&kr(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,Is(this))},n.Na=function(g){this.g&&(this.response=g,Is(this))},n.ga=function(){this.g&&Is(this)};function Is(g){g.readyState=4,g.l=null,g.j=null,g.B=null,ri(g)}n.setRequestHeader=function(g,b){this.A.append(g,b)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],b=this.h.entries();for(var E=b.next();!E.done;)E=E.value,g.push(E[0]+": "+E[1]),E=b.next();return g.join(`\r
`)};function ri(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Va.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function Hn(g){let b="";return yt(g,function(E,R){b+=R,b+=":",b+=E,b+=`\r
`}),b}function ka(g,b,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=Hn(E),typeof g=="string"?E!=null&&Wi(E):Zt(g,b,E))}function ne(g){Me.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(ne,Me);var Oi=/^https?$/i,al=["POST","PUT"];n=ne.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,b,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);b=b?b.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Xo.g(),this.g.onreadystatechange=v(d(this.Ca,this));try{this.B=!0,this.g.open(b,String(g),!0),this.B=!1}catch(K){La(this,K);return}if(g=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var q in R)E.set(q,R[q]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())E.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),q=c.FormData&&g instanceof c.FormData,!(Array.prototype.indexOf.call(al,b,void 0)>=0)||R||q||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ot]of E)this.g.setRequestHeader(K,ot);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(K){La(this,K)}};function La(g,b){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=b,g.o=5,rl(g),$i(g)}function rl(g){g.A||(g.A=!0,He(g,"complete"),He(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,He(this,"complete"),He(this,"abort"),$i(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Pa(this):this.Xa())},n.Xa=function(){Pa(this)};function Pa(g){if(g.h&&typeof o<"u"){if(g.v&&oi(g)==4)setTimeout(g.Ca.bind(g),0);else if(He(g,"readystatechange"),oi(g)==4){g.h=!1;try{const K=g.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var b=!0;break t;default:b=!1}var E;if(!(E=b)){var R;if(R=K===0){let ot=String(g.D).match(tu)[1]||null;!ot&&c.self&&c.self.location&&(ot=c.self.location.protocol.slice(0,-1)),R=!Oi.test(ot?ot.toLowerCase():"")}E=R}if(E)He(g,"complete"),He(g,"success");else{g.o=6;try{var q=oi(g)>2?g.g.statusText:""}catch{q=""}g.l=q+" ["+g.ca()+"]",rl(g)}}finally{$i(g)}}}}function $i(g,b){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const E=g.g;g.g=null,b||He(g,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function oi(g){return g.g?g.g.readyState:0}n.ca=function(){try{return oi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var b=this.g.responseText;return g&&b.indexOf(g)==0&&(b=b.substring(g.length)),Gf(b)}};function Je(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(g){const b={};g=(g.g&&oi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<g.length;R++){if(N(g[R]))continue;var E=$c(g[R]);const q=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=b[q]||[];b[q]=K,K.push(E)}_t(b,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(g,b,E){return E&&E.internalChannelParams&&E.internalChannelParams[g]||b}function Vs(g){this.za=0,this.i=[],this.j=new ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,g),this.Za=Ni("retryDelaySeedMs",1e4,g),this.Ta=Ni("forwardChannelMaxRetries",2,g),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Ko(g&&g.concurrentRequestLimit),this.Ba=new Ns,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Vs.prototype,n.ka=8,n.I=1,n.connect=function(g,b,E,R){De(0),this.W=g,this.H=b||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=hu(this,null,this.W),Ii(this)};function ol(g){if(Lr(g),g.I==3){var b=g.V++,E=Ie(g.J);if(Zt(E,"SID",g.M),Zt(E,"RID",b),Zt(E,"TYPE","terminate"),za(g,E),b=new ii(g,g.j,b),b.M=2,b.A=Na(Ie(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(b.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=b.A,E=!0),E||(b.g=fu(b.j,null),b.g.ea(b.A)),b.F=Date.now(),Si(b)}uu(g)}function ks(g){g.g&&(cl(g),g.g.cancel(),g.g=null)}function Lr(g){ks(g),g.v&&(c.clearTimeout(g.v),g.v=null),zr(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&c.clearTimeout(g.m),g.m=null)}function Ii(g){if(!Wo(g.h)&&!g.m){g.m=!0;var b=g.Ea;$||w(),nt||($(),nt=!0),M.add(b,g),g.D=0}}function Pr(g,b){return Ri(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=b.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=xi(d(g.Ea,g,b),cu(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const q=new ii(this,this.j,g);let K=this.o;if(this.U&&(K?(K=L(K),lt(K,this.U)):K=this.U),this.u!==null||this.R||(q.J=K,K=null),this.S)t:{for(var b=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(b+=R,b>4096){b=E;break t}if(b===4096||E===this.i.length-1){b=E+1;break t}}b=1e3}else b=1e3;b=au(this,q,b),E=Ie(this.J),Zt(E,"RID",g),Zt(E,"CVER",22),this.G&&Zt(E,"X-HTTP-Session-Id",this.G),za(this,E),K&&(this.R?b="headers="+Wi(Hn(K))+"&"+b:this.u&&ka(E,this.u,K)),$o(this.h,q),this.Ra&&Zt(E,"TYPE","init"),this.S?(Zt(E,"$req",b),Zt(E,"SID","null"),q.U=!0,Ti(q,E,null)):Ti(q,E,b),this.I=2}}else this.I==3&&(g?ll(this,g):this.i.length==0||Wo(this.h)||ll(this))};function ll(g,b){var E;b?E=b.l:E=g.V++;const R=Ie(g.J);Zt(R,"SID",g.M),Zt(R,"RID",E),Zt(R,"AID",g.K),za(g,R),g.u&&g.o&&ka(R,g.u,g.o),E=new ii(g,g.j,E,g.D+1),g.u===null&&(E.J=g.o),b&&(g.i=b.G.concat(g.i)),b=au(g,E,1e3),E.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),$o(g.h,E),Ti(E,R,b)}function za(g,b){g.H&&yt(g.H,function(E,R){Zt(b,R,E)}),g.l&&yt({},function(E,R){Zt(b,R,E)})}function au(g,b,E){E=Math.min(g.i.length,E);const R=g.l?d(g.l.Ka,g.l,g):null;t:{var q=g.i;let Mt=-1;for(;;){const Se=["count="+E];Mt==-1?E>0?(Mt=q[0].g,Se.push("ofs="+Mt)):Mt=0:Se.push("ofs="+Mt);let Xt=!0;for(let ge=0;ge<E;ge++){var K=q[ge].g;const Fn=q[ge].map;if(K-=Mt,K<0)Mt=Math.max(0,q[ge].g-100),Xt=!1;else try{K="req"+K+"_"||"";try{var ot=Fn instanceof Map?Fn:Object.entries(Fn);for(const[ki,li]of ot){let ci=li;h(li)&&(ci=Rs(li)),Se.push(K+ki+"="+encodeURIComponent(ci))}}catch(ki){throw Se.push(K+"type="+encodeURIComponent("_badmap")),ki}}catch{R&&R(Fn)}}if(Xt){ot=Se.join("&");break t}}ot=void 0}return g=g.i.splice(0,E),b.G=g,ot}function ru(g){if(!g.g&&!g.v){g.Y=1;var b=g.Da;$||w(),nt||($(),nt=!0),M.add(b,g),g.A=0}}function ja(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=xi(d(g.Da,g),cu(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,ou(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=xi(d(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,De(10),ks(this),ou(this))};function cl(g){g.B!=null&&(c.clearTimeout(g.B),g.B=null)}function ou(g){g.g=new ii(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var b=Ie(g.na);Zt(b,"RID","rpc"),Zt(b,"SID",g.M),Zt(b,"AID",g.K),Zt(b,"CI",g.F?"0":"1"),!g.F&&g.ia&&Zt(b,"TO",g.ia),Zt(b,"TYPE","xmlhttp"),za(g,b),g.u&&g.o&&ka(b,g.u,g.o),g.O&&(g.g.H=g.O);var E=g.g;g=g.ba,E.M=1,E.A=Na(Ie(b)),E.u=null,E.R=!0,Mr(E,g)}n.Va=function(){this.C!=null&&(this.C=null,ks(this),ja(this),De(19))};function zr(g){g.C!=null&&(c.clearTimeout(g.C),g.C=null)}function lu(g,b){var E=null;if(g.g==b){zr(g),cl(g),g.g=null;var R=2}else if(Ci(g.h,b))E=b.G,Zo(g.h,b),R=1;else return;if(g.I!=0){if(b.o)if(R==1){E=b.u?b.u.length:0,b=Date.now()-b.F;var q=g.D;R=Cr(),He(R,new vi(R,E)),Ii(g)}else ru(g);else if(q=b.m,q==3||q==0&&b.X>0||!(R==1&&Pr(g,b)||R==2&&ja(g)))switch(E&&E.length>0&&(b=g.h,b.i=b.i.concat(E)),q){case 1:Vi(g,5);break;case 4:Vi(g,10);break;case 3:Vi(g,6);break;default:Vi(g,2)}}}function cu(g,b){let E=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(E*=2),E*b}function Vi(g,b){if(g.j.info("Error code "+b),b==2){var E=d(g.bb,g),R=g.Ua;const q=!R;R=new Dn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Xe(R,"https"),Na(R),q?ai(R.toString(),E):sl(R.toString(),E)}else De(2);g.I=0,g.l&&g.l.pa(b),uu(g),Lr(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),De(2)):(this.j.info("Failed to ping google.com"),De(1))};function uu(g){if(g.I=0,g.ja=[],g.l){const b=Jo(g.h);(b.length!=0||g.i.length!=0)&&(A(g.ja,b),A(g.ja,g.i),g.h.i.length=0,T(g.i),g.i.length=0),g.l.oa()}}function hu(g,b,E){var R=E instanceof Dn?Ie(E):new Dn(E);if(R.g!="")b&&(R.g=b+"."+R.g),Cs(R,R.u);else{var q=c.location;R=q.protocol,b=b?b+"."+q.hostname:q.hostname,q=+q.port;const K=new Dn(null);R&&Xe(K,R),b&&(K.g=b),q&&Cs(K,q),E&&(K.h=E),R=K}return E=g.G,b=g.wa,E&&b&&Zt(R,E,b),Zt(R,"VER",g.ka),za(g,R),R}function fu(g,b,E){if(b&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return b=g.Aa&&!g.ma?new ne(new Di({ab:E})):new ne(g.ma),b.Fa(g.L),b}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function du(){}n=du.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ls(){}Ls.prototype.g=function(g,b){return new yn(g,b)};function yn(g,b){Me.call(this),this.g=new Vs(b),this.l=g,this.h=b&&b.messageUrlParams||null,g=b&&b.messageHeaders||null,b&&b.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=b&&b.initMessageHeaders||null,b&&b.messageContentType&&(g?g["X-WebChannel-Content-Type"]=b.messageContentType:g={"X-WebChannel-Content-Type":b.messageContentType}),b&&b.sa&&(g?g["X-WebChannel-Client-Profile"]=b.sa:g={"X-WebChannel-Client-Profile":b.sa}),this.g.U=g,(g=b&&b.Qb)&&!N(g)&&(this.g.u=g),this.A=b&&b.supportsCrossDomainXhr||!1,this.v=b&&b.sendRawJson||!1,(b=b&&b.httpSessionIdParam)&&!N(b)&&(this.g.G=b,g=this.h,g!==null&&b in g&&(g=this.h,b in g&&delete g[b])),this.j=new Ji(this)}_(yn,Me),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){ol(this.g)},yn.prototype.o=function(g){var b=this.g;if(typeof g=="string"){var E={};E.__data__=g,g=E}else this.v&&(E={},E.__data__=Rs(g),g=E);b.i.push(new Ne(b.Ya++,g)),b.I==3&&Ii(b)},yn.prototype.N=function(){this.g.l=null,delete this.j,ol(this.g),delete this.g,yn.Z.N.call(this)};function gu(g){Ze.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var b=g.__sm__;if(b){t:{for(const E in b){g=E;break t}g=void 0}(this.i=g)&&(g=this.i,b=b!==null&&g in b?b[g]:void 0),this.data=b}else this.data=g}_(gu,Ze);function mu(){jn.call(this),this.status=1}_(mu,jn);function Ji(g){this.g=g}_(Ji,du),Ji.prototype.ra=function(){He(this.g,"a")},Ji.prototype.qa=function(g){He(this.g,new gu(g))},Ji.prototype.pa=function(g){He(this.g,new mu)},Ji.prototype.oa=function(){He(this.g,"b")},Ls.prototype.createWebChannel=Ls.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,Ix=function(){return new Ls},Nx=function(){return Cr()},Ox=Te,Sm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Da.NO_ERROR=0,Da.TIMEOUT=8,Da.HTTP_ERROR=6,zh=Da,Qo.COMPLETE="complete",Dx=Qo,Qc.EventType=ei,ei.OPEN="a",ei.CLOSE="b",ei.ERROR="c",ei.MESSAGE="d",Me.prototype.listen=Me.prototype.J,Jl=Qc,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,Mx=ne}).apply(typeof bh<"u"?bh:typeof self<"u"?self:typeof window<"u"?window:{});const Yb="@firebase/firestore",Qb="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr=new Ex("@firebase/firestore");function _o(){return pr.logLevel}function dt(n,...t){if(pr.logLevel<=qt.DEBUG){const e=t.map(op);pr.debug(`Firestore (${Po}): ${n}`,...e)}}function Ss(n,...t){if(pr.logLevel<=qt.ERROR){const e=t.map(op);pr.error(`Firestore (${Po}): ${n}`,...e)}}function Ro(n,...t){if(pr.logLevel<=qt.WARN){const e=t.map(op);pr.warn(`Firestore (${Po}): ${n}`,...e)}}function op(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(e){return JSON.stringify(e)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Vx(n,i,e)}function Vx(n,t,e){let i=`FIRESTORE (${Po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ss(i),new Error(i)}function $t(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||Vx(t,a,i)}function Ct(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Lo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Bw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(hn.UNAUTHENTICATED)))}shutdown(){}}class Uw{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Hw{constructor(t){this.t=t,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){$t(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new hr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new hr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?($t(typeof i.accessToken=="string",31837,{l:i}),new kx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new hn(t)}}class Fw{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qw{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new Fw(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(hn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Xb{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Gw{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Tw(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){$t(this.o===void 0,3512);const i=o=>{o.error!=null&&dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,dt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Xb(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?($t(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new Xb(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=Yw(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function zt(n,t){return n<t?-1:n>t?1:0}function Am(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return Zg(a)===Zg(o)?zt(a,o):Zg(a)?1:-1}return zt(n.length,t.length)}const Qw=55296,Xw=57343;function Zg(n){const t=n.charCodeAt(0);return t>=Qw&&t<=Xw}function Co(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kb="__name__";class Hi{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Hi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Hi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Hi.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return zt(t.length,e.length)}static compareSegments(t,e){const i=Hi.isNumericId(t),a=Hi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Hi.extractNumericId(t).compare(Hi.extractNumericId(e)):Am(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return da.fromString(t.substring(4,t.length-2))}}class le extends Hi{construct(t,e,i){return new le(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(at.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new le(e)}static emptyPath(){return new le([])}}const Kw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rn extends Hi{construct(t,e,i){return new rn(t,e,i)}static isValidIdentifier(t){return Kw.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Kb}static keyField(){return new rn([Kb])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new gt(at.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(at.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new gt(at.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new rn(e)}static emptyPath(){return new rn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t){this.path=t}static fromPath(t){return new vt(le.fromString(t))}static fromName(t){return new vt(le.fromString(t).popFirst(5))}static empty(){return new vt(le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&le.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return le.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new le(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lx(n,t,e){if(!e)throw new gt(at.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function Ww(n,t,e,i){if(t===!0&&i===!0)throw new gt(at.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function Wb(n){if(!vt.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function $b(n){if(vt.isDocumentKey(n))throw new gt(at.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Px(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Sf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function To(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(at.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=Sf(n);throw new gt(at.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Be(n,t){const e={typeString:n};return t&&(e.value=t),e}function Lc(n,t){if(!Px(n))throw new gt(at.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(at.INVALID_ARGUMENT,e);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb=-62135596800,Jb=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*Jb);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(at.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<Zb)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(at.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Jb}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Lc(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Zb;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Be("string",he._jsonSchemaVersion),seconds:Be("number"),nanoseconds:Be("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new he(0,0))}static max(){return new At(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc=-1;function $w(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=At.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new pa(a,vt.empty(),t)}function Zw(n){return new pa(n.readTime,n.key,xc)}class pa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new pa(At.min(),vt.empty(),xc)}static max(){return new pa(At.max(),vt.empty(),xc)}}function Jw(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:zt(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class eR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zo(n){if(n.code!==at.FAILED_PRECONDITION||n.message!==tR)throw n;dt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,i)=>{e(t)}))}static reject(t){return new rt(((e,i)=>{i(t)}))}static waitFor(t){return new rt(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>i(f)))})),c=!0,o===a&&e()}))}static or(t){let e=rt.resolve(!1);for(const i of t)e=e.next((a=>a?rt.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new rt(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const d=f;e(t[d]).next((y=>{c[d]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new rt(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function nR(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function jo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Af.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cp=-1;function wf(n){return n==null}function sf(n){return n===0&&1/n==-1/0}function iR(n){return typeof n=="number"&&Number.isInteger(n)&&!sf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx="";function sR(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=tv(t)),t=aR(n.get(e),t);return tv(t)}function aR(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case zx:e+="";break;default:e+=o}}return e}function tv(n){return n+zx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function vr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function jx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(t,e){this.comparator=t,this.root=e||an.EMPTY}insert(t,e){return new _e(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,an.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,an.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vh(this.root,t,this.comparator,!1)}getReverseIterator(){return new vh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vh(this.root,t,this.comparator,!0)}}class vh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class an{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??an.RED,this.left=a??an.EMPTY,this.right=o??an.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new an(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return an.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return an.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,an.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,an.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}an.EMPTY=null,an.RED=!0,an.BLACK=!1;an.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new an(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new nv(this.data.getIterator())}getIteratorFrom(t){return new nv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Ye)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Ye(this.comparator);return e.data=t,e}}class nv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(t){this.fields=t,t.sort(rn.comparator)}static empty(){return new di([])}unionWith(t){let e=new Ye(rn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new di(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Co(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bx("Invalid base64 string: "+o):o}})(t);return new on(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new on(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}on.EMPTY_BYTE_STRING=new on("");const rR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ya(n){if($t(!!n,39018),typeof n=="string"){let t=0;const e=rR.exec(n);if($t(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Re(n.seconds),nanos:Re(n.nanos)}}function Re(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function _a(n){return typeof n=="string"?on.fromBase64String(n):on.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ux="server_timestamp",Hx="__type__",Fx="__previous_value__",qx="__local_write_time__";function up(n){var e,i;return((i=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[Hx])==null?void 0:i.stringValue)===Ux}function Rf(n){const t=n.mapValue.fields[Fx];return up(t)?Rf(t):t}function Ec(n){const t=ya(n.mapValue.fields[qx].timestampValue);return new he(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(t,e,i,a,o,c,h,f,d,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=d,this.isUsingEmulator=y}}const af="(default)";class Tc{constructor(t,e){this.projectId=t,this.database=e||af}static empty(){return new Tc("","")}get isDefaultDatabase(){return this.database===af}isEqual(t){return t instanceof Tc&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx="__type__",lR="__max__",xh={mapValue:{}},Yx="__vector__",rf="value";function ba(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?up(n)?4:uR(n)?9007199254740991:cR(n)?10:11:St(28295,{value:n})}function Ki(n,t){if(n===t)return!0;const e=ba(n);if(e!==ba(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ec(n).isEqual(Ec(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=ya(a.timestampValue),h=ya(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return _a(a.bytesValue).isEqual(_a(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Re(a.geoPointValue.latitude)===Re(o.geoPointValue.latitude)&&Re(a.geoPointValue.longitude)===Re(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Re(a.integerValue)===Re(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Re(a.doubleValue),h=Re(o.doubleValue);return c===h?sf(c)===sf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Co(n.arrayValue.values||[],t.arrayValue.values||[],Ki);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(ev(c)!==ev(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!Ki(c[f],h[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function Sc(n,t){return(n.values||[]).find((e=>Ki(e,t)))!==void 0}function Mo(n,t){if(n===t)return 0;const e=ba(n),i=ba(t);if(e!==i)return zt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return zt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Re(o.integerValue||o.doubleValue),f=Re(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return iv(n.timestampValue,t.timestampValue);case 4:return iv(Ec(n),Ec(t));case 5:return Am(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=_a(o),f=_a(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let d=0;d<h.length&&d<f.length;d++){const y=zt(h[d],f[d]);if(y!==0)return y}return zt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=zt(Re(o.latitude),Re(c.latitude));return h!==0?h:zt(Re(o.longitude),Re(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return sv(n.arrayValue,t.arrayValue);case 10:return(function(o,c){var v,T,A,C;const h=o.fields||{},f=c.fields||{},d=(v=h[rf])==null?void 0:v.arrayValue,y=(T=f[rf])==null?void 0:T.arrayValue,_=zt(((A=d==null?void 0:d.values)==null?void 0:A.length)||0,((C=y==null?void 0:y.values)==null?void 0:C.length)||0);return _!==0?_:sv(d,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===xh.mapValue&&c===xh.mapValue)return 0;if(o===xh.mapValue)return 1;if(c===xh.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),d=c.fields||{},y=Object.keys(d);f.sort(),y.sort();for(let _=0;_<f.length&&_<y.length;++_){const v=Am(f[_],y[_]);if(v!==0)return v;const T=Mo(h[f[_]],d[y[_]]);if(T!==0)return T}return zt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function iv(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return zt(n,t);const e=ya(n),i=ya(t),a=zt(e.seconds,i.seconds);return a!==0?a:zt(e.nanos,i.nanos)}function sv(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=Mo(e[a],i[a]);if(o)return o}return zt(e.length,i.length)}function Do(n){return wm(n)}function wm(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=ya(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return _a(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=wm(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${wm(e.fields[c])}`;return a+"}"})(n.mapValue):St(61005,{value:n})}function jh(n){switch(ba(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Rf(n);return t?16+jh(t):16;case 5:return 2*n.stringValue.length;case 6:return _a(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+jh(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return vr(i.fields,((o,c)=>{a+=o.length+jh(c)})),a})(n.mapValue);default:throw St(13486,{value:n})}}function av(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Rm(n){return!!n&&"integerValue"in n}function hp(n){return!!n&&"arrayValue"in n}function rv(n){return!!n&&"nullValue"in n}function ov(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Bh(n){return!!n&&"mapValue"in n}function cR(n){var e,i;return((i=(((e=n==null?void 0:n.mapValue)==null?void 0:e.fields)||{})[Gx])==null?void 0:i.stringValue)===Yx}function uc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return vr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=uc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=uc(n.arrayValue.values[e]);return t}return{...n}}function uR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===lR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(t){this.value=t}static empty(){return new Jn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Bh(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=uc(e)}setAll(t){let e=rn.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=uc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());Bh(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ki(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Bh(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){vr(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Jn(uc(this.value))}}function Qx(n){const t=[];return vr(n.fields,((e,i)=>{const a=new rn([e]);if(Bh(i)){const o=Qx(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new di(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new dn(t,0,At.min(),At.min(),At.min(),Jn.empty(),0)}static newFoundDocument(t,e,i,a){return new dn(t,1,e,At.min(),i,a,0)}static newNoDocument(t,e){return new dn(t,2,e,At.min(),At.min(),Jn.empty(),0)}static newUnknownDocument(t,e){return new dn(t,3,e,At.min(),At.min(),Jn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof dn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(t,e){this.position=t,this.inclusive=e}}function lv(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(c.referenceValue),e.key):i=Mo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function cv(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Ki(n.position[e],t.position[e]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(t,e="asc"){this.field=t,this.dir=e}}function hR(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{}class je extends Xx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new dR(t,e,i):e==="array-contains"?new pR(t,i):e==="in"?new yR(t,i):e==="not-in"?new _R(t,i):e==="array-contains-any"?new bR(t,i):new je(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new gR(t,i):new mR(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Mo(e,this.value)):e!==null&&ba(this.value)===ba(e)&&this.matchesComparison(Mo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class pi extends Xx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new pi(t,e)}matches(t){return Kx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Kx(n){return n.op==="and"}function Wx(n){return fR(n)&&Kx(n)}function fR(n){for(const t of n.filters)if(t instanceof pi)return!1;return!0}function Cm(n){if(n instanceof je)return n.field.canonicalString()+n.op.toString()+Do(n.value);if(Wx(n))return n.filters.map((t=>Cm(t))).join(",");{const t=n.filters.map((e=>Cm(e))).join(",");return`${n.op}(${t})`}}function $x(n,t){return n instanceof je?(function(i,a){return a instanceof je&&i.op===a.op&&i.field.isEqual(a.field)&&Ki(i.value,a.value)})(n,t):n instanceof pi?(function(i,a){return a instanceof pi&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&$x(c,a.filters[h])),!0):!1})(n,t):void St(19439)}function Zx(n){return n instanceof je?(function(e){return`${e.field.canonicalString()} ${e.op} ${Do(e.value)}`})(n):n instanceof pi?(function(e){return e.op.toString()+" {"+e.getFilters().map(Zx).join(" ,")+"}"})(n):"Filter"}class dR extends je{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class gR extends je{constructor(t,e){super(t,"in",e),this.keys=Jx("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class mR extends je{constructor(t,e){super(t,"not-in",e),this.keys=Jx("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function Jx(n,t){var e;return(((e=t.arrayValue)==null?void 0:e.values)||[]).map((i=>vt.fromName(i.referenceValue)))}class pR extends je{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hp(e)&&Sc(e.arrayValue,this.value)}}class yR extends je{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Sc(this.value.arrayValue,e)}}class _R extends je{constructor(t,e){super(t,"not-in",e)}matches(t){if(Sc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Sc(this.value.arrayValue,e)}}class bR extends je{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hp(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Sc(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function uv(n,t=null,e=[],i=[],a=null,o=null,c=null){return new vR(n,t,e,i,a,o,c)}function fp(n){const t=Ct(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Cm(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),wf(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Do(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Do(i))).join(",")),t.Te=e}return t.Te}function dp(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!hR(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!$x(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!cv(n.startAt,t.startAt)&&cv(n.endAt,t.endAt)}function Mm(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function xR(n,t,e,i,a,o,c,h){return new Pc(n,t,e,i,a,o,c,h)}function gp(n){return new Pc(n)}function hv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function tE(n){return n.collectionGroup!==null}function hc(n){const t=Ct(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new Ye(rn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new lf(o,i))})),e.has(rn.keyField().canonicalString())||t.Ie.push(new lf(rn.keyField(),i))}return t.Ie}function Fi(n){const t=Ct(n);return t.Ee||(t.Ee=ER(t,hc(n))),t.Ee}function ER(n,t){if(n.limitType==="F")return uv(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new lf(a.field,o)}));const e=n.endAt?new of(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new of(n.startAt.position,n.startAt.inclusive):null;return uv(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Dm(n,t){const e=n.filters.concat([t]);return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Om(n,t,e){return new Pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Cf(n,t){return dp(Fi(n),Fi(t))&&n.limitType===t.limitType}function eE(n){return`${fp(Fi(n))}|lt:${n.limitType}`}function bo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>Zx(a))).join(", ")}]`),wf(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Do(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Do(a))).join(",")),`Target(${i})`})(Fi(n))}; limitType=${n.limitType})`}function Mf(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of hc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const d=lv(c,h,f);return c.inclusive?d<=0:d<0})(i.startAt,hc(i),a)||i.endAt&&!(function(c,h,f){const d=lv(c,h,f);return c.inclusive?d>=0:d>0})(i.endAt,hc(i),a))})(n,t)}function TR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function nE(n){return(t,e)=>{let i=!1;for(const a of hc(n)){const o=SR(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function SR(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),d=h.data.field(o);return f!==null&&d!==null?Mo(f,d):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return jx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR=new _e(vt.comparator);function As(){return AR}const iE=new _e(vt.comparator);function tc(...n){let t=iE;for(const e of n)t=t.insert(e.key,e);return t}function sE(n){let t=iE;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function cr(){return fc()}function aE(){return fc()}function fc(){return new xr((n=>n.toString()),((n,t)=>n.isEqual(t)))}const wR=new _e(vt.comparator),RR=new Ye(vt.comparator);function jt(...n){let t=RR;for(const e of n)t=t.add(e);return t}const CR=new Ye(zt);function MR(){return CR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sf(t)?"-0":t}}function rE(n){return{integerValue:""+n}}function DR(n,t){return iR(t)?rE(t):mp(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(){this._=void 0}}function OR(n,t,e){return n instanceof cf?(function(a,o){const c={fields:{[Hx]:{stringValue:Ux},[qx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&up(o)&&(o=Rf(o)),o&&(c.fields[Fx]=o),{mapValue:c}})(e,t):n instanceof Ac?lE(n,t):n instanceof wc?cE(n,t):(function(a,o){const c=oE(a,o),h=fv(c)+fv(a.Ae);return Rm(c)&&Rm(a.Ae)?rE(h):mp(a.serializer,h)})(n,t)}function NR(n,t,e){return n instanceof Ac?lE(n,t):n instanceof wc?cE(n,t):e}function oE(n,t){return n instanceof uf?(function(i){return Rm(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class cf extends Df{}class Ac extends Df{constructor(t){super(),this.elements=t}}function lE(n,t){const e=uE(t);for(const i of n.elements)e.some((a=>Ki(a,i)))||e.push(i);return{arrayValue:{values:e}}}class wc extends Df{constructor(t){super(),this.elements=t}}function cE(n,t){let e=uE(t);for(const i of n.elements)e=e.filter((a=>!Ki(a,i)));return{arrayValue:{values:e}}}class uf extends Df{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function fv(n){return Re(n.integerValue||n.doubleValue)}function uE(n){return hp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function IR(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof Ac&&a instanceof Ac||i instanceof wc&&a instanceof wc?Co(i.elements,a.elements,Ki):i instanceof uf&&a instanceof uf?Ki(i.Ae,a.Ae):i instanceof cf&&a instanceof cf})(n.transform,t.transform)}class VR{constructor(t,e){this.version=t,this.transformResults=e}}class qi{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new qi}static exists(t){return new qi(void 0,t)}static updateTime(t){return new qi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uh(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Of{}function hE(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new pp(n.key,qi.none()):new zc(n.key,n.data,qi.none());{const e=n.data,i=Jn.empty();let a=new Ye(rn.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Er(n.key,i,new di(a.toArray()),qi.none())}}function kR(n,t,e){n instanceof zc?(function(a,o,c){const h=a.value.clone(),f=gv(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Er?(function(a,o,c){if(!Uh(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=gv(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(fE(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function dc(n,t,e,i){return n instanceof zc?(function(o,c,h,f){if(!Uh(o.precondition,c))return h;const d=o.value.clone(),y=mv(o.fieldTransforms,f,c);return d.setAll(y),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,t,e,i):n instanceof Er?(function(o,c,h,f){if(!Uh(o.precondition,c))return h;const d=mv(o.fieldTransforms,f,c),y=c.data;return y.setAll(fE(o)),y.setAll(d),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,t,e,i):(function(o,c,h){return Uh(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function LR(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=oE(i.transform,a||null);o!=null&&(e===null&&(e=Jn.empty()),e.set(i.field,o))}return e||null}function dv(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Co(i,a,((o,c)=>IR(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class zc extends Of{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Er extends Of{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function fE(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function gv(n,t,e){const i=new Map;$t(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,NR(c,h,e[a]))}return i}function mv(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,OR(o,c,t))}return i}class pp extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PR extends Of{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&kR(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=dc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=dc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=aE();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=hE(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(At.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),jt())}isEqual(t){return this.batchId===t.batchId&&Co(this.mutations,t.mutations,((e,i)=>dv(e,i)))&&Co(this.baseMutations,t.baseMutations,((e,i)=>dv(e,i)))}}class yp{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){$t(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return wR})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new yp(t,e,i,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BR{constructor(t,e){this.count=t,this.unchangedNames=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ze,Ft;function UR(n){switch(n){case at.OK:return St(64938);case at.CANCELLED:case at.UNKNOWN:case at.DEADLINE_EXCEEDED:case at.RESOURCE_EXHAUSTED:case at.INTERNAL:case at.UNAVAILABLE:case at.UNAUTHENTICATED:return!1;case at.INVALID_ARGUMENT:case at.NOT_FOUND:case at.ALREADY_EXISTS:case at.PERMISSION_DENIED:case at.FAILED_PRECONDITION:case at.ABORTED:case at.OUT_OF_RANGE:case at.UNIMPLEMENTED:case at.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function dE(n){if(n===void 0)return Ss("GRPC error has no .code"),at.UNKNOWN;switch(n){case ze.OK:return at.OK;case ze.CANCELLED:return at.CANCELLED;case ze.UNKNOWN:return at.UNKNOWN;case ze.DEADLINE_EXCEEDED:return at.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return at.RESOURCE_EXHAUSTED;case ze.INTERNAL:return at.INTERNAL;case ze.UNAVAILABLE:return at.UNAVAILABLE;case ze.UNAUTHENTICATED:return at.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return at.INVALID_ARGUMENT;case ze.NOT_FOUND:return at.NOT_FOUND;case ze.ALREADY_EXISTS:return at.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return at.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return at.FAILED_PRECONDITION;case ze.ABORTED:return at.ABORTED;case ze.OUT_OF_RANGE:return at.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return at.UNIMPLEMENTED;case ze.DATA_LOSS:return at.DATA_LOSS;default:return St(39323,{code:n})}}(Ft=ze||(ze={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new da([4294967295,4294967295],0);function pv(n){const t=HR().encode(n),e=new Cx;return e.update(t),new Uint8Array(e.digest())}function yv(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new da([e,i],0),new da([a,o],0)]}class _p{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new ec(`Invalid padding: ${e}`);if(i<0)throw new ec(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new ec(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new ec(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=da.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(da.fromNumber(i)));return a.compare(FR)===1&&(a=new da([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=pv(t),[i,a]=yv(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new _p(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=pv(t),[i,a]=yv(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,jc.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Nf(At.min(),a,new _e(zt),As(),jt())}}class jc{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new jc(i,e,jt(),jt(),jt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class gE{constructor(t,e){this.targetId=t,this.Ce=e}}class mE{constructor(t,e,i=on.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class _v{constructor(){this.ve=0,this.Fe=bv(),this.Me=on.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=jt(),e=jt(),i=jt();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:St(38017,{changeType:o})}})),new jc(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=bv()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qR{constructor(t){this.Ge=t,this.ze=new Map,this.je=As(),this.Je=Eh(),this.He=Eh(),this.Ye=new _e(zt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(Mm(o))if(i===0){const c=new vt(o.path);this.et(e,c,dn.newNoDocument(c,At.min()))}else $t(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const d=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,d)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=_a(i).toUint8Array()}catch(f){if(f instanceof Bx)return Ro("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new _p(c,a,o)}catch(f){return Ro(f instanceof ec?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Mm(h.target)){const f=new vt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,dn.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=jt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const d=this.ot(f);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new Nf(t,e,this.Ye,this.je,i);return this.je=As(),this.Je=Eh(),this.He=Eh(),this.Ye=new _e(zt),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new _v,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Ye(zt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Ye(zt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||dt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new _v),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Eh(){return new _e(vt.comparator)}function bv(){return new _e(vt.comparator)}const GR={asc:"ASCENDING",desc:"DESCENDING"},YR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QR={and:"AND",or:"OR"};class XR{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Nm(n,t){return n.useProto3Json||wf(t)?t:{value:t}}function hf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function pE(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function KR(n,t){return hf(n,t.toTimestamp())}function Gi(n){return $t(!!n,49232),At.fromTimestamp((function(e){const i=ya(e);return new he(i.seconds,i.nanos)})(n))}function bp(n,t){return Im(n,t).canonicalString()}function Im(n,t){const e=(function(a){return new le(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function yE(n){const t=le.fromString(n);return $t(EE(t),10190,{key:t.toString()}),t}function Vm(n,t){return bp(n.databaseId,t.path)}function Jg(n,t){const e=yE(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(at.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(bE(e))}function _E(n,t){return bp(n.databaseId,t)}function WR(n){const t=yE(n);return t.length===4?le.emptyPath():bE(t)}function km(n){return new le(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function bE(n){return $t(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function vv(n,t,e){return{name:Vm(n,t),fields:e.value.mapValue.fields}}function $R(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:St(39313,{state:d})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(d,y){return d.useProto3Json?($t(y===void 0||typeof y=="string",58123),on.fromBase64String(y||"")):($t(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),on.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(d){const y=d.code===void 0?at.UNKNOWN:dE(d.code);return new gt(y,d.message||"")})(c);e=new mE(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Jg(n,i.document.name),o=Gi(i.document.updateTime),c=i.document.createTime?Gi(i.document.createTime):At.min(),h=new Jn({mapValue:{fields:i.document.fields}}),f=dn.newFoundDocument(a,o,c,h),d=i.targetIds||[],y=i.removedTargetIds||[];e=new Hh(d,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Jg(n,i.document),o=i.readTime?Gi(i.readTime):At.min(),c=dn.newNoDocument(a,o),h=i.removedTargetIds||[];e=new Hh([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Jg(n,i.document),o=i.removedTargetIds||[];e=new Hh([],o,a,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new BR(a,o),h=i.targetId;e=new gE(h,c)}}return e}function ZR(n,t){let e;if(t instanceof zc)e={update:vv(n,t.key,t.value)};else if(t instanceof pp)e={delete:Vm(n,t.key)};else if(t instanceof Er)e={update:vv(n,t.key,t.data),updateMask:oC(t.fieldMask)};else{if(!(t instanceof PR))return St(16599,{Vt:t.type});e={verify:Vm(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof cf)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ac)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof wc)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof uf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw St(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:KR(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(n,t.precondition)),e}function JR(n,t){return n&&n.length>0?($t(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?Gi(a.updateTime):Gi(o);return c.isEqual(At.min())&&(c=Gi(o)),new VR(c,a.transformResults||[])})(e,t)))):[]}function tC(n,t){return{documents:[_E(n,t.path)]}}function eC(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=_E(n,a);const o=(function(d){if(d.length!==0)return xE(pi.create(d,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((y=>(function(v){return{field:vo(v.field),direction:sC(v.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Nm(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(t.endAt)),{ft:e,parent:a}}function nC(n){let t=WR(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){$t(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(_){const v=vE(_);return v instanceof pi&&Wx(v)?v.getFilters():[v]})(e.where));let c=[];e.orderBy&&(c=(function(_){return _.map((v=>(function(A){return new lf(xo(A.field),(function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(v)))})(e.orderBy));let h=null;e.limit&&(h=(function(_){let v;return v=typeof _=="object"?_.value:_,wf(v)?null:v})(e.limit));let f=null;e.startAt&&(f=(function(_){const v=!!_.before,T=_.values||[];return new of(T,v)})(e.startAt));let d=null;return e.endAt&&(d=(function(_){const v=!_.before,T=_.values||[];return new of(T,v)})(e.endAt)),xR(t,a,c,o,h,"F",f,d)}function iC(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function vE(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=xo(e.unaryFilter.field);return je.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=xo(e.unaryFilter.field);return je.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=xo(e.unaryFilter.field);return je.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=xo(e.unaryFilter.field);return je.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return je.create(xo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return pi.create(e.compositeFilter.filters.map((i=>vE(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function sC(n){return GR[n]}function aC(n){return YR[n]}function rC(n){return QR[n]}function vo(n){return{fieldPath:n.canonicalString()}}function xo(n){return rn.fromServerFormat(n.fieldPath)}function xE(n){return n instanceof je?(function(e){if(e.op==="=="){if(ov(e.value))return{unaryFilter:{field:vo(e.field),op:"IS_NAN"}};if(rv(e.value))return{unaryFilter:{field:vo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(ov(e.value))return{unaryFilter:{field:vo(e.field),op:"IS_NOT_NAN"}};if(rv(e.value))return{unaryFilter:{field:vo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:vo(e.field),op:aC(e.op),value:e.value}}})(n):n instanceof pi?(function(e){const i=e.getFilters().map((a=>xE(a)));return i.length===1?i[0]:{compositeFilter:{op:rC(e.op),filters:i}}})(n):St(54877,{filter:n})}function oC(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function EE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(t,e,i,a,o=At.min(),c=At.min(),h=on.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new aa(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new aa(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(t){this.yt=t}}function cC(n){const t=nC({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Om(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.Cn=new hC}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(pa.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(pa.min())}updateCollectionGroup(t,e,i){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class hC{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new Ye(le.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new Ye(le.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TE=41943040;class Rn{static withCacheSize(t){return new Rn(t,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Rn.DEFAULT_COLLECTION_PERCENTILE=10,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Rn.DEFAULT=new Rn(TE,Rn.DEFAULT_COLLECTION_PERCENTILE,Rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Rn.DISABLED=new Rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Oo(0)}static cr(){return new Oo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ev="LruGarbageCollector",fC=1048576;function Tv([n,t],[e,i]){const a=zt(n,e);return a===0?zt(t,i):a}class dC{constructor(t){this.Ir=t,this.buffer=new Ye(Tv),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();Tv(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class gC{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){dt(Ev,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){jo(e)?dt(Ev,"Ignoring IndexedDB error during garbage collection: ",e):await zo(e)}await this.Vr(3e5)}))}}class mC{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(Af.ce);const i=new dC(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(dt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(xv)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),xv):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,f,d;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),a=this.params.maximumSequenceNumbersToCollect):a=_,c=Date.now(),this.nthSequenceNumber(t,a)))).next((_=>(i=_,h=Date.now(),this.removeTargets(t,i,e)))).next((_=>(o=_,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((_=>(d=Date.now(),_o()<=qt.DEBUG&&dt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${_} documents in `+(d-f)+`ms
Total Duration: ${d-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:_}))))}}function pC(n,t){return new mC(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(){this.changes=new xr((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,dn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?rt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&dc(i.mutation,a,di.empty(),he.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,jt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=jt()){const a=cr();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=tc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=cr();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,jt())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=As();const c=fc(),h=(function(){return fc()})();return e.forEach(((f,d)=>{const y=i.get(d.key);a.has(d.key)&&(y===void 0||y.mutation instanceof Er)?o=o.insert(d.key,d):y!==void 0?(c.set(d.key,y.mutation.getFieldMask()),dc(y.mutation,d,y.mutation.getFieldMask(),he.now())):c.set(d.key,di.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((d,y)=>c.set(d,y))),e.forEach(((d,y)=>h.set(d,new _C(y,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=fc();let a=new _e(((c,h)=>c-h)),o=jt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const d=e.get(f);if(d===null)return;let y=i.get(f)||di.empty();y=h.applyToLocalView(d,y),i.set(f,y);const _=(a.get(h.batchId)||jt()).add(f);a=a.insert(h.batchId,_)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),d=f.key,y=f.value,_=aE();y.forEach((v=>{if(!o.has(v)){const T=hE(e.get(v),i.get(v));T!==null&&_.set(v,T),o=o.add(v)}})),c.push(this.documentOverlayCache.saveOverlays(t,d,_))}return rt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):tE(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):rt.resolve(cr());let h=xc,f=o;return c.next((d=>rt.forEach(d,((y,_)=>(h<_.largestBatchId&&(h=_.largestBatchId),o.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((v=>{f=f.insert(y,v)}))))).next((()=>this.populateOverlays(t,d,o))).next((()=>this.computeViews(t,f,d,jt()))).next((y=>({batchId:h,changes:sE(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((i=>{let a=tc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=tc();return this.indexManager.getCollectionParents(t,o).next((h=>rt.forEach(h,(f=>{const d=(function(_,v){return new Pc(v,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,d,i,a).next((y=>{y.forEach(((_,v)=>{c=c.insert(_,v)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((f,d)=>{const y=d.getKey();c.get(y)===null&&(c=c.insert(y,dn.newInvalidDocument(y)))}));let h=tc();return c.forEach(((f,d)=>{const y=o.get(f);y!==void 0&&dc(y.mutation,d,di.empty(),he.now()),Mf(e,d)&&(h=h.insert(f,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return rt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:Gi(a.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:cC(a.bundledQuery),readTime:Gi(a.readTime)}})(e)),rt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xC{constructor(){this.overlays=new _e(vt.comparator),this.qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=cr();return rt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),rt.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),rt.resolve()}getOverlaysForCollection(t,e,i){const a=cr(),o=e.length+1,c=new vt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,d=f.getKey();if(!e.isPrefixOf(d.path))break;d.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new _e(((d,y)=>d-y));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===e&&d.largestBatchId>i){let y=o.get(d.largestBatchId);y===null&&(y=cr(),o=o.insert(d.largestBatchId,y)),y.set(d.getKey(),d)}}const h=cr(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((d,y)=>h.set(d,y))),!(h.size()>=a)););return rt.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new jR(e,i));let o=this.qr.get(e);o===void 0&&(o=jt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.sessionToken=on.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.Qr=new Ye(We.$r),this.Ur=new Ye(We.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new We(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new We(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new vt(new le([])),i=new We(e,t),a=new We(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new vt(new le([])),i=new We(e,t),a=new We(e,t+1);let o=jt();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new We(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class We{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return vt.comparator(t.key,e.key)||zt(t.Yr,e.Yr)}static Kr(t,e){return zt(t.Yr,e.Yr)||vt.comparator(t.key,e.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Ye(We.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new zR(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new We(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,e){return rt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return rt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?cp:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new We(e,0),a=new We(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),rt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Ye(zt);return e.forEach((a=>{const o=new We(a,0),c=new We(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),rt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const c=new We(new vt(o),0);let h=new Ye(zt);return this.Zr.forEachWhile((f=>{const d=f.key.path;return!!i.isPrefixOf(d)&&(d.length===a&&(h=h.add(f.Yr)),!0)}),c),rt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){$t(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return rt.forEach(e.mutations,(a=>{const o=new We(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new We(e,0),a=this.Zr.firstAfterOrEqual(i);return rt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t){this.ri=t,this.docs=(function(){return new _e(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return rt.resolve(i?i.document.mutableCopy():dn.newInvalidDocument(e))}getEntries(t,e){let i=As();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():dn.newInvalidDocument(a))})),rt.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=As();const c=e.path,h=new vt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:d,value:{document:y}}=f.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||Jw(Zw(y),i)<=0||(a.has(y.key)||Mf(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return rt.resolve(o)}getAllFromCollectionGroup(t,e,i,a){St(9500)}ii(t,e){return rt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new AC(this)}getSize(t){return rt.resolve(this.size)}}class AC extends yC{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),rt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(t){this.persistence=t,this.si=new xr((e=>fp(e)),dp),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new vp,this.targetCount=0,this.ai=Oo.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),rt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Oo(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Pr(e),rt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),rt.waitFor(o).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return rt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),rt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return rt.resolve(i)}containsKey(t,e){return rt.resolve(this._i.containsKey(e))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,e){this.ui={},this.overlays={},this.ci=new Af(0),this.li=!1,this.li=!0,this.hi=new EC,this.referenceDelegate=t(this),this.Pi=new wC(this),this.indexManager=new uC,this.remoteDocumentCache=(function(a){return new SC(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new lC(e),this.Ii=new vC(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new xC,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new TC(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){dt("MemoryPersistence","Starting transaction:",t);const a=new RC(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return rt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class RC extends eR{constructor(t){super(),this.currentSequenceNumber=t}}class xp{constructor(t){this.persistence=t,this.Ri=new vp,this.Vi=null}static mi(t){return new xp(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),rt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(i=>{const a=vt.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,At.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class ff{constructor(t,e){this.persistence=t,this.pi=new xr((i=>sR(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=pC(this,e)}static mi(t,e){return new ff(t,e)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return rt.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?rt.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,At.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=jh(t.data.value)),e}br(t,e,i){return rt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return rt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=jt(),a=jt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Ep(t,e.fromCache,i,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MC{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return v2()?8:nR(_2())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new CC;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(_o()<=qt.DEBUG&&dt("QueryEngine","SDK will not create cache indexes for query:",bo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(_o()<=qt.DEBUG&&dt("QueryEngine","Query:",bo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(_o()<=qt.DEBUG&&dt("QueryEngine","The SDK decides to create cache indexes for query:",bo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Fi(e))):rt.resolve())}ys(t,e){if(hv(e))return rt.resolve(null);let i=Fi(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Om(e,null,"F"),i=Fi(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=jt(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const d=this.Ds(e,h);return this.Cs(e,d,c,f.readTime)?this.ys(t,Om(e,null,"F")):this.vs(t,d,e,f)}))))})))))}ws(t,e,i,a){return hv(e)||a.isEqual(At.min())?rt.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?rt.resolve(null):(_o()<=qt.DEBUG&&dt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),bo(e)),this.vs(t,c,e,$w(a,xc)).next((h=>h)))}))}Ds(t,e){let i=new Ye(nE(t));return e.forEach(((a,o)=>{Mf(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return _o()<=qt.DEBUG&&dt("QueryEngine","Using full collection scan to execute query:",bo(e)),this.ps.getDocumentsMatchingQuery(t,e,pa.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="LocalStore",DC=3e8;class OC{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new _e(zt),this.xs=new xr((o=>fp(o)),dp),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bC(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function NC(n,t,e,i){return new OC(n,t,e,i)}async function AE(n,t){const e=Ct(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=jt();for(const d of a){c.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}for(const d of o){h.push(d.batchId);for(const y of d.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function IC(n,t){const e=Ct(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,d,y){const _=d.batch,v=_.keys();let T=rt.resolve();return v.forEach((A=>{T=T.next((()=>y.getEntry(f,A))).next((C=>{const D=d.docVersions.get(A);$t(D!==null,48541),C.version.compareTo(D)<0&&(_.applyToRemoteDocument(C,d),C.isValidDocument()&&(C.setReadTime(d.commitVersion),y.addEntry(C)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(f,_)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=jt();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(f=f.add(h.batch.mutations[d].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function wE(n){const t=Ct(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function VC(n,t){const e=Ct(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((y,_)=>{const v=a.get(_);if(!v)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,_).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,_))));let T=v.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(_)!==null?T=T.withResumeToken(on.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):y.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(y.resumeToken,i)),a=a.insert(_,T),(function(C,D,P){return C.resumeToken.approximateByteSize()===0||D.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=DC?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(v,T,y)&&h.push(e.Pi.updateTargetData(o,T))}));let f=As(),d=jt();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(kC(o,c,t.documentUpdates).next((y=>{f=y.ks,d=y.qs}))),!i.isEqual(At.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((_=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return rt.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,d))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function kC(n,t,e){let i=jt(),a=jt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=As();return e.forEach(((h,f)=>{const d=o.get(h);f.isFoundDocument()!==d.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(At.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!d.isValidDocument()||f.version.compareTo(d.version)>0||f.version.compareTo(d.version)===0&&d.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):dt(Tp,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function LC(n,t){const e=Ct(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=cp),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function PC(n,t){const e=Ct(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,rt.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new aa(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Lm(n,t,e){const i=Ct(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!jo(c))throw c;dt(Tp,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function Sv(n,t,e){const i=Ct(n);let a=At.min(),o=jt();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,d,y){const _=Ct(f),v=_.xs.get(y);return v!==void 0?rt.resolve(_.Ms.get(v)):_.Pi.getTargetData(d,y)})(i,c,Fi(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:At.min(),e?o:jt()))).next((h=>(zC(i,TR(t),h),{documents:h,Qs:o})))))}function zC(n,t,e){let i=n.Os.get(t)||At.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class Av{constructor(){this.activeTargetIds=MR()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class jC{constructor(){this.Mo=new Av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Av,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="ConnectivityMonitor";class Rv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){dt(wv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){dt(wv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Th=null;function Pm(){return Th===null?Th=(function(){return 268435456+Math.round(2147483648*Math.random())})():Th++,"0x"+Th.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class HC{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===af?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=Pm(),h=this.zo(t,e.toUriEncodedString());dt(tm,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:d}=new URL(h),y=ap(d);return this.Jo(t,h,f,i,y).then((_=>(dt(tm,`Received RPC '${t}' ${c}: `,_),_)),(_=>{throw Ro(tm,`RPC '${t}' ${c} failed with error: `,_,"url: ",h,"request:",i),_}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=UC[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class qC extends HC{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=Pm();return new Promise(((h,f)=>{const d=new Mx;d.setWithCredentials(!0),d.listenOnce(Dx.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case zh.NO_ERROR:const _=d.getResponseJson();dt(cn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(_)),h(_);break;case zh.TIMEOUT:dt(cn,`RPC '${t}' ${c} timed out`),f(new gt(at.DEADLINE_EXCEEDED,"Request time out"));break;case zh.HTTP_ERROR:const v=d.getStatus();if(dt(cn,`RPC '${t}' ${c} failed with status:`,v,"response text:",d.getResponseText()),v>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const A=T==null?void 0:T.error;if(A&&A.status&&A.message){const C=(function(P){const U=P.toLowerCase().replace(/_/g,"-");return Object.values(at).indexOf(U)>=0?U:at.UNKNOWN})(A.status);f(new gt(C,A.message))}else f(new gt(at.UNKNOWN,"Server responded with status "+d.getStatus()))}else f(new gt(at.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{dt(cn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);dt(cn,`RPC '${t}' ${c} sending request:`,a),d.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=Pm(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Ix(),h=Nx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(f.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");dt(cn,`Creating RPC '${t}' stream ${a}: ${y}`,f);const _=c.createWebChannel(y,f);this.I_(_);let v=!1,T=!1;const A=new FC({Yo:D=>{T?dt(cn,`Not sending because RPC '${t}' stream ${a} is closed:`,D):(v||(dt(cn,`Opening RPC '${t}' stream ${a} transport.`),_.open(),v=!0),dt(cn,`RPC '${t}' stream ${a} sending:`,D),_.send(D))},Zo:()=>_.close()}),C=(D,P,U)=>{D.listen(P,(X=>{try{U(X)}catch(Z){setTimeout((()=>{throw Z}),0)}}))};return C(_,Jl.EventType.OPEN,(()=>{T||(dt(cn,`RPC '${t}' stream ${a} transport opened.`),A.o_())})),C(_,Jl.EventType.CLOSE,(()=>{T||(T=!0,dt(cn,`RPC '${t}' stream ${a} transport closed`),A.a_(),this.E_(_))})),C(_,Jl.EventType.ERROR,(D=>{T||(T=!0,Ro(cn,`RPC '${t}' stream ${a} transport errored. Name:`,D.name,"Message:",D.message),A.a_(new gt(at.UNAVAILABLE,"The operation could not be completed")))})),C(_,Jl.EventType.MESSAGE,(D=>{var P;if(!T){const U=D.data[0];$t(!!U,16349);const X=U,Z=(X==null?void 0:X.error)||((P=X[0])==null?void 0:P.error);if(Z){dt(cn,`RPC '${t}' stream ${a} received error:`,Z);const $=Z.status;let nt=(function(O){const V=ze[O];if(V!==void 0)return dE(V)})($),M=Z.message;nt===void 0&&(nt=at.INTERNAL,M="Unknown error status: "+$+" with message "+Z.message),T=!0,A.a_(new gt(nt,M)),_.close()}else dt(cn,`RPC '${t}' stream ${a} received:`,U),A.u_(U)}})),C(h,Ox.STAT_EVENT,(D=>{D.stat===Sm.PROXY?dt(cn,`RPC '${t}' stream ${a} detected buffering proxy`):D.stat===Sm.NOPROXY&&dt(cn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function If(n){return new XR(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&dt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="PersistentStream";class CE{constructor(t,e,i,a,o,c,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RE(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===at.RESOURCE_EXHAUSTED?(Ss(e.toString()),Ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===at.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new gt(at.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return dt(Cv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(dt(Cv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class GC extends CE{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=$R(this.serializer,t),i=(function(o){if(!("targetChange"in o))return At.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?At.min():c.readTime?Gi(c.readTime):At.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=km(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Mm(f)?{documents:tC(o,f)}:{query:eC(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=pE(o,c.resumeToken);const d=Nm(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(At.min())>0){h.readTime=hf(o,c.snapshotVersion.toTimestamp());const d=Nm(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,t);const i=iC(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=km(this.serializer),e.removeTarget=t,this.q_(e)}}class YC extends CE{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=JR(t.writeResults,t.commitTime),i=Gi(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=km(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>ZR(this.serializer,i)))};this.q_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{}class XC extends QC{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,Im(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(at.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,Im(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===at.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(at.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class KC{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ss(e),this.aa=!1):dt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yr="RemoteStore";class WC{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Tr(this)&&(dt(yr,"Restarting streams for network reachability change."),await(async function(f){const d=Ct(f);d.Ea.add(4),await Bc(d),d.Ra.set("Unknown"),d.Ea.delete(4),await Vf(d)})(this))}))})),this.Ra=new KC(i,a)}}async function Vf(n){if(Tr(n))for(const t of n.da)await t(!0)}async function Bc(n){for(const t of n.da)await t(!1)}function ME(n,t){const e=Ct(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Rp(e)?wp(e):Bo(e).O_()&&Ap(e,t))}function Sp(n,t){const e=Ct(n),i=Bo(e);e.Ia.delete(t),i.O_()&&DE(e,t),e.Ia.size===0&&(i.O_()?i.L_():Tr(e)&&e.Ra.set("Unknown"))}function Ap(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Bo(n).Y_(t)}function DE(n,t){n.Va.Ue(t),Bo(n).Z_(t)}function wp(n){n.Va=new qR({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Bo(n).start(),n.Ra.ua()}function Rp(n){return Tr(n)&&!Bo(n).x_()&&n.Ia.size>0}function Tr(n){return Ct(n).Ea.size===0}function OE(n){n.Va=void 0}async function $C(n){n.Ra.set("Online")}async function ZC(n){n.Ia.forEach(((t,e)=>{Ap(n,t)}))}async function JC(n,t){OE(n),Rp(n)?(n.Ra.ha(t),wp(n)):n.Ra.set("Unknown")}async function tM(n,t,e){if(n.Ra.set("Online"),t instanceof mE&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){dt(yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await df(n,i)}else if(t instanceof Hh?n.Va.Ze(t):t instanceof gE?n.Va.st(t):n.Va.tt(t),!e.isEqual(At.min()))try{const i=await wE(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,d)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(d);y&&o.Ia.set(d,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,d)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(on.EMPTY_BYTE_STRING,y.snapshotVersion)),DE(o,f);const _=new aa(y.target,f,d,y.sequenceNumber);Ap(o,_)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){dt(yr,"Failed to raise snapshot:",i),await df(n,i)}}async function df(n,t,e){if(!jo(t))throw t;n.Ea.add(1),await Bc(n),n.Ra.set("Offline"),e||(e=()=>wE(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{dt(yr,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Vf(n)}))}function NE(n,t){return t().catch((e=>df(n,e,t)))}async function kf(n){const t=Ct(n),e=va(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:cp;for(;eM(t);)try{const a=await LC(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,nM(t,a)}catch(a){await df(t,a)}IE(t)&&VE(t)}function eM(n){return Tr(n)&&n.Ta.length<10}function nM(n,t){n.Ta.push(t);const e=va(n);e.O_()&&e.X_&&e.ea(t.mutations)}function IE(n){return Tr(n)&&!va(n).x_()&&n.Ta.length>0}function VE(n){va(n).start()}async function iM(n){va(n).ra()}async function sM(n){const t=va(n);for(const e of n.Ta)t.ea(e.mutations)}async function aM(n,t,e){const i=n.Ta.shift(),a=yp.from(i,t,e);await NE(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await kf(n)}async function rM(n,t){t&&va(n).X_&&await(async function(i,a){if((function(c){return UR(c)&&c!==at.ABORTED})(a.code)){const o=i.Ta.shift();va(i).B_(),await NE(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await kf(i)}})(n,t),IE(n)&&VE(n)}async function Mv(n,t){const e=Ct(n);e.asyncQueue.verifyOperationInProgress(),dt(yr,"RemoteStore received new credentials");const i=Tr(e);e.Ea.add(3),await Bc(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Vf(e)}async function oM(n,t){const e=Ct(n);t?(e.Ea.delete(2),await Vf(e)):t||(e.Ea.add(2),await Bc(e),e.Ra.set("Unknown"))}function Bo(n){return n.ma||(n.ma=(function(e,i,a){const o=Ct(e);return o.sa(),new GC(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:$C.bind(null,n),t_:ZC.bind(null,n),r_:JC.bind(null,n),H_:tM.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Rp(n)?wp(n):n.Ra.set("Unknown")):(await n.ma.stop(),OE(n))}))),n.ma}function va(n){return n.fa||(n.fa=(function(e,i,a){const o=Ct(e);return o.sa(),new YC(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:iM.bind(null,n),r_:rM.bind(null,n),ta:sM.bind(null,n),na:aM.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await kf(n)):(await n.fa.stop(),n.Ta.length>0&&(dt(yr,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new Cp(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(at.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Mp(n,t){if(Ss("AsyncQueue",`${t}: ${n}`),jo(n))return new gt(at.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{static emptySet(t){return new So(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=tc(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof So)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new So;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dv{constructor(){this.ga=new _e(vt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class No{constructor(t,e,i,a,o,c,h,f,d){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=d}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new No(t,e,So.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Cf(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class cM{constructor(){this.queries=Ov(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=Ct(e),o=a.queries;a.queries=Ov(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new gt(at.ABORTED,"Firestore shutting down"))}}function Ov(){return new xr((n=>eE(n)),Cf)}async function uM(n,t){const e=Ct(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new lM,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=Mp(c,`Initialization of query '${bo(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Dp(e)}async function hM(n,t){const e=Ct(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function fM(n,t){const e=Ct(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&Dp(e)}function dM(n,t,e){const i=Ct(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function Dp(n){n.Ca.forEach((t=>{t.next()}))}var zm,Nv;(Nv=zm||(zm={})).Ma="default",Nv.Cache="cache";class gM{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new No(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=No.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(t){this.key=t}}class LE{constructor(t){this.key=t}}class mM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=jt(),this.mutatedKeys=jt(),this.eu=nE(t),this.tu=new So(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new Dv,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,d=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,_)=>{const v=a.get(y),T=Mf(this.query,_)?_:null,A=!!v&&this.mutatedKeys.has(v.key),C=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let D=!1;v&&T?v.data.isEqual(T.data)?A!==C&&(i.track({type:3,doc:T}),D=!0):this.su(v,T)||(i.track({type:2,doc:T}),D=!0,(f&&this.eu(T,f)>0||d&&this.eu(T,d)<0)&&(h=!0)):!v&&T?(i.track({type:0,doc:T}),D=!0):v&&!T&&(i.track({type:1,doc:v}),D=!0,(f||d)&&(h=!0)),D&&(T?(c=c.add(T),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,_)=>(function(T,A){const C=D=>{switch(D){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:D})}};return C(T)-C(A)})(y.type,_.type)||this.eu(y.doc,_.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,d=f!==this.Za;return this.Za=f,c.length!==0||d?{snapshot:new No(this.query,t.tu,o,c,t.mutatedKeys,f===0,d,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Dv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=jt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new LE(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new kE(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=jt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return No.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Op="SyncEngine";class pM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class yM{constructor(t){this.key=t,this.hu=!1}}class _M{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new xr((h=>eE(h)),Cf),this.Iu=new Map,this.Eu=new Set,this.du=new _e(vt.comparator),this.Au=new Map,this.Ru=new vp,this.Vu={},this.mu=new Map,this.fu=Oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function bM(n,t,e=!0){const i=HE(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await PE(i,t,e,!0),a}async function vM(n,t){const e=HE(n);await PE(e,t,!0,!1)}async function PE(n,t,e,i){const a=await PC(n.localStore,Fi(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await xM(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&ME(n.remoteStore,a),h}async function xM(n,t,e,i,a){n.pu=(_,v,T)=>(async function(C,D,P,U){let X=D.view.ru(P);X.Cs&&(X=await Sv(C.localStore,D.query,!1).then((({documents:M})=>D.view.ru(M,X))));const Z=U&&U.targetChanges.get(D.targetId),$=U&&U.targetMismatches.get(D.targetId)!=null,nt=D.view.applyChanges(X,C.isPrimaryClient,Z,$);return Vv(C,D.targetId,nt.au),nt.snapshot})(n,_,v,T);const o=await Sv(n.localStore,t,!0),c=new mM(t,o.Qs),h=c.ru(o.documents),f=jc.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),d=c.applyChanges(h,n.isPrimaryClient,f);Vv(n,e,d.au);const y=new pM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),d.snapshot}async function EM(n,t,e){const i=Ct(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!Cf(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Lm(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Sp(i.remoteStore,a.targetId),jm(i,a.targetId)})).catch(zo)):(jm(i,a.targetId),await Lm(i.localStore,a.targetId,!0))}async function TM(n,t){const e=Ct(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Sp(e.remoteStore,i.targetId))}async function SM(n,t,e){const i=OM(n);try{const a=await(function(c,h){const f=Ct(c),d=he.now(),y=h.reduce(((T,A)=>T.add(A.key)),jt());let _,v;return f.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let A=As(),C=jt();return f.Ns.getEntries(T,y).next((D=>{A=D,A.forEach(((P,U)=>{U.isValidDocument()||(C=C.add(P))}))})).next((()=>f.localDocuments.getOverlayedDocuments(T,A))).next((D=>{_=D;const P=[];for(const U of h){const X=LR(U,_.get(U.key).overlayedDocument);X!=null&&P.push(new Er(U.key,X,Qx(X.value.mapValue),qi.exists(!0)))}return f.mutationQueue.addMutationBatch(T,d,P,h)})).next((D=>{v=D;const P=D.applyToLocalDocumentSet(_,C);return f.documentOverlayCache.saveOverlays(T,D.batchId,P)}))})).then((()=>({batchId:v.batchId,changes:sE(_)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let d=c.Vu[c.currentUser.toKey()];d||(d=new _e(zt)),d=d.insert(h,f),c.Vu[c.currentUser.toKey()]=d})(i,a.batchId,e),await Uc(i,a.changes),await kf(i.remoteStore)}catch(a){const o=Mp(a,"Failed to persist write");e.reject(o)}}async function zE(n,t){const e=Ct(n);try{const i=await VC(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&($t(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?$t(c.hu,14607):a.removedDocuments.size>0&&($t(c.hu,42227),c.hu=!1))})),await Uc(e,i,t)}catch(i){await zo(i)}}function Iv(n,t,e){const i=Ct(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=Ct(c);f.onlineState=h;let d=!1;f.queries.forEach(((y,_)=>{for(const v of _.Sa)v.va(h)&&(d=!0)})),d&&Dp(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function AM(n,t,e){const i=Ct(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new _e(vt.comparator);c=c.insert(o,dn.newNoDocument(o,At.min()));const h=jt().add(o),f=new Nf(At.min(),new Map,new _e(zt),c,h);await zE(i,f),i.du=i.du.remove(o),i.Au.delete(t),Np(i)}else await Lm(i.localStore,t,!1).then((()=>jm(i,t,e))).catch(zo)}async function wM(n,t){const e=Ct(n),i=t.batch.batchId;try{const a=await IC(e.localStore,t);BE(e,i,null),jE(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await Uc(e,a)}catch(a){await zo(a)}}async function RM(n,t,e){const i=Ct(n);try{const a=await(function(c,h){const f=Ct(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let y;return f.mutationQueue.lookupMutationBatch(d,h).next((_=>($t(_!==null,37113),y=_.keys(),f.mutationQueue.removeMutationBatch(d,_)))).next((()=>f.mutationQueue.performConsistencyCheck(d))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(d,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,y))).next((()=>f.localDocuments.getDocuments(d,y)))}))})(i.localStore,t);BE(i,t,e),jE(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await Uc(i,a)}catch(a){await zo(a)}}function jE(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function BE(n,t,e){const i=Ct(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function jm(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||UE(n,i)}))}function UE(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Sp(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Np(n))}function Vv(n,t,e){for(const i of e)i instanceof kE?(n.Ru.addReference(i.key,t),CM(n,i)):i instanceof LE?(dt(Op,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||UE(n,i.key)):St(19791,{wu:i})}function CM(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(dt(Op,"New document in limbo: "+e),n.Eu.add(i),Np(n))}function Np(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new vt(le.fromString(t)),i=n.fu.next();n.Au.set(i,new yM(e)),n.du=n.du.insert(e,i),ME(n.remoteStore,new aa(Fi(gp(e.path)),i,"TargetPurposeLimboResolution",Af.ce))}}async function Uc(n,t,e){const i=Ct(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((d=>{var y;if((d||e)&&i.isPrimaryClient){const _=d?!d.fromCache:(y=e==null?void 0:e.targetChanges.get(f.targetId))==null?void 0:y.current;i.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(d){a.push(d);const _=Ep.As(f.targetId,d);o.push(_)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,d){const y=Ct(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>rt.forEach(d,(v=>rt.forEach(v.Es,(T=>y.persistence.referenceDelegate.addReference(_,v.targetId,T))).next((()=>rt.forEach(v.ds,(T=>y.persistence.referenceDelegate.removeReference(_,v.targetId,T)))))))))}catch(_){if(!jo(_))throw _;dt(Tp,"Failed to update sequence numbers: "+_)}for(const _ of d){const v=_.targetId;if(!_.fromCache){const T=y.Ms.get(v),A=T.snapshotVersion,C=T.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(v,C)}}})(i.localStore,o))}async function MM(n,t){const e=Ct(n);if(!e.currentUser.isEqual(t)){dt(Op,"User change. New user:",t.toKey());const i=await AE(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new gt(at.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await Uc(e,i.Ls)}}function DM(n,t){const e=Ct(n),i=e.Au.get(t);if(i&&i.hu)return jt().add(i.key);{let a=jt();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function HE(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=zE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=DM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=AM.bind(null,t),t.Pu.H_=fM.bind(null,t.eventManager),t.Pu.yu=dM.bind(null,t.eventManager),t}function OM(n){const t=Ct(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RM.bind(null,t),t}class gf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=If(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return NC(this.persistence,new MC,t.initialUser,this.serializer)}Cu(t){return new SE(xp.mi,this.serializer)}Du(t){return new jC}async terminate(){var t,e;(t=this.gcScheduler)==null||t.stop(),(e=this.indexBackfillerScheduler)==null||e.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}gf.provider={build:()=>new gf};class NM extends gf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){$t(this.persistence.referenceDelegate instanceof ff,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new gC(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Rn.withCacheSize(this.cacheSizeBytes):Rn.DEFAULT;return new SE((i=>ff.mi(i,e)),this.serializer)}}class Bm{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Iv(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=MM.bind(null,this.syncEngine),await oM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new cM})()}createDatastore(t){const e=If(t.databaseInfo.databaseId),i=(function(o){return new qC(o)})(t.databaseInfo);return(function(o,c,h,f){return new XC(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new WC(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>Iv(this.syncEngine,e,0)),(function(){return Rv.v()?new Rv:new BC})())}createSyncEngine(t,e){return(function(a,o,c,h,f,d,y){const _=new _M(a,o,c,h,f,d);return y&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){var t,e;await(async function(a){const o=Ct(a);dt(yr,"RemoteStore shutting down."),o.Ea.add(5),await Bc(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),(t=this.datastore)==null||t.terminate(),(e=this.eventManager)==null||e.terminate()}}Bm.provider={build:()=>new Bm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IM{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="FirestoreClient";class VM{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=hn.UNAUTHENTICATED,this.clientId=lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{dt(xa,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(dt(xa,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Mp(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function nm(n,t){n.asyncQueue.verifyOperationInProgress(),dt(xa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await AE(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function kv(n,t){n.asyncQueue.verifyOperationInProgress();const e=await kM(n);dt(xa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>Mv(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>Mv(t.remoteStore,a))),n._onlineComponents=t}async function kM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){dt(xa,"Using user provided OfflineComponentProvider");try{await nm(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===at.FAILED_PRECONDITION||a.code===at.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Ro("Error using user provided cache. Falling back to memory cache: "+e),await nm(n,new gf)}}else dt(xa,"Using default OfflineComponentProvider"),await nm(n,new NM(void 0));return n._offlineComponents}async function FE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(dt(xa,"Using user provided OnlineComponentProvider"),await kv(n,n._uninitializedComponentsProvider._online)):(dt(xa,"Using default OnlineComponentProvider"),await kv(n,new Bm))),n._onlineComponents}function LM(n){return FE(n).then((t=>t.syncEngine))}async function Lv(n){const t=await FE(n),e=t.eventManager;return e.onListen=bM.bind(null,t.syncEngine),e.onUnlisten=EM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=vM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=TM.bind(null,t.syncEngine),e}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="firestore.googleapis.com",zv=!0;class jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(at.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=GE,this.ssl=zv}else this.host=t.host,this.ssl=t.ssl??zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=TE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<fC)throw new gt(at.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ww("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=qE(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(at.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Lf{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(at.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(at.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new Bw;switch(i.type){case"firstParty":return new qw(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(at.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=Pv.get(e);i&&(dt("ComponentProvider","Removing Datastore"),Pv.delete(e),i.terminate())})(this),Promise.resolve()}}function PM(n,t,e,i={}){var d;n=To(n,Lf);const a=ap(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(d2(`https://${h}`),y2("Firestore",!0)),o.host!==GE&&o.host!==h&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!tf(f,c)&&(n._setSettings(f),i.mockUserToken)){let y,_;if(typeof i.mockUserToken=="string")y=i.mockUserToken,_=hn.MOCK_USER;else{y=g2(i.mockUserToken,(d=n._app)==null?void 0:d.options.projectId);const v=i.mockUserToken.sub||i.mockUserToken.user_id;if(!v)throw new gt(at.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new hn(v)}n._authCredentials=new Uw(new kx(y,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new Uo(this.firestore,t,this._query)}}class qe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ga(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new qe(this.firestore,t,this._key)}toJSON(){return{type:qe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(Lc(e,qe._jsonSchema))return new qe(t,i||null,new vt(le.fromString(e.referencePath)))}}qe._jsonSchemaVersion="firestore/documentReference/1.0",qe._jsonSchema={type:Be("string",qe._jsonSchemaVersion),referencePath:Be("string")};class ga extends Uo{constructor(t,e,i){super(t,e,gp(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new qe(this.firestore,null,new vt(t))}withConverter(t){return new ga(this.firestore,t,this._path)}}function Bv(n,t,...e){if(n=mr(n),Lx("collection","path",t),n instanceof Lf){const i=le.fromString(t,...e);return $b(i),new ga(n,null,i)}{if(!(n instanceof qe||n instanceof ga))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return $b(i),new ga(n.firestore,null,i)}}function YE(n,t,...e){if(n=mr(n),arguments.length===1&&(t=lp.newId()),Lx("doc","path",t),n instanceof Lf){const i=le.fromString(t,...e);return Wb(i),new qe(n,null,new vt(i))}{if(!(n instanceof qe||n instanceof ga))throw new gt(at.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(le.fromString(t,...e));return Wb(i),new qe(n.firestore,n instanceof ga?n.converter:null,new vt(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uv="AsyncQueue";class Hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RE(this,"async_queue_retry"),this._c=()=>{const i=em();i&&dt(Uv,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=em();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=em();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!jo(t))throw t;dt(Uv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ss("INTERNAL UNHANDLED ERROR: ",Fv(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Cp.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&St(47125,{Pc:Fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function Fv(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qv(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Rc extends Lf{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new Hv,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Hv(t),this._firestoreClient=void 0,await t}}}function zM(n,t){const e=typeof n=="object"?n:Rw(),i=typeof n=="string"?n:af,a=Ew(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=h2("firestore");o&&PM(a,...o)}return a}function QE(n){if(n._terminated)throw new gt(at.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||jM(n),n._firestoreClient}function jM(n){var i,a,o;const t=n._freezeSettings(),e=(function(h,f,d,y){return new oR(h,f,d,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,qE(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)})(n._databaseId,((i=n._app)==null?void 0:i.options.appId)||"",n._persistenceKey,t);n._componentsProvider||(a=t.localCache)!=null&&a._offlineComponentProvider&&((o=t.localCache)!=null&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new VM(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ti(on.fromBase64String(t))}catch(e){throw new gt(at.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ti(on.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Lc(t,ti._jsonSchema))return ti.fromBase64String(t.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Be("string",ti._jsonSchemaVersion),bytes:Be("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(at.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(at.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(at.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Yi._jsonSchemaVersion}}static fromJSON(t){if(Lc(t,Yi._jsonSchema))return new Yi(t.latitude,t.longitude)}}Yi._jsonSchemaVersion="firestore/geoPoint/1.0",Yi._jsonSchema={type:Be("string",Yi._jsonSchemaVersion),latitude:Be("number"),longitude:Be("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Lc(t,Qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Qi(t.vectorValues);throw new gt(at.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:Be("string",Qi._jsonSchemaVersion),vectorValues:Be("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BM=/^__.*__$/;class UM{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,e,this.fieldTransforms):new zc(t,this.data,e,this.fieldTransforms)}}function KE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class Vp{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vp({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){var a;const e=(a=this.path)==null?void 0:a.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return mf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(KE(this.Ac)&&BM.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class HM{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||If(t)}Cc(t,e,i,a=!1){return new Vp({Ac:t,methodName:e,Dc:i,path:rn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WE(n){const t=n._freezeSettings(),e=If(n._databaseId);return new HM(n._databaseId,!!t.ignoreUndefinedProperties,e)}function FM(n,t,e,i,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);JE("Data must be an object, but it was:",c,i);const h=$E(i,c);let f,d;if(o.merge)f=new di(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const _ of o.mergeFields){const v=GM(t,_,e);if(!c.contains(v))throw new gt(at.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);QM(y,v)||y.push(v)}f=new di(y),d=c.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,d=c.fieldTransforms;return new UM(new Jn(h),f,d)}function qM(n,t,e,i=!1){return kp(e,n.Cc(i?4:3,t))}function kp(n,t){if(ZE(n=mr(n)))return JE("Unsupported field value:",t,n),$E(n,t);if(n instanceof XE)return(function(i,a){if(!KE(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=kp(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=mr(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return DR(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:hf(a.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:hf(a.serializer,o)}}if(i instanceof Yi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ti)return{bytesValue:pE(a.serializer,i._byteString)};if(i instanceof qe){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bp(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof Qi)return(function(c,h){return{mapValue:{fields:{[Gx]:{stringValue:Yx},[rf]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return mp(h.serializer,d)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${Sf(i)}`)})(n,t)}function $E(n,t){const e={};return jx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(n,((i,a)=>{const o=kp(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function ZE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof Yi||n instanceof ti||n instanceof qe||n instanceof XE||n instanceof Qi)}function JE(n,t,e){if(!ZE(e)||!Px(e)){const i=Sf(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function GM(n,t,e){if((t=mr(t))instanceof Ip)return t._internalPath;if(typeof t=="string")return tT(n,t);throw mf("Field path arguments must be of type string or ",n,!1,void 0,e)}const YM=new RegExp("[~\\*/\\[\\]]");function tT(n,t,e){if(t.search(YM)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new Ip(...t.split("."))._internalPath}catch{throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function mf(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new gt(at.INVALID_ARGUMENT,h+n+f)}function QM(n,t){return n.some((e=>e.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eT{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new XM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(nT("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class XM extends eT{data(){return super.data()}}function nT(n,t){return typeof t=="string"?tT(n,t):t instanceof Ip?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KM(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(at.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Lp{}class WM extends Lp{}function $M(n,t,...e){let i=[];t instanceof Lp&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof zp)).length,h=o.filter((f=>f instanceof Pp)).length;if(c>1||c>0&&h>0)throw new gt(at.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Pp extends WM{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Pp(t,e,i)}_apply(t){const e=this._parse(t);return iT(t._query,e),new Uo(t.firestore,t.converter,Dm(t._query,e))}_parse(t){const e=WE(t.firestore);return(function(o,c,h,f,d,y,_){let v;if(d.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new gt(at.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){Yv(_,y);const A=[];for(const C of _)A.push(Gv(f,o,C));v={arrayValue:{values:A}}}else v=Gv(f,o,_)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||Yv(_,y),v=qM(h,c,_,y==="in"||y==="not-in");return je.create(d,y,v)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class zp extends Lp{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new zp(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:pi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)iT(c,f),c=Dm(c,f)})(t._query,e),new Uo(t.firestore,t.converter,Dm(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Gv(n,t,e){if(typeof(e=mr(e))=="string"){if(e==="")throw new gt(at.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tE(t)&&e.indexOf("/")!==-1)throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(le.fromString(e));if(!vt.isDocumentKey(i))throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return av(n,new vt(i))}if(e instanceof qe)return av(n,e._key);throw new gt(at.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Sf(e)}.`)}function Yv(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(at.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iT(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(at.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class ZM{convertValue(t,e="none"){switch(ba(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Re(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(_a(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return vr(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){var i,a,o;const e=(o=(a=(i=t.fields)==null?void 0:i[rf].arrayValue)==null?void 0:a.values)==null?void 0:o.map((c=>Re(c.doubleValue)));return new Qi(e)}convertGeoPoint(t){return new Yi(Re(t.latitude),Re(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=Rf(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ec(t));default:return null}}convertTimestamp(t){const e=ya(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=le.fromString(t);$t(EE(i),9688,{name:t});const a=new Tc(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return a.isEqual(e)||Ss(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n,t,e){let i;return i=n?n.toFirestore(t):t,i}class nc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class fr extends eT{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Fh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(nT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=fr._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",fr._jsonSchema={type:Be("string",fr._jsonSchemaVersion),bundleSource:Be("string","DocumentSnapshot"),bundleName:Be("string"),bundle:Be("string")};class Fh extends fr{data(t={}){return super.data(t)}}class Ao{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new nc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Fh(this._firestore,this._userDataWriter,i.key,i,new nc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(at.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Fh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new nc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Fh(a._firestore,a._userDataWriter,h.doc.key,h.doc,new nc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let d=-1,y=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:tD(h.type),doc:f,oldIndex:d,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(at.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ao._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=lp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function tD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}Ao._jsonSchemaVersion="firestore/querySnapshot/1.0",Ao._jsonSchema={type:Be("string",Ao._jsonSchemaVersion),bundleSource:Be("string","QuerySnapshot"),bundleName:Be("string"),bundle:Be("string")};class sT extends ZM{constructor(t){super(),this.firestore=t}convertBytes(t){return new ti(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new qe(this.firestore,null,e)}}function eD(n){return aT(To(n.firestore,Rc),[new pp(n._key,qi.none())])}function nD(n,t){const e=To(n.firestore,Rc),i=YE(n),a=JM(n.converter,t);return aT(e,[FM(WE(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,qi.exists(!1))]).then((()=>i))}function iD(n,...t){var f,d,y;n=mr(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||qv(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(qv(t[i])){const _=t[i];t[i]=(f=_.next)==null?void 0:f.bind(_),t[i+1]=(d=_.error)==null?void 0:d.bind(_),t[i+2]=(y=_.complete)==null?void 0:y.bind(_)}let o,c,h;if(n instanceof qe)c=To(n.firestore,Rc),h=gp(n._key.path),o={next:_=>{t[i]&&t[i](sD(c,n,_))},error:t[i+1],complete:t[i+2]};else{const _=To(n,Uo);c=To(_.firestore,Rc),h=_._query;const v=new sT(c);o={next:T=>{t[i]&&t[i](new Ao(c,v,_,T))},error:t[i+1],complete:t[i+2]},KM(n._query)}return(function(v,T,A,C){const D=new IM(C),P=new gM(T,D,A);return v.asyncQueue.enqueueAndForget((async()=>uM(await Lv(v),P))),()=>{D.Nu(),v.asyncQueue.enqueueAndForget((async()=>hM(await Lv(v),P)))}})(QE(c),h,a,o)}function aT(n,t){return(function(i,a){const o=new hr;return i.asyncQueue.enqueueAndForget((async()=>SM(await LM(i),a,o))),o.promise})(QE(n),t)}function sD(n,t,e){const i=e.docs.get(t._key),a=new sT(n);return new fr(n,a,t._key,i,new nc(e.hasPendingWrites,e.fromCache),t.converter)}(function(t,e=!0){(function(a){Po=a})(ww),nf(new bc("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Rc(new Hw(i.getProvider("auth-internal")),new Gw(c,i.getProvider("app-check-internal")),(function(d,y){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new gt(at.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tc(d.options.projectId,y)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Eo(Yb,Qb,t),Eo(Yb,Qb,"esm2020")})();const aD={apiKey:"AIzaSyD2qwVTiRWvIsB570FCxk1w0xYmoBenZ7A",authDomain:"gestor-geferson.firebaseapp.com",projectId:"gestor-geferson",storageBucket:"gestor-geferson.firebasestorage.app",messagingSenderId:"252197907884",appId:"1:252197907884:android:0f99e82318e49ce53ede09"},rD=Ax(aD),im=zM(rD),sm="movimentacoes_geferson";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lD=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),Qv=n=>{const t=lD(n);return t.charAt(0).toUpperCase()+t.slice(1)},rT=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),cD=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var uD={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=Wt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>Wt.createElement("svg",{ref:f,...uD,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:rT("lucide",a),...!o&&!cD(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,y])=>Wt.createElement(d,y)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(n,t)=>{const e=Wt.forwardRef(({className:i,...a},o)=>Wt.createElement(hD,{ref:o,iconNode:t,className:rT(`lucide-${oD(Qv(n))}`,`lucide-${n}`,i),...a}));return e.displayName=Qv(n),e};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],oT=be("banknote",fD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gD=be("calendar",dD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],lT=be("chart-pie",mD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yD=be("check",pD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],bD=be("copy",_D);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],xD=be("funnel",vD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],jp=be("hammer",ED);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],SD=be("loader-circle",TD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],wD=be("lock",AD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CD=be("log-out",RD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["path",{d:"M2.992 16.342a2 2 0 0 1 .094 1.167l-1.065 3.29a1 1 0 0 0 1.236 1.168l3.413-.998a2 2 0 0 1 1.099.092 10 10 0 1 0-4.777-4.719",key:"1sd12s"}]],cT=be("message-circle",MD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"M5 12h14",key:"1ays0h"}]],uT=be("minus",DD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M12 22v-9",key:"x3hkom"}],["path",{d:"M15.17 2.21a1.67 1.67 0 0 1 1.63 0L21 4.57a1.93 1.93 0 0 1 0 3.36L8.82 14.79a1.655 1.655 0 0 1-1.64 0L3 12.43a1.93 1.93 0 0 1 0-3.36z",key:"2ntwy6"}],["path",{d:"M20 13v3.87a2.06 2.06 0 0 1-1.11 1.83l-6 3.08a1.93 1.93 0 0 1-1.78 0l-6-3.08A2.06 2.06 0 0 1 4 16.87V13",key:"1pmm1c"}],["path",{d:"M21 12.43a1.93 1.93 0 0 0 0-3.36L8.83 2.2a1.64 1.64 0 0 0-1.63 0L3 4.57a1.93 1.93 0 0 0 0 3.36l12.18 6.86a1.636 1.636 0 0 0 1.63 0z",key:"12ttoo"}]],Bp=be("package-open",OD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hT=be("plus",ND);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]],Up=be("scissors",ID);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],kD=be("send",VD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],PD=be("shield-check",LD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],jD=be("shopping-cart",zD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],UD=be("trash-2",BD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],FD=be("trending-down",HD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],GD=be("trending-up",qD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],QD=be("wallet",YD);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fT=be("x",XD),KD=({currentTab:n,setTab:t,logout:e})=>{const i=[{id:"resumo",label:"Viso Geral",icon:lT},{id:"serra",label:"Serra Fita",icon:Up},{id:"repast",label:"Repastilhamento",icon:jp},{id:"novos",label:"Novos",icon:Bp},{id:"pagamentos",label:"Pagamentos",icon:oT}];return j.jsxs("aside",{className:"hidden md:flex w-64 flex-col bg-slate-900 border-r border-slate-800 h-full relative overflow-hidden",children:[j.jsx("div",{className:"absolute top-0 left-0 w-full h-32 bg-indigo-500/10 blur-3xl pointer-events-none"}),j.jsxs("div",{className:"p-8 flex flex-col items-center text-center z-10 border-b border-slate-800",children:[j.jsx("div",{className:"w-24 h-24 bg-slate-800 rounded-full flex items-center justify-center mb-4 ring-2 ring-indigo-500/50 shadow-lg shadow-indigo-500/20 overflow-hidden",children:j.jsx("img",{src:"https://i.ibb.co/KcrbD45r/Gemini-Generated-Image-icsuqricsuqricsu-1.png",alt:"Logo",className:"w-full h-full object-contain p-2"})}),j.jsx("h1",{className:"text-lg font-bold tracking-tight text-white",children:"Gestor Geferson"}),j.jsxs("div",{className:"flex items-center gap-2 mt-2 bg-slate-950/50 px-3 py-1 rounded-full border border-slate-800",children:[j.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),j.jsx("span",{className:"text-[10px] font-medium text-slate-400",children:"Online"})]})]}),j.jsx("nav",{className:"flex-1 px-4 py-6 space-y-1 overflow-y-auto",children:i.map(a=>j.jsxs("button",{onClick:()=>t(a.id),className:`w-full flex items-center gap-3 px-4 py-3 text-sm font-medium rounded-xl transition-all duration-200 ${n===a.id?"bg-indigo-600/10 text-indigo-400 border border-indigo-500/20 shadow-sm":"text-slate-400 hover:bg-slate-800 hover:text-white"}`,children:[j.jsx(a.icon,{size:18}),a.label]},a.id))}),j.jsx("div",{className:"p-4 border-t border-slate-800",children:j.jsxs("button",{onClick:e,className:"w-full flex items-center gap-3 px-4 py-3 text-sm font-medium text-rose-400 rounded-xl hover:bg-rose-500/10 transition-colors",children:[j.jsx(CD,{size:18}),"Sair"]})})]})},WD=({currentTab:n,setTab:t})=>{const e=[{id:"resumo",label:"Geral",icon:lT},{id:"serra",label:"Serra",icon:Up},{id:"repast",label:"Repast",icon:jp},{id:"novos",label:"Novos",icon:Bp},{id:"pagamentos",label:"Pagtos",icon:oT}];return j.jsx("nav",{className:"md:hidden fixed bottom-0 w-full bg-slate-900/90 backdrop-blur-lg border-t border-slate-800 flex justify-around items-center pb-[env(safe-area-inset-bottom)] z-50",children:e.map(i=>{const a=n===i.id;return j.jsxs("button",{onClick:()=>t(i.id),className:`flex flex-col items-center justify-center w-full py-3 transition-all duration-200 ${a?"text-indigo-400":"text-slate-500"}`,children:[j.jsx("div",{className:`mb-1 p-1 rounded-lg transition-all ${a?"bg-indigo-500/10 translate-y-[-2px]":""}`,children:j.jsx(i.icon,{size:20,strokeWidth:a?2.5:2})}),j.jsx("span",{className:"text-[10px] font-semibold",children:i.label})]},i.id)})})},$D=({title:n,saldo:t,currentTab:e,onOpenModal:i,onOpenReport:a})=>{const o=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c);return j.jsxs("header",{className:"sticky top-0 z-40 bg-slate-950/80 backdrop-blur-md border-b border-slate-800 px-4 md:px-8 py-4 flex justify-between items-center",children:[j.jsxs("div",{className:"flex items-center gap-3",children:[j.jsx("div",{className:"md:hidden w-10 h-10 bg-slate-900 rounded-lg border border-slate-800 flex items-center justify-center p-1",children:j.jsx("img",{src:"https://i.ibb.co/KcrbD45r/Gemini-Generated-Image-icsuqricsuqricsu-1.png",alt:"Logo",className:"w-full h-full object-contain"})}),j.jsxs("div",{children:[j.jsx("h2",{className:"text-xl md:text-2xl font-bold text-white tracking-tight",children:n}),j.jsx("p",{className:"text-xs text-slate-400 hidden md:block",children:"Gesto Financeira Inteligente"})]})]}),j.jsxs("div",{className:"flex items-center gap-3 md:gap-6",children:[j.jsxs("div",{className:"text-right",children:[j.jsx("p",{className:"text-[10px] text-slate-400 font-bold uppercase tracking-wider hidden md:block",children:"Saldo"}),j.jsx("p",{className:`text-lg md:text-2xl font-bold tracking-tight ${t<0?"text-rose-400":"text-emerald-400"}`,children:o(t)})]}),e==="resumo"?j.jsxs("button",{onClick:a,className:"bg-emerald-500/10 text-emerald-400 border border-emerald-500/20 px-3 py-2 rounded-xl font-semibold text-sm hover:bg-emerald-500/20 active:scale-95 transition-all flex items-center gap-2",children:[j.jsx(cT,{size:18}),j.jsx("span",{className:"hidden md:inline",children:"Relatrio"})]}):j.jsxs("div",{className:"flex gap-2",children:[e!=="pagamentos"&&j.jsxs("button",{onClick:()=>i("compra"),className:"bg-slate-800 text-rose-400 border border-rose-500/20 w-10 h-10 md:w-auto md:h-auto md:px-4 md:py-2 rounded-xl font-semibold text-sm flex items-center justify-center gap-2 hover:bg-slate-700 active:scale-95 transition-all",children:[j.jsx(uT,{size:18})," ",j.jsx("span",{className:"hidden md:inline",children:"Compra"})]}),j.jsxs("button",{onClick:()=>i("pagamento"),className:"bg-emerald-500 text-white w-10 h-10 md:w-auto md:h-auto md:px-4 md:py-2 rounded-xl font-semibold text-sm shadow-lg shadow-emerald-500/20 flex items-center justify-center gap-2 hover:bg-emerald-600 active:scale-95 transition-all",children:[j.jsx(hT,{size:18})," ",j.jsx("span",{className:"hidden md:inline",children:"Pagamento"})]})]})]})]})};/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Hc(n){return n+.5|0}const ra=(n,t,e)=>Math.max(Math.min(n,e),t);function ic(n){return ra(Hc(n*2.55),0,255)}function ma(n){return ra(Hc(n*255),0,255)}function _s(n){return ra(Hc(n/2.55)/100,0,1)}function Xv(n){return ra(Hc(n*100),0,100)}const Zn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Um=[..."0123456789ABCDEF"],ZD=n=>Um[n&15],JD=n=>Um[(n&240)>>4]+Um[n&15],Sh=n=>(n&240)>>4===(n&15),tO=n=>Sh(n.r)&&Sh(n.g)&&Sh(n.b)&&Sh(n.a);function eO(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Zn[n[1]]*17,g:255&Zn[n[2]]*17,b:255&Zn[n[3]]*17,a:t===5?Zn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Zn[n[1]]<<4|Zn[n[2]],g:Zn[n[3]]<<4|Zn[n[4]],b:Zn[n[5]]<<4|Zn[n[6]],a:t===9?Zn[n[7]]<<4|Zn[n[8]]:255})),e}const nO=(n,t)=>n<255?t(n):"";function iO(n){var t=tO(n)?ZD:JD;return n?"#"+t(n.r)+t(n.g)+t(n.b)+nO(n.a,t):void 0}const sO=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function dT(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function aO(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function rO(n,t,e){const i=dT(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function oO(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function Hp(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,d,y;return o!==c&&(y=o-c,d=h>.5?y/(2-o-c):y/(o+c),f=oO(e,i,a,y,o),f=f*60+.5),[f|0,d||0,h]}function Fp(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ma)}function qp(n,t,e){return Fp(dT,n,t,e)}function lO(n,t,e){return Fp(rO,n,t,e)}function cO(n,t,e){return Fp(aO,n,t,e)}function gT(n){return(n%360+360)%360}function uO(n){const t=sO.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?ic(+t[5]):ma(+t[5]));const a=gT(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=lO(a,o,c):t[1]==="hsv"?i=cO(a,o,c):i=qp(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function hO(n,t){var e=Hp(n);e[0]=gT(e[0]+t),e=qp(e),n.r=e[0],n.g=e[1],n.b=e[2]}function fO(n){if(!n)return;const t=Hp(n),e=t[0],i=Xv(t[1]),a=Xv(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${_s(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const Kv={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wv={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dO(){const n={},t=Object.keys(Wv),e=Object.keys(Kv);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,Kv[o]);o=parseInt(Wv[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let Ah;function gO(n){Ah||(Ah=dO(),Ah.transparent=[0,0,0,0]);const t=Ah[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const mO=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function pO(n){const t=mO.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?ic(c):ra(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?ic(i):ra(i,0,255)),a=255&(t[4]?ic(a):ra(a,0,255)),o=255&(t[6]?ic(o):ra(o,0,255)),{r:i,g:a,b:o,a:e}}}function yO(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${_s(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const am=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,po=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function _O(n,t,e){const i=po(_s(n.r)),a=po(_s(n.g)),o=po(_s(n.b));return{r:ma(am(i+e*(po(_s(t.r))-i))),g:ma(am(a+e*(po(_s(t.g))-a))),b:ma(am(o+e*(po(_s(t.b))-o))),a:n.a+e*(t.a-n.a)}}function wh(n,t,e){if(n){let i=Hp(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=qp(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function mT(n,t){return n&&Object.assign(t||{},n)}function $v(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ma(n[3]))):(t=mT(n,{r:0,g:0,b:0,a:1}),t.a=ma(t.a)),t}function bO(n){return n.charAt(0)==="r"?pO(n):uO(n)}class Cc{constructor(t){if(t instanceof Cc)return t;const e=typeof t;let i;e==="object"?i=$v(t):e==="string"&&(i=eO(t)||gO(t)||bO(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=mT(this._rgb);return t&&(t.a=_s(t.a)),t}set rgb(t){this._rgb=$v(t)}rgbString(){return this._valid?yO(this._rgb):void 0}hexString(){return this._valid?iO(this._rgb):void 0}hslString(){return this._valid?fO(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,d=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-d,i.r=255&d*i.r+o*a.r+.5,i.g=255&d*i.g+o*a.g+.5,i.b=255&d*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=_O(this._rgb,t._rgb,e)),this}clone(){return new Cc(this.rgb)}alpha(t){return this._rgb.a=ma(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Hc(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return wh(this._rgb,2,t),this}darken(t){return wh(this._rgb,2,-t),this}saturate(t){return wh(this._rgb,1,t),this}desaturate(t){return wh(this._rgb,1,-t),this}rotate(t){return hO(this._rgb,t),this}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function ms(){}const vO=(()=>{let n=0;return()=>n++})();function kt(n){return n==null}function pe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Bt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function Ee(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function zn(n,t){return Ee(n)?n:t}function Rt(n,t){return typeof n>"u"?t:n}const xO=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,pT=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function oe(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ee(n,t,e,i){let a,o,c;if(pe(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Bt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function pf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function yf(n){if(pe(n))return n.map(yf);if(Bt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=yf(n[e[a]]);return t}return n}function yT(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function EO(n,t,e,i){if(!yT(n))return;const a=t[n],o=e[n];Bt(a)&&Bt(o)?Mc(a,o,i):t[n]=yf(o)}function Mc(n,t,e){const i=pe(t)?t:[t],a=i.length;if(!Bt(n))return n;e=e||{};const o=e.merger||EO;let c;for(let h=0;h<a;++h){if(c=i[h],!Bt(c))continue;const f=Object.keys(c);for(let d=0,y=f.length;d<y;++d)o(f[d],n,c,e)}return n}function gc(n,t){return Mc(n,t,{merger:TO})}function TO(n,t,e){if(!yT(n))return;const i=t[n],a=e[n];Bt(i)&&Bt(a)?gc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=yf(a))}const Zv={"":n=>n,x:n=>n.x,y:n=>n.y};function SO(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function AO(n){const t=SO(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Ea(n,t){return(Zv[t]||(Zv[t]=AO(t)))(n)}function Gp(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Dc=n=>typeof n<"u",Ta=n=>typeof n=="function",Jv=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function wO(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Qt=Math.PI,fe=2*Qt,RO=fe+Qt,_f=Number.POSITIVE_INFINITY,CO=Qt/180,Ce=Qt/2,nr=Qt/4,t1=Qt*2/3,oa=Math.log10,Xi=Math.sign;function mc(n,t,e){return Math.abs(n-t)<e}function e1(n){const t=Math.round(n);n=mc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(oa(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function MO(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function DO(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Io(n){return!DO(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function OO(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function _T(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function gi(n){return n*(Qt/180)}function Yp(n){return n*(180/Qt)}function n1(n){if(!Ee(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function bT(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Qt&&(o+=fe),{angle:o,distance:a}}function Hm(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function NO(n,t){return(n-t+RO)%fe-Qt}function fn(n){return(n%fe+fe)%fe}function Oc(n,t,e,i){const a=fn(n),o=fn(t),c=fn(e),h=fn(o-a),f=fn(c-a),d=fn(a-o),y=fn(a-c);return a===o||a===c||i&&o===c||h>f&&d<y}function $e(n,t,e){return Math.max(t,Math.min(e,n))}function IO(n){return $e(n,-32768,32767)}function vs(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Qp(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const xs=(n,t,e,i)=>Qp(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),VO=(n,t,e)=>Qp(n,e,i=>n[i][t]>=e);function kO(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const vT=["push","pop","shift","splice","unshift"];function LO(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),vT.forEach(e=>{const i="_onData"+Gp(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function i1(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(vT.forEach(o=>{delete n[o]}),delete n._chartjs)}function xT(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const ET=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function TT(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,ET.call(window,()=>{i=!1,n.apply(t,e)}))}}function PO(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Xp=n=>n==="start"?"left":n==="end"?"right":"center",un=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,zO=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function ST(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:_,max:v,minDefined:T,maxDefined:A}=c.getUserBounds();if(T){if(a=Math.min(xs(f,y,_).lo,e?i:xs(t,y,c.getPixelForValue(_)).lo),d){const C=f.slice(0,a+1).reverse().findIndex(D=>!kt(D[h.axis]));a-=Math.max(0,C)}a=$e(a,0,i-1)}if(A){let C=Math.max(xs(f,c.axis,v,!0).hi+1,e?0:xs(t,y,c.getPixelForValue(v),!0).hi+1);if(d){const D=f.slice(C-1).findIndex(P=>!kt(P[h.axis]));C+=Math.max(0,D)}o=$e(C,a,i)-a}else o=i-a}return{start:a,count:o}}function AT(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const Rh=n=>n===0||n===1,s1=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*fe/e)),a1=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*fe/e)+1,pc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Ce)+1,easeOutSine:n=>Math.sin(n*Ce),easeInOutSine:n=>-.5*(Math.cos(Qt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Rh(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Rh(n)?n:s1(n,.075,.3),easeOutElastic:n=>Rh(n)?n:a1(n,.075,.3),easeInOutElastic(n){return Rh(n)?n:n<.5?.5*s1(n*2,.1125,.45):.5+.5*a1(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-pc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?pc.easeInBounce(n*2)*.5:pc.easeOutBounce(n*2-1)*.5+.5};function Kp(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function r1(n){return Kp(n)?n:new Cc(n)}function rm(n){return Kp(n)?n:new Cc(n).saturate(.5).darken(.1).hexString()}const jO=["x","y","borderWidth","radius","tension"],BO=["color","borderColor","backgroundColor"];function UO(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:BO},numbers:{type:"number",properties:jO}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function HO(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const o1=new Map;function FO(n,t){t=t||{};const e=n+JSON.stringify(t);let i=o1.get(e);return i||(i=new Intl.NumberFormat(n,t),o1.set(e,i)),i}function Fc(n,t,e){return FO(t,e).format(n)}const wT={values(n){return pe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const d=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(d<1e-4||d>1e15)&&(a="scientific"),o=qO(n,e)}const c=oa(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Fc(n,i,f)},logarithmic(n,t,e){if(n===0)return"0";const i=e[t].significand||n/Math.pow(10,Math.floor(oa(n)));return[1,2,3,5,10,15].includes(i)||t>.8*e.length?wT.numeric.call(this,n,t,e):""}};function qO(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Pf={formatters:wT};function GO(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Pf.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const _r=Object.create(null),Fm=Object.create(null);function yc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function om(n,t,e){return typeof t=="string"?Mc(yc(n,t),e):Mc(yc(n,""),t)}class YO{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>rm(a.backgroundColor),this.hoverBorderColor=(i,a)=>rm(a.borderColor),this.hoverColor=(i,a)=>rm(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return om(this,t,e)}get(t){return yc(this,t)}describe(t,e){return om(Fm,t,e)}override(t,e){return om(_r,t,e)}route(t,e,i,a){const o=yc(this,t),c=yc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],d=c[a];return Bt(f)?Object.assign({},d,f):Rt(f,d)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var ye=new YO({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[UO,HO,GO]);function QO(n){return!n||kt(n.size)||kt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function bf(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function XO(n,t,e,i){i=i||{};let a=i.data=i.data||{},o=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(a=i.data={},o=i.garbageCollect=[],i.font=t),n.save(),n.font=t;let c=0;const h=e.length;let f,d,y,_,v;for(f=0;f<h;f++)if(_=e[f],_!=null&&!pe(_))c=bf(n,a,o,c,_);else if(pe(_))for(d=0,y=_.length;d<y;d++)v=_[d],v!=null&&!pe(v)&&(c=bf(n,a,o,c,v));n.restore();const T=o.length/2;if(T>e.length){for(f=0;f<T;f++)delete a[o[f]];o.splice(0,T)}return c}function ir(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function l1(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function qm(n,t,e,i){RT(n,t,e,i,null)}function RT(n,t,e,i,a){let o,c,h,f,d,y,_,v;const T=t.pointStyle,A=t.rotation,C=t.radius;let D=(A||0)*CO;if(T&&typeof T=="object"&&(o=T.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(D),n.drawImage(T,-T.width/2,-T.height/2,T.width,T.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),T){default:a?n.ellipse(e,i,a/2,C,0,0,fe):n.arc(e,i,C,0,fe),n.closePath();break;case"triangle":y=a?a/2:C,n.moveTo(e+Math.sin(D)*y,i-Math.cos(D)*C),D+=t1,n.lineTo(e+Math.sin(D)*y,i-Math.cos(D)*C),D+=t1,n.lineTo(e+Math.sin(D)*y,i-Math.cos(D)*C),n.closePath();break;case"rectRounded":d=C*.516,f=C-d,c=Math.cos(D+nr)*f,_=Math.cos(D+nr)*(a?a/2-d:f),h=Math.sin(D+nr)*f,v=Math.sin(D+nr)*(a?a/2-d:f),n.arc(e-_,i-h,d,D-Qt,D-Ce),n.arc(e+v,i-c,d,D-Ce,D),n.arc(e+_,i+h,d,D,D+Ce),n.arc(e-v,i+c,d,D+Ce,D+Qt),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*C,y=a?a/2:f,n.rect(e-y,i-f,2*y,2*f);break}D+=nr;case"rectRot":_=Math.cos(D)*(a?a/2:C),c=Math.cos(D)*C,h=Math.sin(D)*C,v=Math.sin(D)*(a?a/2:C),n.moveTo(e-_,i-h),n.lineTo(e+v,i-c),n.lineTo(e+_,i+h),n.lineTo(e-v,i+c),n.closePath();break;case"crossRot":D+=nr;case"cross":_=Math.cos(D)*(a?a/2:C),c=Math.cos(D)*C,h=Math.sin(D)*C,v=Math.sin(D)*(a?a/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+v,i-c),n.lineTo(e-v,i+c);break;case"star":_=Math.cos(D)*(a?a/2:C),c=Math.cos(D)*C,h=Math.sin(D)*C,v=Math.sin(D)*(a?a/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+v,i-c),n.lineTo(e-v,i+c),D+=nr,_=Math.cos(D)*(a?a/2:C),c=Math.cos(D)*C,h=Math.sin(D)*C,v=Math.sin(D)*(a?a/2:C),n.moveTo(e-_,i-h),n.lineTo(e+_,i+h),n.moveTo(e+v,i-c),n.lineTo(e-v,i+c);break;case"line":c=a?a/2:Math.cos(D)*C,h=Math.sin(D)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(D)*(a?a/2:C),i+Math.sin(D)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Es(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function zf(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function jf(n){n.restore()}function KO(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function WO(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function $O(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),kt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ZO(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,d=e+o.actualBoundingBoxDescent,y=a.strikethrough?(f+d)/2:d;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function JO(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function br(n,t,e,i,a,o={}){const c=pe(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,d;for(n.save(),n.font=a.string,$O(n,o),f=0;f<c.length;++f)d=c[f],o.backdrop&&JO(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),kt(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(d,e,i,o.maxWidth)),n.fillText(d,e,i,o.maxWidth),ZO(n,e,i,d,o),i+=Number(a.lineHeight);n.restore()}function Nc(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Qt,Qt,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Qt,Ce,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,Ce,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-Ce,!0),n.lineTo(e+c.topLeft,i)}const t4=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,e4=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function n4(n,t){const e=(""+n).match(t4);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const i4=n=>+n||0;function Wp(n,t){const e={},i=Bt(t),a=i?Object.keys(t):t,o=Bt(n)?i?c=>Rt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=i4(o(c));return e}function CT(n){return Wp(n,{top:"y",right:"x",bottom:"y",left:"x"})}function dr(n){return Wp(n,["topLeft","topRight","bottomLeft","bottomRight"])}function mn(n){const t=CT(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ge(n,t){n=n||{},t=t||ye.font;let e=Rt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Rt(n.style,t.style);i&&!(""+i).match(e4)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Rt(n.family,t.family),lineHeight:n4(Rt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Rt(n.weight,t.weight),string:""};return a.string=QO(a),a}function sc(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function s4(n,t,e){const{min:i,max:a}=n,o=pT(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Sa(n,t){return Object.assign(Object.create(n),t)}function $p(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=NT("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>$p([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return DT(h,f,()=>f4(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return u1(h).includes(f)},ownKeys(h){return u1(h)},set(h,f,d){const y=h._storage||(h._storage=a());return h[f]=y[f]=d,delete h._keys,!0}})}function Vo(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:MT(n,i),setContext:o=>Vo(n,o,e,i),override:o=>Vo(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return DT(o,c,()=>r4(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function MT(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Ta(e)?e:()=>e,isIndexable:Ta(i)?i:()=>i}}const a4=(n,t)=>n?n+Gp(t):t,Zp=(n,t)=>Bt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function DT(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function r4(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Ta(h)&&c.isScriptable(t)&&(h=o4(t,h,n,e)),pe(h)&&h.length&&(h=l4(t,h,n,c.isIndexable)),Zp(t,h)&&(h=Vo(h,a,o&&o[t],c)),h}function o4(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),Zp(n,f)&&(f=Jp(a._scopes,a,n,f)),f}function l4(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Bt(t[0])){const f=t,d=a._scopes.filter(y=>y!==f);t=[];for(const y of f){const _=Jp(d,a,n,y);t.push(Vo(_,o,c&&c[n],h))}}return t}function OT(n,t,e){return Ta(n)?n(t,e):n}const c4=(n,t)=>n===!0?t:typeof n=="string"?Ea(t,n):void 0;function u4(n,t,e,i,a){for(const o of t){const c=c4(e,o);if(c){n.add(c);const h=OT(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function Jp(n,t,e,i){const a=t._rootScopes,o=OT(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=c1(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=c1(h,c,o,f,i),f===null)?!1:$p(Array.from(h),[""],a,o,()=>h4(t,e,i))}function c1(n,t,e,i,a){for(;e;)e=u4(n,t,e,i,a);return e}function h4(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return pe(a)&&Bt(e)?e:a||{}}function f4(n,t,e,i){let a;for(const o of t)if(a=NT(a4(o,n),e),typeof a<"u")return Zp(n,a)?Jp(e,i,n,a):a}function NT(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function u1(n){let t=n._keys;return t||(t=n._keys=d4(n._scopes)),t}function d4(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}function IT(n,t,e,i){const{iScale:a}=n,{key:o="r"}=this._parsing,c=new Array(i);let h,f,d,y;for(h=0,f=i;h<f;++h)d=h+e,y=t[d],c[h]={r:a.parse(Ea(y,o),d)};return c}const g4=Number.EPSILON||1e-14,ko=(n,t)=>t<n.length&&!n[t].skip&&n[t],VT=n=>n==="x"?"y":"x";function m4(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=Hm(o,a),f=Hm(c,o);let d=h/(h+f),y=f/(h+f);d=isNaN(d)?0:d,y=isNaN(y)?0:y;const _=i*d,v=i*y;return{previous:{x:o.x-_*(c.x-a.x),y:o.y-_*(c.y-a.y)},next:{x:o.x+v*(c.x-a.x),y:o.y+v*(c.y-a.y)}}}function p4(n,t,e){const i=n.length;let a,o,c,h,f,d=ko(n,0);for(let y=0;y<i-1;++y)if(f=d,d=ko(n,y+1),!(!f||!d)){if(mc(t[y],0,g4)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=o*c*t[y])}}function y4(n,t,e="x"){const i=VT(e),a=n.length;let o,c,h,f=ko(n,0);for(let d=0;d<a;++d){if(c=h,h=f,f=ko(n,d+1),!h)continue;const y=h[e],_=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=_-o*t[d]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=_+o*t[d])}}function _4(n,t="x"){const e=VT(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,f,d=ko(n,0);for(c=0;c<i;++c)if(h=f,f=d,d=ko(n,c+1),!!f){if(d){const y=d[t]-f[t];a[c]=y!==0?(d[e]-f[e])/y:0}o[c]=h?d?Xi(a[c-1])!==Xi(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}p4(n,a,o),y4(n,o,t)}function Ch(n,t,e){return Math.max(Math.min(n,e),t)}function b4(n,t){let e,i,a,o,c,h=Es(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&Es(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=Ch(a.cp1x,t.left,t.right),a.cp1y=Ch(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=Ch(a.cp2x,t.left,t.right),a.cp2y=Ch(a.cp2y,t.top,t.bottom)))}function v4(n,t,e,i,a){let o,c,h,f;if(t.spanGaps&&(n=n.filter(d=>!d.skip)),t.cubicInterpolationMode==="monotone")_4(n,a);else{let d=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=m4(d,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,d=h}t.capBezierPoints&&b4(n,e)}function ty(){return typeof window<"u"&&typeof document<"u"}function ey(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function vf(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Bf=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function x4(n,t){return Bf(n).getPropertyValue(t)}const E4=["top","right","bottom","left"];function gr(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=E4[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const T4=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function S4(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(T4(a,o,n.target))h=a,f=o;else{const d=t.getBoundingClientRect();h=i.clientX-d.left,f=i.clientY-d.top,c=!0}return{x:h,y:f,box:c}}function or(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=Bf(e),o=a.boxSizing==="border-box",c=gr(a,"padding"),h=gr(a,"border","width"),{x:f,y:d,box:y}=S4(n,e),_=c.left+(y&&h.left),v=c.top+(y&&h.top);let{width:T,height:A}=t;return o&&(T-=c.width+h.width,A-=c.height+h.height),{x:Math.round((f-_)/T*e.width/i),y:Math.round((d-v)/A*e.height/i)}}function A4(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&ey(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Bf(o),f=gr(h,"border","width"),d=gr(h,"padding");t=c.width-d.width-f.width,e=c.height-d.height-f.height,i=vf(h.maxWidth,o,"clientWidth"),a=vf(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||_f,maxHeight:a||_f}}const la=n=>Math.round(n*10)/10;function w4(n,t,e,i){const a=Bf(n),o=gr(a,"margin"),c=vf(a.maxWidth,n,"clientWidth")||_f,h=vf(a.maxHeight,n,"clientHeight")||_f,f=A4(n,t,e);let{width:d,height:y}=f;if(a.boxSizing==="content-box"){const v=gr(a,"border","width"),T=gr(a,"padding");d-=T.width+v.width,y-=T.height+v.height}return d=Math.max(0,d-o.width),y=Math.max(0,i?d/i:y-o.height),d=la(Math.min(d,c,f.maxWidth)),y=la(Math.min(y,h,f.maxHeight)),d&&!y&&(y=la(d/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,d=la(Math.floor(y*i))),{width:d,height:y}}function h1(n,t,e){const i=t||1,a=la(n.height*i),o=la(n.width*i);n.height=la(n.height),n.width=la(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const R4=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};ty()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function f1(n,t){const e=x4(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function lr(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function C4(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function M4(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=lr(n,a,e),h=lr(a,o,e),f=lr(o,t,e),d=lr(c,h,e),y=lr(h,f,e);return lr(d,y,e)}const D4=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},O4=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function wo(n,t,e){return n?D4(t,e):O4()}function kT(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function LT(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function PT(n){return n==="angle"?{between:Oc,compare:NO,normalize:fn}:{between:vs,compare:(t,e)=>t-e,normalize:t=>t}}function d1({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function N4(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=PT(i),f=t.length;let{start:d,end:y,loop:_}=n,v,T;if(_){for(d+=f,y+=f,v=0,T=f;v<T&&c(h(t[d%f][i]),a,o);++v)d--,y--;d%=f,y%=f}return y<d&&(y+=f),{start:d,end:y,loop:_,style:n.style}}function zT(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:f,normalize:d}=PT(i),{start:y,end:_,loop:v,style:T}=N4(n,t,e),A=[];let C=!1,D=null,P,U,X;const Z=()=>f(a,X,P)&&h(a,X)!==0,$=()=>h(o,P)===0||f(o,X,P),nt=()=>C||Z(),M=()=>!C||$();for(let w=y,O=y;w<=_;++w)U=t[w%c],!U.skip&&(P=d(U[i]),P!==X&&(C=f(P,a,o),D===null&&nt()&&(D=h(P,a)===0?w:O),D!==null&&M()&&(A.push(d1({start:D,end:w,loop:v,count:c,style:T})),D=null),O=w,X=P));return D!==null&&A.push(d1({start:D,end:_,loop:v,count:c,style:T})),A}function jT(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=zT(i[a],n.points,t);o.length&&e.push(...o)}return e}function I4(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function V4(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const d=n[f%a];d.skip||d.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=c=d.stop?f:null):(c=f,h.skip&&(t=f)),h=d}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function k4(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=I4(e,a,o,i);if(i===!0)return g1(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+a:h,d=!!n._fullLoop&&c===0&&h===a-1;return g1(n,V4(e,c,f,d),e,t)}function g1(n,t,e,i){return!i||!i.setContext||!e?t:L4(n,t,e,i)}function L4(n,t,e,i){const a=n._chart.getContext(),o=m1(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,d=[];let y=o,_=t[0].start,v=_;function T(A,C,D,P){const U=h?-1:1;if(A!==C){for(A+=f;e[A%f].skip;)A-=U;for(;e[C%f].skip;)C+=U;A%f!==C%f&&(d.push({start:A%f,end:C%f,loop:D,style:P}),y=P,_=C%f)}}for(const A of t){_=h?_:A.start;let C=e[_%f],D;for(v=_+1;v<=A.end;v++){const P=e[v%f];D=m1(i.setContext(Sa(a,{type:"segment",p0:C,p1:P,p0DataIndex:(v-1)%f,p1DataIndex:v%f,datasetIndex:c}))),P4(D,y)&&T(_,v-1,A.loop,y),C=P,y=D}_<v-1&&T(_,v-1,A.loop,y)}return d}function m1(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function P4(n,t){if(!t)return!1;const e=[],i=function(a,o){return Kp(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Mh(n,t,e){return n.options.clip?n[e]:t[e]}function z4(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Mh(e,t,"left"),right:Mh(e,t,"right"),top:Mh(i,t,"top"),bottom:Mh(i,t,"bottom")}:t}function BT(n,t){const e=t._clip;if(e.disabled)return!1;const i=z4(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}/*!
 * Chart.js v4.5.1
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class j4{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=ET.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var ps=new j4;const p1="transparent",B4={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=r1(n||p1),a=i.valid&&r1(t||p1);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class U4{constructor(t,e,i,a){const o=e[i];a=sc([t.to,a,o,t.from]);const c=sc([t.from,o,a]);this._active=!0,this._fn=t.fn||B4[t.type||typeof c],this._easing=pc[t.easing]||pc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=sc([t.to,e,a,t.from]),this._from=sc([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class UT{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Bt(t))return;const e=Object.keys(ye.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Bt(o))return;const c={};for(const h of e)c[h]=o[h];(pe(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=F4(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&H4(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const d=c[f];if(d.charAt(0)==="$")continue;if(d==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[d];let _=o[d];const v=i.get(d);if(_)if(v&&_.active()){_.update(v,y,h);continue}else _.cancel();if(!v||!v.duration){t[d]=y;continue}o[d]=_=new U4(v,t,d,y),a.push(_)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return ps.add(this._chart,i),!0}}function H4(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function F4(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function y1(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function q4(n,t,e){if(e===!1)return!1;const i=y1(n,e),a=y1(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function G4(n){let t,e,i,a;return Bt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function HT(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function _1(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,d;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(y=!0,i.all)continue;break}d=n.values[f],Ee(d)&&(o||t===0||Xi(t)===Xi(d))&&(t+=d)}return!y&&!i.all?0:t}function Y4(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,d,y;for(f=0,d=c.length;f<d;++f)y=c[f],h[f]={[a]:y,[o]:n[y]};return h}function lm(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Q4(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function X4(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function K4(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function b1(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function v1(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,d=c.axis,y=Q4(o,c,i),_=t.length;let v;for(let T=0;T<_;++T){const A=t[T],{[f]:C,[d]:D}=A,P=A._stacks||(A._stacks={});v=P[d]=K4(a,y,C),v[h]=D,v._top=b1(v,c,!0,i.type),v._bottom=b1(v,c,!1,i.type);const U=v._visualValues||(v._visualValues={});U[h]=D}}function cm(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function W4(n,t){return Sa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function $4(n,t,e){return Sa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Xl(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const um=n=>n==="reset"||n==="none",x1=(n,t)=>t?n:Object.assign({},n),Z4=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:HT(e,!0),values:null};class mi{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=lm(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Xl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(_,v,T,A)=>_==="x"?v:_==="r"?A:T,o=e.xAxisID=Rt(i.xAxisID,cm(t,"x")),c=e.yAxisID=Rt(i.yAxisID,cm(t,"y")),h=e.rAxisID=Rt(i.rAxisID,cm(t,"r")),f=e.indexAxis,d=e.iAxisID=a(f,o,c,h),y=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(d),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&i1(this._data,this),t._stacked&&Xl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Bt(e)){const a=this._cachedMeta;this._data=Y4(e,a)}else if(i!==e){if(i){i1(i,this);const a=this._cachedMeta;Xl(a),a._parsed=[]}e&&Object.isExtensible(e)&&LO(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=lm(e.vScale,e),e.stack!==i.stack&&(a=!0,Xl(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(v1(this,e._parsed),e._stacked=lm(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,d=t>0&&i._parsed[t-1],y,_,v;if(this._parsing===!1)i._parsed=a,i._sorted=!0,v=a;else{pe(a[t])?v=this.parseArrayData(i,a,t,e):Bt(a[t])?v=this.parseObjectData(i,a,t,e):v=this.parsePrimitiveData(i,a,t,e);const T=()=>_[h]===null||d&&_[h]<d[h];for(y=0;y<e;++y)i._parsed[y+t]=_=v[y],f&&(T()&&(f=!1),d=_);i._sorted=f}c&&v1(this,v)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,d=o.getLabels(),y=o===c,_=new Array(a);let v,T,A;for(v=0,T=a;v<T;++v)A=v+i,_[v]={[h]:y||o.parse(d[A],A),[f]:c.parse(e[A],A)};return _}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,d,y,_;for(f=0,d=a;f<d;++f)y=f+i,_=e[y],h[f]={x:o.parse(_[0],y),y:c.parse(_[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=new Array(a);let y,_,v,T;for(y=0,_=a;y<_;++y)v=y+i,T=e[v],d[y]={x:o.parse(Ea(T,h),v),y:c.parse(Ea(T,f),v)};return d}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:HT(a,!0),values:e._stacks[t.axis]._visualValues};return _1(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=_1(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=Z4(e,i,this.chart),d={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:_}=X4(h);let v,T;function A(){T=a[v];const C=T[h.axis];return!Ee(T[t.axis])||y>C||_<C}for(v=0;v<c&&!(!A()&&(this.updateRangeFromParsed(d,t,T,f),o));++v);if(o){for(v=c-1;v>=0;--v)if(!A()){this.updateRangeFromParsed(d,t,T,f);break}}return d}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],Ee(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=G4(Rt(this.options.clip,q4(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,d=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const _=a[y];_.hidden||(_.active&&d?c.push(_):_.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=$4(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=W4(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Dc(i);if(h)return x1(h,f);const d=this.chart.config,y=d.datasetElementScopeKeys(this._type,t),_=a?[`${t}Hover`,"hover",t,""]:[t,""],v=d.getOptionScopes(this.getDataset(),y),T=Object.keys(ye.elements[t]),A=()=>this.getContext(i,a,e),C=d.resolveNamedOptions(v,T,A,_);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(x1(C,f))),C}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const y=this.chart.config,_=y.datasetAnimationScopeKeys(this._type,e),v=y.getOptionScopes(this.getDataset(),_);f=y.createResolver(v,this.getContext(t,i,e))}const d=new UT(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(d)),d}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||um(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){um(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!um(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,d]of this._syncList)this[h](f,d);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=d=>{for(d.length+=e,h=d.length-1;h>=c;h--)d[h]=d[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&Xl(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}ct(mi,"defaults",{}),ct(mi,"datasetElementType",null),ct(mi,"dataElementType",null);function J4(n,t){if(!n._cache.$bar){const e=n.getMatchingVisibleMetas(t);let i=[];for(let a=0,o=e.length;a<o;a++)i=i.concat(e[a].controller.getAllParsedValues(n));n._cache.$bar=xT(i.sort((a,o)=>a-o))}return n._cache.$bar}function tN(n){const t=n.iScale,e=J4(t,n.type);let i=t._length,a,o,c,h;const f=()=>{c===32767||c===-32768||(Dc(h)&&(i=Math.min(i,Math.abs(c-h)||i)),h=c)};for(a=0,o=e.length;a<o;++a)c=t.getPixelForValue(e[a]),f();for(h=void 0,a=0,o=t.ticks.length;a<o;++a)c=t.getPixelForTick(a),f();return i}function eN(n,t,e,i){const a=e.barThickness;let o,c;return kt(a)?(o=t.min*e.categoryPercentage,c=e.barPercentage):(o=a*i,c=1),{chunk:o/i,ratio:c,start:t.pixels[n]-o/2}}function nN(n,t,e,i){const a=t.pixels,o=a[n];let c=n>0?a[n-1]:null,h=n<a.length-1?a[n+1]:null;const f=e.categoryPercentage;c===null&&(c=o-(h===null?t.end-t.start:h-o)),h===null&&(h=o+o-c);const d=o-(o-Math.min(c,h))/2*f;return{chunk:Math.abs(h-c)/2*f/i,ratio:e.barPercentage,start:d}}function iN(n,t,e,i){const a=e.parse(n[0],i),o=e.parse(n[1],i),c=Math.min(a,o),h=Math.max(a,o);let f=c,d=h;Math.abs(c)>Math.abs(h)&&(f=h,d=c),t[e.axis]=d,t._custom={barStart:f,barEnd:d,start:a,end:o,min:c,max:h}}function FT(n,t,e,i){return pe(n)?iN(n,t,e,i):t[e.axis]=e.parse(n,i),t}function E1(n,t,e,i){const a=n.iScale,o=n.vScale,c=a.getLabels(),h=a===o,f=[];let d,y,_,v;for(d=e,y=e+i;d<y;++d)v=t[d],_={},_[a.axis]=h||a.parse(c[d],d),f.push(FT(v,_,o,d));return f}function hm(n){return n&&n.barStart!==void 0&&n.barEnd!==void 0}function sN(n,t,e){return n!==0?Xi(n):(t.isHorizontal()?1:-1)*(t.min>=e?1:-1)}function aN(n){let t,e,i,a,o;return n.horizontal?(t=n.base>n.x,e="left",i="right"):(t=n.base<n.y,e="bottom",i="top"),t?(a="end",o="start"):(a="start",o="end"),{start:e,end:i,reverse:t,top:a,bottom:o}}function rN(n,t,e,i){let a=t.borderSkipped;const o={};if(!a){n.borderSkipped=o;return}if(a===!0){n.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:c,end:h,reverse:f,top:d,bottom:y}=aN(n);a==="middle"&&e&&(n.enableBorderRadius=!0,(e._top||0)===i?a=d:(e._bottom||0)===i?a=y:(o[T1(y,c,h,f)]=!0,a=d)),o[T1(a,c,h,f)]=!0,n.borderSkipped=o}function T1(n,t,e,i){return i?(n=oN(n,t,e),n=S1(n,e,t)):n=S1(n,t,e),n}function oN(n,t,e){return n===t?e:n===e?t:n}function S1(n,t,e){return n==="start"?t:n==="end"?e:n}function lN(n,{inflateAmount:t},e){n.inflateAmount=t==="auto"?e===1?.33:0:t}class qh extends mi{parsePrimitiveData(t,e,i,a){return E1(t,e,i,a)}parseArrayData(t,e,i,a){return E1(t,e,i,a)}parseObjectData(t,e,i,a){const{iScale:o,vScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,d=o.axis==="x"?h:f,y=c.axis==="x"?h:f,_=[];let v,T,A,C;for(v=i,T=i+a;v<T;++v)C=e[v],A={},A[o.axis]=o.parse(Ea(C,d),v),_.push(FT(Ea(C,y),A,c,v));return _}updateRangeFromParsed(t,e,i,a){super.updateRangeFromParsed(t,e,i,a);const o=i._custom;o&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,o.min),t.max=Math.max(t.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(t){const e=this._cachedMeta,{iScale:i,vScale:a}=e,o=this.getParsed(t),c=o._custom,h=hm(c)?"["+c.start+", "+c.end+"]":""+a.getLabelForValue(o[a.axis]);return{label:""+i.getLabelForValue(o[i.axis]),value:h}}initialize(){this.enableOptionSharing=!0,super.initialize();const t=this._cachedMeta;t.stack=this.getDataset().stack}update(t){const e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}updateElements(t,e,i,a){const o=a==="reset",{index:c,_cachedMeta:{vScale:h}}=this,f=h.getBasePixel(),d=h.isHorizontal(),y=this._getRuler(),{sharedOptions:_,includeOptions:v}=this._getSharedOptions(e,a);for(let T=e;T<e+i;T++){const A=this.getParsed(T),C=o||kt(A[h.axis])?{base:f,head:f}:this._calculateBarValuePixels(T),D=this._calculateBarIndexPixels(T,y),P=(A._stacks||{})[h.axis],U={horizontal:d,base:C.base,enableBorderRadius:!P||hm(A._custom)||c===P._top||c===P._bottom,x:d?C.head:D.center,y:d?D.center:C.head,height:d?D.size:Math.abs(C.size),width:d?Math.abs(C.size):D.size};v&&(U.options=_||this.resolveDataElementOptions(T,t[T].active?"active":a));const X=U.options||t[T].options;rN(U,X,P,c),lN(U,X,y.ratio),this.updateElement(t[T],T,U,a)}}_getStacks(t,e){const{iScale:i}=this._cachedMeta,a=i.getMatchingVisibleMetas(this._type).filter(y=>y.controller.options.grouped),o=i.options.stacked,c=[],h=this._cachedMeta.controller.getParsed(e),f=h&&h[i.axis],d=y=>{const _=y._parsed.find(T=>T[i.axis]===f),v=_&&_[y.vScale.axis];if(kt(v)||isNaN(v))return!0};for(const y of a)if(!(e!==void 0&&d(y))&&((o===!1||c.indexOf(y.stack)===-1||o===void 0&&y.stack===void 0)&&c.push(y.stack),y.index===t))break;return c.length||c.push(void 0),c}_getStackCount(t){return this._getStacks(void 0,t).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const t=this.chart.scales,e=this.chart.options.indexAxis;return Object.keys(t).filter(i=>t[i].axis===e).shift()}_getAxis(){const t={},e=this.getFirstScaleIdForIndexAxis();for(const i of this.chart.data.datasets)t[Rt(this.chart.options.indexAxis==="x"?i.xAxisID:i.yAxisID,e)]=!0;return Object.keys(t)}_getStackIndex(t,e,i){const a=this._getStacks(t,i),o=e!==void 0?a.indexOf(e):-1;return o===-1?a.length-1:o}_getRuler(){const t=this.options,e=this._cachedMeta,i=e.iScale,a=[];let o,c;for(o=0,c=e.data.length;o<c;++o)a.push(i.getPixelForValue(this.getParsed(o)[i.axis],o));const h=t.barThickness;return{min:h||tN(e),pixels:a,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:h?1:t.categoryPercentage*t.barPercentage}}_calculateBarValuePixels(t){const{_cachedMeta:{vScale:e,_stacked:i,index:a},options:{base:o,minBarLength:c}}=this,h=o||0,f=this.getParsed(t),d=f._custom,y=hm(d);let _=f[e.axis],v=0,T=i?this.applyStack(e,f,i):_,A,C;T!==_&&(v=T-_,T=_),y&&(_=d.barStart,T=d.barEnd-d.barStart,_!==0&&Xi(_)!==Xi(d.barEnd)&&(v=0),v+=_);const D=!kt(o)&&!y?o:v;let P=e.getPixelForValue(D);if(this.chart.getDataVisibility(t)?A=e.getPixelForValue(v+T):A=P,C=A-P,Math.abs(C)<c){C=sN(C,e,h)*c,_===h&&(P-=C/2);const U=e.getPixelForDecimal(0),X=e.getPixelForDecimal(1),Z=Math.min(U,X),$=Math.max(U,X);P=Math.max(Math.min(P,$),Z),A=P+C,i&&!y&&(f._stacks[e.axis]._visualValues[a]=e.getValueForPixel(A)-e.getValueForPixel(P))}if(P===e.getPixelForValue(h)){const U=Xi(C)*e.getLineWidthForValue(h)/2;P+=U,C-=U}return{size:C,base:P,head:A,center:A+C/2}}_calculateBarIndexPixels(t,e){const i=e.scale,a=this.options,o=a.skipNull,c=Rt(a.maxBarThickness,1/0);let h,f;const d=this._getAxisCount();if(e.grouped){const y=o?this._getStackCount(t):e.stackCount,_=a.barThickness==="flex"?nN(t,e,a,y*d):eN(t,e,a,y*d),v=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,T=this._getAxis().indexOf(Rt(v,this.getFirstScaleIdForIndexAxis())),A=this._getStackIndex(this.index,this._cachedMeta.stack,o?t:void 0)+T;h=_.start+_.chunk*A+_.chunk/2,f=Math.min(c,_.chunk*_.ratio)}else h=i.getPixelForValue(this.getParsed(t)[i.axis],t),f=Math.min(c,e.min*e.ratio);return{base:h-f/2,head:h+f/2,center:h,size:f}}draw(){const t=this._cachedMeta,e=t.vScale,i=t.data,a=i.length;let o=0;for(;o<a;++o)this.getParsed(o)[e.axis]!==null&&!i[o].hidden&&i[o].draw(this._ctx)}}ct(qh,"id","bar"),ct(qh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),ct(qh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class Gh extends mi{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(t,e,i,a){const o=super.parsePrimitiveData(t,e,i,a);for(let c=0;c<o.length;c++)o[c]._custom=this.resolveDataElementOptions(c+i).radius;return o}parseArrayData(t,e,i,a){const o=super.parseArrayData(t,e,i,a);for(let c=0;c<o.length;c++){const h=e[i+c];o[c]._custom=Rt(h[2],this.resolveDataElementOptions(c+i).radius)}return o}parseObjectData(t,e,i,a){const o=super.parseObjectData(t,e,i,a);for(let c=0;c<o.length;c++){const h=e[i+c];o[c]._custom=Rt(h&&h.r&&+h.r,this.resolveDataElementOptions(c+i).radius)}return o}getMaxOverflow(){const t=this._cachedMeta.data;let e=0;for(let i=t.length-1;i>=0;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return e>0&&e}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=e,c=this.getParsed(t),h=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y),d=c._custom;return{label:i[t]||"",value:"("+h+", "+f+(d?", "+d:"")+")"}}update(t){const e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h}=this._cachedMeta,{sharedOptions:f,includeOptions:d}=this._getSharedOptions(e,a),y=c.axis,_=h.axis;for(let v=e;v<e+i;v++){const T=t[v],A=!o&&this.getParsed(v),C={},D=C[y]=o?c.getPixelForDecimal(.5):c.getPixelForValue(A[y]),P=C[_]=o?h.getBasePixel():h.getPixelForValue(A[_]);C.skip=isNaN(D)||isNaN(P),d&&(C.options=f||this.resolveDataElementOptions(v,T.active?"active":a),o&&(C.options.radius=0)),this.updateElement(T,v,C,a)}}resolveDataElementOptions(t,e){const i=this.getParsed(t);let a=super.resolveDataElementOptions(t,e);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const o=a.radius;return e!=="active"&&(a.radius=0),a.radius+=Rt(i&&i._custom,o),a}}ct(Gh,"id","bubble"),ct(Gh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),ct(Gh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});function cN(n,t,e){let i=1,a=1,o=0,c=0;if(t<fe){const h=n,f=h+t,d=Math.cos(h),y=Math.sin(h),_=Math.cos(f),v=Math.sin(f),T=(X,Z,$)=>Oc(X,h,f,!0)?1:Math.max(Z,Z*e,$,$*e),A=(X,Z,$)=>Oc(X,h,f,!0)?-1:Math.min(Z,Z*e,$,$*e),C=T(0,d,_),D=T(Ce,y,v),P=A(Qt,d,_),U=A(Qt+Ce,y,v);i=(C-P)/2,a=(D-U)/2,o=-(C+P)/2,c=-(D+U)/2}return{ratioX:i,ratioY:a,offsetX:o,offsetY:c}}class ur extends mi{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const i=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=i;else{let o=f=>+i[f];if(Bt(i[t])){const{key:f="value"}=this._parsing;o=d=>+Ea(i[d],f)}let c,h;for(c=t,h=t+e;c<h;++c)a._parsed[c]=o(c)}}_getRotation(){return gi(this.options.rotation-90)}_getCircumference(){return gi(this.options.circumference)}_getRotationExtents(){let t=fe,e=-fe;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const a=this.chart.getDatasetMeta(i).controller,o=a._getRotation(),c=a._getCircumference();t=Math.min(t,o),e=Math.max(e,o+c)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:i}=e,a=this._cachedMeta,o=a.data,c=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,h=Math.max((Math.min(i.width,i.height)-c)/2,0),f=Math.min(xO(this.options.cutout,h),1),d=this._getRingWeight(this.index),{circumference:y,rotation:_}=this._getRotationExtents(),{ratioX:v,ratioY:T,offsetX:A,offsetY:C}=cN(_,y,f),D=(i.width-c)/v,P=(i.height-c)/T,U=Math.max(Math.min(D,P)/2,0),X=pT(this.options.radius,U),Z=Math.max(X*f,0),$=(X-Z)/this._getVisibleDatasetWeightTotal();this.offsetX=A*X,this.offsetY=C*X,a.total=this.calculateTotal(),this.outerRadius=X-$*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-$*d,0),this.updateElements(o,0,o.length,t)}_circumference(t,e){const i=this.options,a=this._cachedMeta,o=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||a._parsed[t]===null||a.data[t].hidden?0:this.calculateCircumference(a._parsed[t]*o/fe)}updateElements(t,e,i,a){const o=a==="reset",c=this.chart,h=c.chartArea,d=c.options.animation,y=(h.left+h.right)/2,_=(h.top+h.bottom)/2,v=o&&d.animateScale,T=v?0:this.innerRadius,A=v?0:this.outerRadius,{sharedOptions:C,includeOptions:D}=this._getSharedOptions(e,a);let P=this._getRotation(),U;for(U=0;U<e;++U)P+=this._circumference(U,o);for(U=e;U<e+i;++U){const X=this._circumference(U,o),Z=t[U],$={x:y+this.offsetX,y:_+this.offsetY,startAngle:P,endAngle:P+X,circumference:X,outerRadius:A,innerRadius:T};D&&($.options=C||this.resolveDataElementOptions(U,Z.active?"active":a)),P+=X,this.updateElement(Z,U,$,a)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let i=0,a;for(a=0;a<e.length;a++){const o=t._parsed[a];o!==null&&!isNaN(o)&&this.chart.getDataVisibility(a)&&!e[a].hidden&&(i+=Math.abs(o))}return i}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?fe*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Fc(e._parsed[t],i.options.locale);return{label:a[t]||"",value:o}}getMaxBorderWidth(t){let e=0;const i=this.chart;let a,o,c,h,f;if(!t){for(a=0,o=i.data.datasets.length;a<o;++a)if(i.isDatasetVisible(a)){c=i.getDatasetMeta(a),t=c.data,h=c.controller;break}}if(!t)return 0;for(a=0,o=t.length;a<o;++a)f=h.resolveDataElementOptions(a),f.borderAlign!=="inner"&&(e=Math.max(e,f.borderWidth||0,f.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let i=0,a=t.length;i<a;++i){const o=this.resolveDataElementOptions(i);e=Math.max(e,o.offset||0,o.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}_getRingWeight(t){return Math.max(Rt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}ct(ur,"id","doughnut"),ct(ur,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),ct(ur,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),ct(ur,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data,{labels:{pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=t.legend.options;return e.labels.length&&e.datasets.length?e.labels.map((f,d)=>{const _=t.getDatasetMeta(0).controller.getStyle(d);return{text:f,fillStyle:_.backgroundColor,fontColor:o,hidden:!t.getDataVisibility(d),lineDash:_.borderDash,lineDashOffset:_.borderDashOffset,lineJoin:_.borderJoinStyle,lineWidth:_.borderWidth,strokeStyle:_.borderColor,textAlign:a,pointStyle:i,borderRadius:c&&(h||_.borderRadius),index:d}}):[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}});class Yh extends mi{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=ST(e,a,c);this._drawStart=h,this._drawCount=f,AT(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const d=this.resolveDatasetElementOptions(t);this.options.showLine||(d.borderWidth=0),d.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:d},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:d}=this._cachedMeta,{sharedOptions:y,includeOptions:_}=this._getSharedOptions(e,a),v=c.axis,T=h.axis,{spanGaps:A,segment:C}=this.options,D=Io(A)?A:Number.POSITIVE_INFINITY,P=this.chart._animationsDisabled||o||a==="none",U=e+i,X=t.length;let Z=e>0&&this.getParsed(e-1);for(let $=0;$<X;++$){const nt=t[$],M=P?nt:{};if($<e||$>=U){M.skip=!0;continue}const w=this.getParsed($),O=kt(w[T]),V=M[v]=c.getPixelForValue(w[v],$),I=M[T]=o||O?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,w,f):w[T],$);M.skip=isNaN(V)||isNaN(I)||O,M.stop=$>0&&Math.abs(w[v]-Z[v])>D,C&&(M.parsed=w,M.raw=d.data[$]),_&&(M.options=y||this.resolveDataElementOptions($,nt.active?"active":a)),P||this.updateElement(nt,$,M,a),Z=w}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}ct(Yh,"id","line"),ct(Yh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),ct(Yh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class _c extends mi{constructor(t,e){super(t,e),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(t){const e=this._cachedMeta,i=this.chart,a=i.data.labels||[],o=Fc(e._parsed[t].r,i.options.locale);return{label:a[t]||"",value:o}}parseObjectData(t,e,i,a){return IT.bind(this)(t,e,i,a)}update(t){const e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}getMinMax(){const t=this._cachedMeta,e={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach((i,a)=>{const o=this.getParsed(a).r;!isNaN(o)&&this.chart.getDataVisibility(a)&&(o<e.min&&(e.min=o),o>e.max&&(e.max=o))}),e}_updateRadius(){const t=this.chart,e=t.chartArea,i=t.options,a=Math.min(e.right-e.left,e.bottom-e.top),o=Math.max(a/2,0),c=Math.max(i.cutoutPercentage?o/100*i.cutoutPercentage:1,0),h=(o-c)/t.getVisibleDatasetCount();this.outerRadius=o-h*this.index,this.innerRadius=this.outerRadius-h}updateElements(t,e,i,a){const o=a==="reset",c=this.chart,f=c.options.animation,d=this._cachedMeta.rScale,y=d.xCenter,_=d.yCenter,v=d.getIndexAngle(0)-.5*Qt;let T=v,A;const C=360/this.countVisibleElements();for(A=0;A<e;++A)T+=this._computeAngle(A,a,C);for(A=e;A<e+i;A++){const D=t[A];let P=T,U=T+this._computeAngle(A,a,C),X=c.getDataVisibility(A)?d.getDistanceFromCenterForValue(this.getParsed(A).r):0;T=U,o&&(f.animateScale&&(X=0),f.animateRotate&&(P=U=v));const Z={x:y,y:_,innerRadius:0,outerRadius:X,startAngle:P,endAngle:U,options:this.resolveDataElementOptions(A,D.active?"active":a)};this.updateElement(D,A,Z,a)}}countVisibleElements(){const t=this._cachedMeta;let e=0;return t.data.forEach((i,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&e++}),e}_computeAngle(t,e,i){return this.chart.getDataVisibility(t)?gi(this.resolveDataElementOptions(t,e).angle||i):0}}ct(_c,"id","polarArea"),ct(_c,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),ct(_c,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:i,color:a}}=t.legend.options;return e.labels.map((o,c)=>{const f=t.getDatasetMeta(0).controller.getStyle(c);return{text:o,fillStyle:f.backgroundColor,strokeStyle:f.borderColor,fontColor:a,lineWidth:f.borderWidth,pointStyle:i,hidden:!t.getDataVisibility(c),index:c}})}return[]}},onClick(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Gm extends ur{}ct(Gm,"id","pie"),ct(Gm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class Qh extends mi{getLabelAndValue(t){const e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}parseObjectData(t,e,i,a){return IT.bind(this)(t,e,i,a)}update(t){const e=this._cachedMeta,i=e.dataset,a=e.data||[],o=e.iScale.getLabels();if(i.points=a,t!=="resize"){const c=this.resolveDatasetElementOptions(t);this.options.showLine||(c.borderWidth=0);const h={_loop:!0,_fullLoop:o.length===a.length,options:c};this.updateElement(i,void 0,h,t)}this.updateElements(a,0,a.length,t)}updateElements(t,e,i,a){const o=this._cachedMeta.rScale,c=a==="reset";for(let h=e;h<e+i;h++){const f=t[h],d=this.resolveDataElementOptions(h,f.active?"active":a),y=o.getPointPositionForValue(h,this.getParsed(h).r),_=c?o.xCenter:y.x,v=c?o.yCenter:y.y,T={x:_,y:v,angle:y.angle,skip:isNaN(_)||isNaN(v),options:d};this.updateElement(f,h,T,a)}}}ct(Qh,"id","radar"),ct(Qh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),ct(Qh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Xh extends mi{getLabelAndValue(t){const e=this._cachedMeta,i=this.chart.data.labels||[],{xScale:a,yScale:o}=e,c=this.getParsed(t),h=a.getLabelForValue(c.x),f=o.getLabelForValue(c.y);return{label:i[t]||"",value:"("+h+", "+f+")"}}update(t){const e=this._cachedMeta,{data:i=[]}=e,a=this.chart._animationsDisabled;let{start:o,count:c}=ST(e,i,a);if(this._drawStart=o,this._drawCount=c,AT(e)&&(o=0,c=i.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:h,_dataset:f}=e;h._chart=this.chart,h._datasetIndex=this.index,h._decimated=!!f._decimated,h.points=i;const d=this.resolveDatasetElementOptions(t);d.segment=this.options.segment,this.updateElement(h,void 0,{animated:!a,options:d},t)}else this.datasetElementType&&(delete e.dataset,this.datasetElementType=!1);this.updateElements(i,o,c,t)}addElements(){const{showLine:t}=this.options;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:d}=this._cachedMeta,y=this.resolveDataElementOptions(e,a),_=this.getSharedOptions(y),v=this.includeOptions(a,_),T=c.axis,A=h.axis,{spanGaps:C,segment:D}=this.options,P=Io(C)?C:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||a==="none";let X=e>0&&this.getParsed(e-1);for(let Z=e;Z<e+i;++Z){const $=t[Z],nt=this.getParsed(Z),M=U?$:{},w=kt(nt[A]),O=M[T]=c.getPixelForValue(nt[T],Z),V=M[A]=o||w?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,nt,f):nt[A],Z);M.skip=isNaN(O)||isNaN(V)||w,M.stop=Z>0&&Math.abs(nt[T]-X[T])>P,D&&(M.parsed=nt,M.raw=d.data[Z]),v&&(M.options=_||this.resolveDataElementOptions(Z,$.active?"active":a)),U||this.updateElement($,Z,M,a),X=nt}this.updateSharedOptions(_,a,y)}getMaxOverflow(){const t=this._cachedMeta,e=t.data||[];if(!this.options.showLine){let h=0;for(let f=e.length-1;f>=0;--f)h=Math.max(h,e[f].size(this.resolveDataElementOptions(f))/2);return h>0&&h}const i=t.dataset,a=i.options&&i.options.borderWidth||0;if(!e.length)return a;const o=e[0].size(this.resolveDataElementOptions(0)),c=e[e.length-1].size(this.resolveDataElementOptions(e.length-1));return Math.max(a,o,c)/2}}ct(Xh,"id","scatter"),ct(Xh,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),ct(Xh,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var uN=Object.freeze({__proto__:null,BarController:qh,BubbleController:Gh,DoughnutController:ur,LineController:Yh,PieController:Gm,PolarAreaController:_c,RadarController:Qh,ScatterController:Xh});function sr(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class ny{constructor(t){ct(this,"options");this.options=t||{}}static override(t){Object.assign(ny.prototype,t)}init(){}formats(){return sr()}parse(){return sr()}format(){return sr()}add(){return sr()}diff(){return sr()}startOf(){return sr()}endOf(){return sr()}}var hN={_date:ny};function fN(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const d=h._reversePixels?VO:xs;if(i){if(a._sharedOptions){const y=o[0],_=typeof y.getRange=="function"&&y.getRange(t);if(_){const v=d(o,t,e-_),T=d(o,t,e+_);return{lo:v.lo,hi:T.hi}}}}else{const y=d(o,t,e);if(f){const{vScale:_}=a._cachedMeta,{_parsed:v}=n,T=v.slice(0,y.lo+1).reverse().findIndex(C=>!kt(C[_.axis]));y.lo-=Math.max(0,T);const A=v.slice(y.hi).findIndex(C=>!kt(C[_.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function Uf(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:d,data:y}=o[h],{lo:_,hi:v}=fN(o[h],t,c,a);for(let T=_;T<=v;++T){const A=y[T];A.skip||i(A,d,T)}}}function dN(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function fm(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||Uf(n,e,t,function(h,f,d){!a&&!Es(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:d})},!0),o}function gN(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:d,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:_}=bT(c,{x:t.x,y:t.y});Oc(_,d,y)&&a.push({element:c,datasetIndex:h,index:f})}return Uf(n,e,t,o),a}function mN(n,t,e,i,a,o){let c=[];const h=dN(e);let f=Number.POSITIVE_INFINITY;function d(y,_,v){const T=y.inRange(t.x,t.y,a);if(i&&!T)return;const A=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(A))&&!T)return;const D=h(t,A);D<f?(c=[{element:y,datasetIndex:_,index:v}],f=D):D===f&&c.push({element:y,datasetIndex:_,index:v})}return Uf(n,e,t,d),c}function dm(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?gN(n,t,e,a):mN(n,t,e,i,a,o)}function A1(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Uf(n,e,t,(f,d,y)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:d,index:y}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var pN={modes:{index(n,t,e,i){const a=or(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?fm(n,a,o,i,c):dm(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(d=>{const y=h[0].index,_=d.data[y];_&&!_.skip&&f.push({element:_,datasetIndex:d.index,index:y})}),f):[]},dataset(n,t,e,i){const a=or(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?fm(n,a,o,i,c):dm(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,d=n.getDatasetMeta(f).data;h=[];for(let y=0;y<d.length;++y)h.push({element:d[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const a=or(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return fm(n,a,o,i,c)},nearest(n,t,e,i){const a=or(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return dm(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=or(t,n);return A1(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=or(t,n);return A1(n,a,"y",e.intersect,i)}}};const qT=["left","top","right","bottom"];function Kl(n,t){return n.filter(e=>e.pos===t)}function w1(n,t){return n.filter(e=>qT.indexOf(e.pos)===-1&&e.box.axis===t)}function Wl(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function yN(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function _N(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!qT.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function bN(n,t){const e=_N(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,d=e[h.stack],y=d&&h.stackWeight/d.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:f&&t.availableHeight)}return e}function vN(n){const t=yN(n),e=Wl(t.filter(d=>d.box.fullSize),!0),i=Wl(Kl(t,"left"),!0),a=Wl(Kl(t,"right")),o=Wl(Kl(t,"top"),!0),c=Wl(Kl(t,"bottom")),h=w1(t,"x"),f=w1(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:Kl(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function R1(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function GT(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function xN(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!Bt(a)){e.size&&(n[a]-=e.size);const _=i[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?o.height:o.width),e.size=_.size/_.count,n[a]+=e.size}o.getPadding&&GT(c,o.getPadding());const h=Math.max(0,t.outerWidth-R1(c,n,"left","right")),f=Math.max(0,t.outerHeight-R1(c,n,"top","bottom")),d=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:d,other:y}:{same:y,other:d}}function EN(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function TN(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function ac(n,t,e,i){const a=[];let o,c,h,f,d,y;for(o=0,c=n.length,d=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,TN(h.horizontal,t));const{same:_,other:v}=xN(t,e,h,i);d|=_&&a.length,y=y||v,f.fullSize||a.push(h)}return d&&ac(a,t,e,i)||y}function Dh(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function C1(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,d=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/d.weight||1;if(h.horizontal){const _=t.w*y,v=d.size||f.height;Dc(d.start)&&(c=d.start),f.fullSize?Dh(f,a.left,c,e.outerWidth-a.right-a.left,v):Dh(f,t.left+d.placed,c,_,v),d.start=c,d.placed+=_,c=f.bottom}else{const _=t.h*y,v=d.size||f.width;Dc(d.start)&&(o=d.start),f.fullSize?Dh(f,o,a.top,v,e.outerHeight-a.bottom-a.top):Dh(f,o,t.top+d.placed,v,_),d.start=o,d.placed+=_,o=f.right}}t.x=o,t.y=c}var gn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=mn(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=vN(n.boxes),f=h.vertical,d=h.horizontal;ee(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const y=f.reduce((C,D)=>D.box.options&&D.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),v=Object.assign({},a);GT(v,mn(i));const T=Object.assign({maxPadding:v,w:o,h:c,x:a.left,y:a.top},a),A=bN(f.concat(d),_);ac(h.fullSize,T,_,A),ac(f,T,_,A),ac(d,T,_,A)&&ac(f,T,_,A),EN(T),C1(h.leftAndTop,T,_,A),T.x+=T.w,T.y+=T.h,C1(h.rightAndBottom,T,_,A),n.chartArea={left:T.left,top:T.top,right:T.left+T.w,bottom:T.top+T.h,height:T.h,width:T.w},ee(h.chartArea,C=>{const D=C.box;Object.assign(D,n.chartArea),D.update(T.w,T.h,{left:0,top:0,right:0,bottom:0})})}};class YT{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class SN extends YT{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Kh="$chartjs",AN={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},M1=n=>n===null||n==="";function wN(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Kh]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",M1(a)){const o=f1(n,"width");o!==void 0&&(n.width=o)}if(M1(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=f1(n,"height");o!==void 0&&(n.height=o)}return n}const QT=R4?{passive:!0}:!1;function RN(n,t,e){n&&n.addEventListener(t,e,QT)}function CN(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,QT)}function MN(n,t){const e=AN[n.type]||n.type,{x:i,y:a}=or(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function xf(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function DN(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||xf(h.addedNodes,i),c=c&&!xf(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function ON(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||xf(h.removedNodes,i),c=c&&!xf(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const Ic=new Map;let D1=0;function XT(){const n=window.devicePixelRatio;n!==D1&&(D1=n,Ic.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function NN(n,t){Ic.size||window.addEventListener("resize",XT),Ic.set(n,t)}function IN(n){Ic.delete(n),Ic.size||window.removeEventListener("resize",XT)}function VN(n,t,e){const i=n.canvas,a=i&&ey(i);if(!a)return;const o=TT((h,f)=>{const d=a.clientWidth;e(h,f),d<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],d=f.contentRect.width,y=f.contentRect.height;d===0&&y===0||o(d,y)});return c.observe(a),NN(n,o),c}function gm(n,t,e){e&&e.disconnect(),t==="resize"&&IN(n)}function kN(n,t,e){const i=n.canvas,a=TT(o=>{n.ctx!==null&&e(MN(o,n))},n);return RN(i,t,a),a}class LN extends YT{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(wN(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Kh])return!1;const i=e[Kh].initial;["height","width"].forEach(o=>{const c=i[o];kt(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[Kh],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:DN,detach:ON,resize:VN}[e]||kN;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:gm,detach:gm,resize:gm}[e]||CN)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return w4(t,e,i,a)}isAttached(t){const e=t&&ey(t);return!!(e&&e.isConnected)}}function PN(n){return!ty()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?SN:LN}class yi{constructor(){ct(this,"x");ct(this,"y");ct(this,"active",!1);ct(this,"options");ct(this,"$animations")}tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Io(this.x)&&Io(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}ct(yi,"defaults",{}),ct(yi,"defaultRoutes");function zN(n,t){const e=n.options.ticks,i=jN(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?UN(t):[],c=o.length,h=o[0],f=o[c-1],d=[];if(c>a)return HN(t,d,o,c/a),d;const y=BN(o,t,a);if(c>0){let _,v;const T=c>1?Math.round((f-h)/(c-1)):null;for(Oh(t,d,y,kt(T)?0:h-T,h),_=0,v=c-1;_<v;_++)Oh(t,d,y,o[_],o[_+1]);return Oh(t,d,y,f,kt(T)?t.length:f+T),d}return Oh(t,d,y),d}function jN(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function BN(n,t,e){const i=FN(n),a=t.length/e;if(!i)return Math.max(a,1);const o=MO(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function UN(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function HN(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function Oh(n,t,e,i,a){const o=Rt(i,0),c=Math.min(Rt(a,n.length),n.length);let h=0,f,d,y;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(d=Math.max(o,0);d<c;d++)d===y&&(t.push(n[d]),h++,y=Math.round(o+h*e))}function FN(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const qN=n=>n==="left"?"right":n==="right"?"left":n,O1=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,N1=(n,t)=>Math.min(t||n,n);function I1(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function GN(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),d;if(!(e&&(i===1?d=Math.max(f-o,c-f):t===0?d=(n.getPixelForTick(1)-f)/2:d=(f-n.getPixelForTick(a-1))/2,f+=a<t?d:-d,f<o-h||f>c+h)))return f}function YN(n,t){ee(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function $l(n){return n.drawTicks?n.tickLength:0}function V1(n,t){if(!n.display)return 0;const e=Ge(n.font,t),i=mn(n.padding);return(pe(n.text)?n.text.length:1)*e.lineHeight+i.height}function QN(n,t){return Sa(n,{scale:t,type:"scale"})}function XN(n,t,e){return Sa(n,{tick:e,index:t,type:"tick"})}function KN(n,t,e){let i=Xp(n);return(e&&t!=="right"||!e&&t==="right")&&(i=qN(i)),i}function WN(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:d,scales:y}=f;let _=0,v,T,A;const C=c-a,D=h-o;if(n.isHorizontal()){if(T=un(i,o,h),Bt(e)){const P=Object.keys(e)[0],U=e[P];A=y[P].getPixelForValue(U)+C-t}else e==="center"?A=(d.bottom+d.top)/2+C-t:A=O1(n,e,t);v=h-o}else{if(Bt(e)){const P=Object.keys(e)[0],U=e[P];T=y[P].getPixelForValue(U)-D+t}else e==="center"?T=(d.left+d.right)/2-D+t:T=O1(n,e,t);A=un(i,c,a),_=e==="left"?-Ce:Ce}return{titleX:T,titleY:A,maxWidth:v,rotation:_}}class Sr extends yi{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=zn(t,Number.POSITIVE_INFINITY),e=zn(e,Number.NEGATIVE_INFINITY),i=zn(i,Number.POSITIVE_INFINITY),a=zn(a,Number.NEGATIVE_INFINITY),{min:zn(t,i),max:zn(e,a),minDefined:Ee(t),maxDefined:Ee(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,d=h.length;f<d;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:zn(e,zn(i,e)),max:zn(i,zn(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){oe(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=s4(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?I1(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=zN(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){oe(this.options.afterUpdate,[this])}beforeSetDimensions(){oe(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){oe(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),oe(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){oe(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=oe(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){oe(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){oe(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=N1(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,d;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),_=y.widest.width,v=y.highest.height,T=$e(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/i:T/(i-1),_+6>h&&(h=T/(i-(t.offset?.5:1)),f=this.maxHeight-$l(t.grid)-e.padding-V1(t.title,this.chart.options.font),d=Math.sqrt(_*_+v*v),c=Yp(Math.min(Math.asin($e((y.highest.height+6)/h,-1,1)),Math.asin($e(f/d,-1,1))-Math.asin($e(v/d,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){oe(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){oe(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=V1(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=$l(o)+f):(t.height=this.maxHeight,t.width=$l(o)+f),i.display&&this.ticks.length){const{first:d,last:y,widest:_,highest:v}=this._getLabelSizes(),T=i.padding*2,A=gi(this.labelRotation),C=Math.cos(A),D=Math.sin(A);if(h){const P=i.mirror?0:D*_.width+C*v.height;t.height=Math.min(this.maxHeight,t.height+P+T)}else{const P=i.mirror?0:C*_.width+D*v.height;t.width=Math.min(this.maxWidth,t.width+P+T)}this._calculatePadding(d,y,D,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,d=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let v=0,T=0;f?d?(v=a*t.width,T=i*e.height):(v=i*t.height,T=a*e.width):o==="start"?T=e.width:o==="end"?v=t.width:o!=="inner"&&(v=t.width/2,T=e.width/2),this.paddingLeft=Math.max((v-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((T-_+c)*this.width/(this.width-_),0)}else{let y=e.height/2,_=t.height/2;o==="start"?(y=0,_=t.height):o==="end"&&(y=e.height,_=0),this.paddingTop=y+c,this.paddingBottom=_+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){oe(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)kt(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=I1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/N1(e,i));let d=0,y=0,_,v,T,A,C,D,P,U,X,Z,$;for(_=0;_<e;_+=f){if(A=t[_].label,C=this._resolveTickFontOptions(_),a.font=D=C.string,P=o[D]=o[D]||{data:{},gc:[]},U=C.lineHeight,X=Z=0,!kt(A)&&!pe(A))X=bf(a,P.data,P.gc,X,A),Z=U;else if(pe(A))for(v=0,T=A.length;v<T;++v)$=A[v],!kt($)&&!pe($)&&(X=bf(a,P.data,P.gc,X,$),Z+=U);c.push(X),h.push(Z),d=Math.max(X,d),y=Math.max(Z,y)}YN(o,e);const nt=c.indexOf(d),M=h.indexOf(y),w=O=>({width:c[O]||0,height:h[O]||0});return{first:w(0),last:w(e-1),widest:w(nt),highest:w(M),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return IO(this._alignToPixels?ir(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=XN(this.getContext(),t,i))}return this.$context||(this.$context=QN(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=gi(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,d=this.isHorizontal(),_=this.ticks.length+(f?1:0),v=$l(o),T=[],A=h.setContext(this.getContext()),C=A.display?A.width:0,D=C/2,P=function(F){return ir(i,F,C)};let U,X,Z,$,nt,M,w,O,V,I,z,N;if(c==="top")U=P(this.bottom),M=this.bottom-v,O=U-D,I=P(t.top)+D,N=t.bottom;else if(c==="bottom")U=P(this.top),I=t.top,N=P(t.bottom)-D,M=U+D,O=this.top+v;else if(c==="left")U=P(this.right),nt=this.right-v,w=U-D,V=P(t.left)+D,z=t.right;else if(c==="right")U=P(this.left),V=t.left,z=P(t.right)-D,nt=U+D,w=this.left+v;else if(e==="x"){if(c==="center")U=P((t.top+t.bottom)/2+.5);else if(Bt(c)){const F=Object.keys(c)[0],st=c[F];U=P(this.chart.scales[F].getPixelForValue(st))}I=t.top,N=t.bottom,M=U+D,O=M+v}else if(e==="y"){if(c==="center")U=P((t.left+t.right)/2);else if(Bt(c)){const F=Object.keys(c)[0],st=c[F];U=P(this.chart.scales[F].getPixelForValue(st))}nt=U-D,w=nt-v,V=t.left,z=t.right}const Nt=Rt(a.ticks.maxTicksLimit,_),ut=Math.max(1,Math.ceil(_/Nt));for(X=0;X<_;X+=ut){const F=this.getContext(X),st=o.setContext(F),ht=h.setContext(F),yt=st.lineWidth,_t=st.color,L=ht.dash||[],tt=ht.dashOffset,lt=st.tickWidth,ft=st.tickColor,xt=st.tickBorderDash||[],Tt=st.tickBorderDashOffset;Z=GN(this,X,f),Z!==void 0&&($=ir(i,Z,yt),d?nt=w=V=z=$:M=O=I=N=$,T.push({tx1:nt,ty1:M,tx2:w,ty2:O,x1:V,y1:I,x2:z,y2:N,width:yt,color:_t,borderDash:L,borderDashOffset:tt,tickWidth:lt,tickColor:ft,tickBorderDash:xt,tickBorderDashOffset:Tt}))}return this._ticksLength=_,this._borderValue=U,T}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:d,padding:y,mirror:_}=o,v=$l(i.grid),T=v+y,A=_?-y:T,C=-gi(this.labelRotation),D=[];let P,U,X,Z,$,nt,M,w,O,V,I,z,N="middle";if(a==="top")nt=this.bottom-A,M=this._getXAxisLabelAlignment();else if(a==="bottom")nt=this.top+A,M=this._getXAxisLabelAlignment();else if(a==="left"){const ut=this._getYAxisLabelAlignment(v);M=ut.textAlign,$=ut.x}else if(a==="right"){const ut=this._getYAxisLabelAlignment(v);M=ut.textAlign,$=ut.x}else if(e==="x"){if(a==="center")nt=(t.top+t.bottom)/2+T;else if(Bt(a)){const ut=Object.keys(a)[0],F=a[ut];nt=this.chart.scales[ut].getPixelForValue(F)+T}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")$=(t.left+t.right)/2-T;else if(Bt(a)){const ut=Object.keys(a)[0],F=a[ut];$=this.chart.scales[ut].getPixelForValue(F)}M=this._getYAxisLabelAlignment(v).textAlign}e==="y"&&(f==="start"?N="top":f==="end"&&(N="bottom"));const Nt=this._getLabelSizes();for(P=0,U=h.length;P<U;++P){X=h[P],Z=X.label;const ut=o.setContext(this.getContext(P));w=this.getPixelForTick(P)+o.labelOffset,O=this._resolveTickFontOptions(P),V=O.lineHeight,I=pe(Z)?Z.length:1;const F=I/2,st=ut.color,ht=ut.textStrokeColor,yt=ut.textStrokeWidth;let _t=M;c?($=w,M==="inner"&&(P===U-1?_t=this.options.reverse?"left":"right":P===0?_t=this.options.reverse?"right":"left":_t="center"),a==="top"?d==="near"||C!==0?z=-I*V+V/2:d==="center"?z=-Nt.highest.height/2-F*V+V:z=-Nt.highest.height+V/2:d==="near"||C!==0?z=V/2:d==="center"?z=Nt.highest.height/2-F*V:z=Nt.highest.height-I*V,_&&(z*=-1),C!==0&&!ut.showLabelBackdrop&&($+=V/2*Math.sin(C))):(nt=w,z=(1-I)*V/2);let L;if(ut.showLabelBackdrop){const tt=mn(ut.backdropPadding),lt=Nt.heights[P],ft=Nt.widths[P];let xt=z-tt.top,Tt=0-tt.left;switch(N){case"middle":xt-=lt/2;break;case"bottom":xt-=lt;break}switch(M){case"center":Tt-=ft/2;break;case"right":Tt-=ft;break;case"inner":P===U-1?Tt-=ft:P>0&&(Tt-=ft/2);break}L={left:Tt,top:xt,width:ft+tt.width,height:lt+tt.height,color:ut.backdropColor}}D.push({label:Z,font:O,textOffset:z,options:{rotation:C,color:st,strokeColor:ht,strokeWidth:yt,textAlign:_t,textBaseline:N,translation:[$,nt],backdrop:L}})}return D}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-gi(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let d,y;return e==="left"?a?(y=this.right+o,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y+=f)):(y=this.right-h,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?d="right":i==="center"?(d="center",y-=f/2):(d="left",y-=f)):(y=this.left+h,i==="near"?d="left":i==="center"?(d="center",y+=f/2):(d="right",y=this.right)):d="right",{textAlign:d,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,d,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(d.x,d.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let d,y,_,v;this.isHorizontal()?(d=ir(t,this.left,c)-c/2,y=ir(t,this.right,h)+h/2,_=v=f):(_=ir(t,this.top,c)-c/2,v=ir(t,this.bottom,h)+h/2,d=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(d,_),e.lineTo(y,v),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&zf(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,d=c.label,y=c.textOffset;br(i,d,0,y,f,h)}a&&jf(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=Ge(i.font),c=mn(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Bt(e)?(f+=c.bottom,pe(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:d,titleY:y,maxWidth:_,rotation:v}=WN(this,f,e,h);br(t,i.text,0,0,o,{color:i.color,maxWidth:_,rotation:v,textAlign:KN(h,e,a),textBaseline:"middle",translation:[d,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Rt(t.grid&&t.grid.z,-1),a=Rt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Sr.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ge(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Nh{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;JN(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,$N(t,c,i),this.override&&ye.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in ye[a]&&(delete ye[a][i],this.override&&delete _r[i])}}function $N(n,t,e){const i=Mc(Object.create(null),[e?ye.get(e):{},ye.get(t),n.defaults]);ye.set(t,i),n.defaultRoutes&&ZN(t,n.defaultRoutes),n.descriptors&&ye.describe(t,n.descriptors)}function ZN(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");ye.route(o,a,f,h)})}function JN(n){return"id"in n&&"defaults"in n}class tI{constructor(){this.controllers=new Nh(mi,"datasets",!0),this.elements=new Nh(yi,"elements"),this.plugins=new Nh(Object,"plugins"),this.scales=new Nh(Sr,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):ee(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=Gp(t);oe(i["before"+a],[],i),e[t](i),oe(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Ui=new tI;class eI{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(oe(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Rt(i.options&&i.options.plugins,{}),o=nI(i);return a===!1&&!e?[]:sI(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function nI(n){const t={},e=[],i=Object.keys(Ui.plugins.items);for(let o=0;o<i.length;o++)e.push(Ui.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function iI(n,t){return!t&&n===!1?null:n===!0?{}:n}function sI(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,d=iI(i[f],a);d!==null&&o.push({plugin:h,options:aI(n.config,{plugin:h,local:e[f]},d,c)})}return o}function aI(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Ym(n,t){const e=ye.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function rI(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function oI(n,t){return n===t?"_index_":"_value_"}function k1(n){if(n==="x"||n==="y"||n==="r")return n}function lI(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Qm(n,...t){if(k1(n))return n;for(const e of t){const i=e.axis||lI(e.position)||n.length>1&&k1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function L1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function cI(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return L1(n,"x",e[0])||L1(n,"y",e[0])}return{}}function uI(n,t){const e=_r[n.type]||{scales:{}},i=t.scales||{},a=Ym(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Bt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Qm(c,h,cI(c,n),ye.scales[h.type]),d=oI(f,a),y=e.scales||{};o[c]=gc(Object.create(null),[{axis:f},h,y[f],y[d]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Ym(h,t),y=(_r[h]||{}).scales||{};Object.keys(y).forEach(_=>{const v=rI(_,f),T=c[v+"AxisID"]||v;o[T]=o[T]||Object.create(null),gc(o[T],[{axis:v},i[T],y[_]])})}),Object.keys(o).forEach(c=>{const h=o[c];gc(h,[ye.scales[h.type],ye.scale])}),o}function KT(n){const t=n.options||(n.options={});t.plugins=Rt(t.plugins,{}),t.scales=uI(n,t)}function WT(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function hI(n){return n=n||{},n.data=WT(n.data),KT(n),n}const P1=new Map,$T=new Set;function Ih(n,t){let e=P1.get(n);return e||(e=t(),P1.set(n,e),$T.add(e)),e}const Zl=(n,t,e)=>{const i=Ea(t,e);i!==void 0&&n.add(i)};class fI{constructor(t){this._config=hI(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=WT(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),KT(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Ih(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Ih(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Ih(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Ih(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(_=>Zl(f,t,_))),y.forEach(_=>Zl(f,a,_)),y.forEach(_=>Zl(f,_r[o]||{},_)),y.forEach(_=>Zl(f,ye,_)),y.forEach(_=>Zl(f,Fm,_))});const d=Array.from(f);return d.length===0&&d.push(Object.create(null)),$T.has(e)&&c.set(e,d),d}chartOptionScopes(){const{options:t,type:e}=this;return[t,_r[e]||{},ye.datasets[e]||{},{type:e},ye,Fm]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=z1(this._resolverCache,t,a);let f=c;if(gI(c,e)){o.$shared=!1,i=Ta(i)?i():i;const d=this.createResolver(t,i,h);f=Vo(c,i,d)}for(const d of e)o[d]=f[d];return o}createResolver(t,e,i=[""],a){const{resolver:o}=z1(this._resolverCache,t,i);return Bt(e)?Vo(o,e,void 0,a):o}}function z1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:$p(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const dI=n=>Bt(n)&&Object.getOwnPropertyNames(n).some(t=>Ta(n[t]));function gI(n,t){const{isScriptable:e,isIndexable:i}=MT(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Ta(h)||dI(h))||c&&pe(h))return!0}return!1}var mI="4.5.1";const pI=["top","bottom","left","right","chartArea"];function j1(n,t){return n==="top"||n==="bottom"||pI.indexOf(n)===-1&&t==="x"}function B1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function U1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),oe(e&&e.onComplete,[n],t)}function yI(n){const t=n.chart,e=t.options.animation;oe(e&&e.onProgress,[n],t)}function ZT(n){return ty()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Wh={},H1=n=>{const t=ZT(n);return Object.values(Wh).filter(e=>e.canvas===t).pop()};function _I(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function bI(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}class bs{static register(...t){Ui.add(...t),F1()}static unregister(...t){Ui.remove(...t),F1()}constructor(t,e){const i=this.config=new fI(e),a=ZT(t),o=H1(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||PN(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,d=f&&f.height,y=f&&f.width;if(this.id=vO(),this.ctx=h,this.canvas=f,this.width=y,this.height=d,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new eI,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=PO(_=>this.update(_),c.resizeDelay||0),this._dataChanges=[],Wh[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}ps.listen(this,"complete",U1),ps.listen(this,"progress",yI),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return kt(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Ui}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():h1(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return l1(this.canvas,this.ctx),this}stop(){return ps.stop(this),this}resize(t,e){ps.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,h1(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),oe(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ee(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Qm(c,h),d=f==="r",y=f==="x";return{options:h,dposition:d?"chartArea":y?"bottom":"left",dtype:d?"radialLinear":y?"category":"linear"}}))),ee(o,c=>{const h=c.options,f=h.id,d=Qm(f,h),y=Rt(h.type,c.dtype);(h.position===void 0||j1(h.position,d)!==j1(c.dposition))&&(h.position=c.dposition),a[f]=!0;let _=null;if(f in i&&i[f].type===y)_=i[f];else{const v=Ui.getScale(y);_=new v({id:f,type:y,ctx:this.ctx,chart:this}),i[_.id]=_}_.init(h,t)}),ee(a,(c,h)=>{c||delete i[h]}),ee(i,c=>{gn.configure(this,c,c.options),gn.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(B1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Ym(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Ui.getController(h),{datasetElementType:d,dataElementType:y}=ye.datasets[h];Object.assign(f,{dataElementType:Ui.getElement(y),datasetElementType:d&&Ui.getElement(d)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ee(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let d=0,y=this.data.datasets.length;d<y;d++){const{controller:_}=this.getDatasetMeta(d),v=!a&&o.indexOf(_)===-1;_.buildOrUpdateElements(v),c=Math.max(+_.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||ee(o,d=>{d.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(B1("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ee(this.scales,t=>{gn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!Jv(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;_I(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!Jv(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;gn.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ee(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Ta(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(ps.has(this)?this.attached&&!ps.running(this)&&ps.start(this):(this.draw(),U1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=BT(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&zf(e,a),t.controller.draw(),a&&jf(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Es(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=pN.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Sa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);Dc(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),ps.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),l1(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Wh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ee(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,d)=>{e.addEventListener(this,f,d),t[f]=d},a=(f,d)=>{t[f]&&(e.removeEventListener(this,f,d),delete t[f])},o=(f,d)=>{this.canvas&&this.resize(f,d)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){ee(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ee(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const d=c&&this.getDatasetMeta(c.datasetIndex).controller;d&&d[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!pf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,d)=>f.filter(y=>!d.some(_=>y.datasetIndex===_.datasetIndex&&y.index===_.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=wO(t),d=bI(t,this._lastEvent,i,f);i&&(this._lastEvent=null,oe(o.onHover,[t,h,this],this),f&&oe(o.onClick,[t,h,this],this));const y=!pf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=d,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}}ct(bs,"defaults",ye),ct(bs,"instances",Wh),ct(bs,"overrides",_r),ct(bs,"registry",Ui),ct(bs,"version",mI),ct(bs,"getChart",H1);function F1(){return ee(bs.instances,n=>n._plugins.invalidate())}function vI(n,t,e){const{startAngle:i,x:a,y:o,outerRadius:c,innerRadius:h,options:f}=t,{borderWidth:d,borderJoinStyle:y}=f,_=Math.min(d/c,fn(i-e));if(n.beginPath(),n.arc(a,o,c-d/2,i+_/2,e-_/2),h>0){const v=Math.min(d/h,fn(i-e));n.arc(a,o,h+d/2,e-v/2,i+v/2,!0)}else{const v=Math.min(d/2,c*fn(i-e));if(y==="round")n.arc(a,o,v,e-Qt/2,i+Qt/2,!0);else if(y==="bevel"){const T=2*v*v,A=-T*Math.cos(e+Qt/2)+a,C=-T*Math.sin(e+Qt/2)+o,D=T*Math.cos(i+Qt/2)+a,P=T*Math.sin(i+Qt/2)+o;n.lineTo(A,C),n.lineTo(D,P)}}n.closePath(),n.moveTo(0,0),n.rect(0,0,n.canvas.width,n.canvas.height),n.clip("evenodd")}function xI(n,t,e){const{startAngle:i,pixelMargin:a,x:o,y:c,outerRadius:h,innerRadius:f}=t;let d=a/h;n.beginPath(),n.arc(o,c,h,i-d,e+d),f>a?(d=a/f,n.arc(o,c,f,e+d,i-d,!0)):n.arc(o,c,a,e+Ce,i-Ce),n.closePath(),n.clip()}function EI(n){return Wp(n,["outerStart","outerEnd","innerStart","innerEnd"])}function TI(n,t,e,i){const a=EI(n.options.borderRadius),o=(e-t)/2,c=Math.min(o,i*t/2),h=f=>{const d=(e-Math.min(o,f))*i/2;return $e(f,0,Math.min(o,d))};return{outerStart:h(a.outerStart),outerEnd:h(a.outerEnd),innerStart:$e(a.innerStart,0,c),innerEnd:$e(a.innerEnd,0,c)}}function yo(n,t,e,i){return{x:e+n*Math.cos(t),y:i+n*Math.sin(t)}}function Ef(n,t,e,i,a,o){const{x:c,y:h,startAngle:f,pixelMargin:d,innerRadius:y}=t,_=Math.max(t.outerRadius+i+e-d,0),v=y>0?y+i+e+d:0;let T=0;const A=a-f;if(i){const ut=y>0?y-i:0,F=_>0?_-i:0,st=(ut+F)/2,ht=st!==0?A*st/(st+i):A;T=(A-ht)/2}const C=Math.max(.001,A*_-e/Qt)/_,D=(A-C)/2,P=f+D+T,U=a-D-T,{outerStart:X,outerEnd:Z,innerStart:$,innerEnd:nt}=TI(t,v,_,U-P),M=_-X,w=_-Z,O=P+X/M,V=U-Z/w,I=v+$,z=v+nt,N=P+$/I,Nt=U-nt/z;if(n.beginPath(),o){const ut=(O+V)/2;if(n.arc(c,h,_,O,ut),n.arc(c,h,_,ut,V),Z>0){const yt=yo(w,V,c,h);n.arc(yt.x,yt.y,Z,V,U+Ce)}const F=yo(z,U,c,h);if(n.lineTo(F.x,F.y),nt>0){const yt=yo(z,Nt,c,h);n.arc(yt.x,yt.y,nt,U+Ce,Nt+Math.PI)}const st=(U-nt/v+(P+$/v))/2;if(n.arc(c,h,v,U-nt/v,st,!0),n.arc(c,h,v,st,P+$/v,!0),$>0){const yt=yo(I,N,c,h);n.arc(yt.x,yt.y,$,N+Math.PI,P-Ce)}const ht=yo(M,P,c,h);if(n.lineTo(ht.x,ht.y),X>0){const yt=yo(M,O,c,h);n.arc(yt.x,yt.y,X,P-Ce,O)}}else{n.moveTo(c,h);const ut=Math.cos(O)*_+c,F=Math.sin(O)*_+h;n.lineTo(ut,F);const st=Math.cos(V)*_+c,ht=Math.sin(V)*_+h;n.lineTo(st,ht)}n.closePath()}function SI(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h}=t;let f=t.endAngle;if(o){Ef(n,t,e,i,f,a);for(let d=0;d<o;++d)n.fill();isNaN(h)||(f=c+(h%fe||fe))}return Ef(n,t,e,i,f,a),n.fill(),f}function AI(n,t,e,i,a){const{fullCircles:o,startAngle:c,circumference:h,options:f}=t,{borderWidth:d,borderJoinStyle:y,borderDash:_,borderDashOffset:v,borderRadius:T}=f,A=f.borderAlign==="inner";if(!d)return;n.setLineDash(_||[]),n.lineDashOffset=v,A?(n.lineWidth=d*2,n.lineJoin=y||"round"):(n.lineWidth=d,n.lineJoin=y||"bevel");let C=t.endAngle;if(o){Ef(n,t,e,i,C,a);for(let D=0;D<o;++D)n.stroke();isNaN(h)||(C=c+(h%fe||fe))}A&&xI(n,t,C),f.selfJoin&&C-c>=Qt&&T===0&&y!=="miter"&&vI(n,t,C),o||(Ef(n,t,e,i,C,a),n.stroke())}class rc extends yi{constructor(e){super();ct(this,"circumference");ct(this,"endAngle");ct(this,"fullCircles");ct(this,"innerRadius");ct(this,"outerRadius");ct(this,"pixelMargin");ct(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,i,a){const o=this.getProps(["x","y"],a),{angle:c,distance:h}=bT(o,{x:e,y:i}),{startAngle:f,endAngle:d,innerRadius:y,outerRadius:_,circumference:v}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],a),T=(this.options.spacing+this.options.borderWidth)/2,A=Rt(v,d-f),C=Oc(c,f,d)&&f!==d,D=A>=fe||C,P=vs(h,y+T,_+T);return D&&P}getCenterPoint(e){const{x:i,y:a,startAngle:o,endAngle:c,innerRadius:h,outerRadius:f}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:y}=this.options,_=(o+c)/2,v=(h+f+y+d)/2;return{x:i+Math.cos(_)*v,y:a+Math.sin(_)*v}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:i,circumference:a}=this,o=(i.offset||0)/4,c=(i.spacing||0)/2,h=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=a>fe?Math.floor(a/fe):0,a===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const f=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(f)*o,Math.sin(f)*o);const d=1-Math.sin(Math.min(Qt,a||0)),y=o*d;e.fillStyle=i.backgroundColor,e.strokeStyle=i.borderColor,SI(e,this,y,c,h),AI(e,this,y,c,h),e.restore()}}ct(rc,"id","arc"),ct(rc,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),ct(rc,"defaultRoutes",{backgroundColor:"backgroundColor"}),ct(rc,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function JT(n,t,e=t){n.lineCap=Rt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Rt(e.borderDash,t.borderDash)),n.lineDashOffset=Rt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Rt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Rt(e.borderWidth,t.borderWidth),n.strokeStyle=Rt(e.borderColor,t.borderColor)}function wI(n,t,e){n.lineTo(e.x,e.y)}function RI(n){return n.stepped?KO:n.tension||n.cubicInterpolationMode==="monotone"?WO:wI}function tS(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(a,c),d=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:d<f&&!y?i+d-f:d-f}}function CI(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:f,ilen:d}=tS(a,e,i),y=RI(o);let{move:_=!0,reverse:v}=i||{},T,A,C;for(T=0;T<=d;++T)A=a[(h+(v?d-T:T))%c],!A.skip&&(_?(n.moveTo(A.x,A.y),_=!1):y(n,C,A,v,o.stepped),C=A);return f&&(A=a[(h+(v?d:0))%c],y(n,C,A,v,o.stepped)),!!f}function MI(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=tS(a,e,i),{move:f=!0,reverse:d}=i||{};let y=0,_=0,v,T,A,C,D,P;const U=Z=>(c+(d?h-Z:Z))%o,X=()=>{C!==D&&(n.lineTo(y,D),n.lineTo(y,C),n.lineTo(y,P))};for(f&&(T=a[U(0)],n.moveTo(T.x,T.y)),v=0;v<=h;++v){if(T=a[U(v)],T.skip)continue;const Z=T.x,$=T.y,nt=Z|0;nt===A?($<C?C=$:$>D&&(D=$),y=(_*y+Z)/++_):(X(),n.lineTo(Z,$),A=nt,_=0,C=D=$),P=$}X()}function Xm(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?MI:CI}function DI(n){return n.stepped?C4:n.tension||n.cubicInterpolationMode==="monotone"?M4:lr}function OI(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),JT(n,t.options),n.stroke(a)}function NI(n,t,e,i){const{segments:a,options:o}=t,c=Xm(t);for(const h of a)JT(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const II=typeof Path2D=="function";function VI(n,t,e,i){II&&!t.options.segment?OI(n,t,e,i):NI(n,t,e,i)}class ca extends yi{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;v4(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=k4(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=jT(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],f=DI(i);let d,y;for(d=0,y=c.length;d<y;++d){const{start:_,end:v}=c[d],T=o[_],A=o[v];if(T===A){h.push(T);continue}const C=Math.abs((a-T[e])/(A[e]-T[e])),D=f(T,A,C,i.stepped);D[e]=t[e],h.push(D)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Xm(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=Xm(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),VI(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}ct(ca,"id","line"),ct(ca,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),ct(ca,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),ct(ca,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function q1(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class $h extends yi{constructor(e){super();ct(this,"parsed");ct(this,"skip");ct(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,i,a){const o=this.options,{x:c,y:h}=this.getProps(["x","y"],a);return Math.pow(e-c,2)+Math.pow(i-h,2)<Math.pow(o.hitRadius+o.radius,2)}inXRange(e,i){return q1(this,e,"x",i)}inYRange(e,i){return q1(this,e,"y",i)}getCenterPoint(e){const{x:i,y:a}=this.getProps(["x","y"],e);return{x:i,y:a}}size(e){e=e||this.options||{};let i=e.radius||0;i=Math.max(i,i&&e.hoverRadius||0);const a=i&&e.borderWidth||0;return(i+a)*2}draw(e,i){const a=this.options;this.skip||a.radius<.1||!Es(this,i,this.size(a)/2)||(e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.fillStyle=a.backgroundColor,qm(e,a,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}ct($h,"id","point"),ct($h,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),ct($h,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function eS(n,t){const{x:e,y:i,base:a,width:o,height:c}=n.getProps(["x","y","base","width","height"],t);let h,f,d,y,_;return n.horizontal?(_=c/2,h=Math.min(e,a),f=Math.max(e,a),d=i-_,y=i+_):(_=o/2,h=e-_,f=e+_,d=Math.min(i,a),y=Math.max(i,a)),{left:h,top:d,right:f,bottom:y}}function ua(n,t,e,i){return n?0:$e(t,e,i)}function kI(n,t,e){const i=n.options.borderWidth,a=n.borderSkipped,o=CT(i);return{t:ua(a.top,o.top,0,e),r:ua(a.right,o.right,0,t),b:ua(a.bottom,o.bottom,0,e),l:ua(a.left,o.left,0,t)}}function LI(n,t,e){const{enableBorderRadius:i}=n.getProps(["enableBorderRadius"]),a=n.options.borderRadius,o=dr(a),c=Math.min(t,e),h=n.borderSkipped,f=i||Bt(a);return{topLeft:ua(!f||h.top||h.left,o.topLeft,0,c),topRight:ua(!f||h.top||h.right,o.topRight,0,c),bottomLeft:ua(!f||h.bottom||h.left,o.bottomLeft,0,c),bottomRight:ua(!f||h.bottom||h.right,o.bottomRight,0,c)}}function PI(n){const t=eS(n),e=t.right-t.left,i=t.bottom-t.top,a=kI(n,e/2,i/2),o=LI(n,e/2,i/2);return{outer:{x:t.left,y:t.top,w:e,h:i,radius:o},inner:{x:t.left+a.l,y:t.top+a.t,w:e-a.l-a.r,h:i-a.t-a.b,radius:{topLeft:Math.max(0,o.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,o.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,o.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,o.bottomRight-Math.max(a.b,a.r))}}}}function mm(n,t,e,i){const a=t===null,o=e===null,h=n&&!(a&&o)&&eS(n,i);return h&&(a||vs(t,h.left,h.right))&&(o||vs(e,h.top,h.bottom))}function zI(n){return n.topLeft||n.topRight||n.bottomLeft||n.bottomRight}function jI(n,t){n.rect(t.x,t.y,t.w,t.h)}function pm(n,t,e={}){const i=n.x!==e.x?-t:0,a=n.y!==e.y?-t:0,o=(n.x+n.w!==e.x+e.w?t:0)-i,c=(n.y+n.h!==e.y+e.h?t:0)-a;return{x:n.x+i,y:n.y+a,w:n.w+o,h:n.h+c,radius:n.radius}}class Zh extends yi{constructor(t){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,t&&Object.assign(this,t)}draw(t){const{inflateAmount:e,options:{borderColor:i,backgroundColor:a}}=this,{inner:o,outer:c}=PI(this),h=zI(c.radius)?Nc:jI;t.save(),(c.w!==o.w||c.h!==o.h)&&(t.beginPath(),h(t,pm(c,e,o)),t.clip(),h(t,pm(o,-e,c)),t.fillStyle=i,t.fill("evenodd")),t.beginPath(),h(t,pm(o,e)),t.fillStyle=a,t.fill(),t.restore()}inRange(t,e,i){return mm(this,t,e,i)}inXRange(t,e){return mm(this,t,null,e)}inYRange(t,e){return mm(this,null,t,e)}getCenterPoint(t){const{x:e,y:i,base:a,horizontal:o}=this.getProps(["x","y","base","horizontal"],t);return{x:o?(e+a)/2:e,y:o?i:(i+a)/2}}getRange(t){return t==="x"?this.width/2:this.height/2}}ct(Zh,"id","bar"),ct(Zh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),ct(Zh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var BI=Object.freeze({__proto__:null,ArcElement:rc,BarElement:Zh,LineElement:ca,PointElement:$h});const Km=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],G1=Km.map(n=>n.replace("rgb(","rgba(").replace(")",", 0.5)"));function nS(n){return Km[n%Km.length]}function iS(n){return G1[n%G1.length]}function UI(n,t){return n.borderColor=nS(t),n.backgroundColor=iS(t),++t}function HI(n,t){return n.backgroundColor=n.data.map(()=>nS(t++)),t}function FI(n,t){return n.backgroundColor=n.data.map(()=>iS(t++)),t}function qI(n){let t=0;return(e,i)=>{const a=n.getDatasetMeta(i).controller;a instanceof ur?t=HI(e,t):a instanceof _c?t=FI(e,t):a&&(t=UI(e,t))}}function Y1(n){let t;for(t in n)if(n[t].borderColor||n[t].backgroundColor)return!0;return!1}function GI(n){return n&&(n.borderColor||n.backgroundColor)}function YI(){return ye.borderColor!=="rgba(0,0,0,0.1)"||ye.backgroundColor!=="rgba(0,0,0,0.1)"}var QI={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(n,t,e){if(!e.enabled)return;const{data:{datasets:i},options:a}=n.config,{elements:o}=a,c=Y1(i)||GI(a)||o&&Y1(o)||YI();if(!e.forceOverride&&c)return;const h=qI(n);i.forEach(h)}};function XI(n,t,e,i,a){const o=a.samples||i;if(o>=e)return n.slice(t,t+e);const c=[],h=(e-2)/(o-2);let f=0;const d=t+e-1;let y=t,_,v,T,A,C;for(c[f++]=n[y],_=0;_<o-2;_++){let D=0,P=0,U;const X=Math.floor((_+1)*h)+1+t,Z=Math.min(Math.floor((_+2)*h)+1,e)+t,$=Z-X;for(U=X;U<Z;U++)D+=n[U].x,P+=n[U].y;D/=$,P/=$;const nt=Math.floor(_*h)+1+t,M=Math.min(Math.floor((_+1)*h)+1,e)+t,{x:w,y:O}=n[y];for(T=A=-1,U=nt;U<M;U++)A=.5*Math.abs((w-D)*(n[U].y-O)-(w-n[U].x)*(P-O)),A>T&&(T=A,v=n[U],C=U);c[f++]=v,y=C}return c[f++]=n[d],c}function KI(n,t,e,i){let a=0,o=0,c,h,f,d,y,_,v,T,A,C;const D=[],P=t+e-1,U=n[t].x,Z=n[P].x-U;for(c=t;c<t+e;++c){h=n[c],f=(h.x-U)/Z*i,d=h.y;const $=f|0;if($===y)d<A?(A=d,_=c):d>C&&(C=d,v=c),a=(o*a+h.x)/++o;else{const nt=c-1;if(!kt(_)&&!kt(v)){const M=Math.min(_,v),w=Math.max(_,v);M!==T&&M!==nt&&D.push({...n[M],x:a}),w!==T&&w!==nt&&D.push({...n[w],x:a})}c>0&&nt!==T&&D.push(n[nt]),D.push(h),y=$,o=0,A=C=d,_=v=T=c}}return D}function sS(n){if(n._decimated){const t=n._data;delete n._decimated,delete n._data,Object.defineProperty(n,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Q1(n){n.data.datasets.forEach(t=>{sS(t)})}function WI(n,t){const e=t.length;let i=0,a;const{iScale:o}=n,{min:c,max:h,minDefined:f,maxDefined:d}=o.getUserBounds();return f&&(i=$e(xs(t,o.axis,c).lo,0,e-1)),d?a=$e(xs(t,o.axis,h).hi+1,i,e)-i:a=e-i,{start:i,count:a}}var $I={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(n,t,e)=>{if(!e.enabled){Q1(n);return}const i=n.width;n.data.datasets.forEach((a,o)=>{const{_data:c,indexAxis:h}=a,f=n.getDatasetMeta(o),d=c||a.data;if(sc([h,n.options.indexAxis])==="y"||!f.controller.supportsDecimation)return;const y=n.scales[f.xAxisID];if(y.type!=="linear"&&y.type!=="time"||n.options.parsing)return;let{start:_,count:v}=WI(f,d);const T=e.threshold||4*i;if(v<=T){sS(a);return}kt(c)&&(a._data=d,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(C){this._data=C}}));let A;switch(e.algorithm){case"lttb":A=XI(d,_,v,i,e);break;case"min-max":A=KI(d,_,v,i);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}a._decimated=A})},destroy(n){Q1(n)}};function ZI(n,t,e){const i=n.segments,a=n.points,o=t.points,c=[];for(const h of i){let{start:f,end:d}=h;d=Hf(f,d,a);const y=Wm(e,a[f],a[d],h.loop);if(!t.segments){c.push({source:h,target:y,start:a[f],end:a[d]});continue}const _=jT(t,y);for(const v of _){const T=Wm(e,o[v.start],o[v.end],v.loop),A=zT(h,a,T);for(const C of A)c.push({source:C,target:v,start:{[e]:X1(y,T,"start",Math.max)},end:{[e]:X1(y,T,"end",Math.min)}})}}return c}function Wm(n,t,e,i){if(i)return;let a=t[n],o=e[n];return n==="angle"&&(a=fn(a),o=fn(o)),{property:n,start:a,end:o}}function JI(n,t){const{x:e=null,y:i=null}=n||{},a=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=Hf(c,h,a);const f=a[c],d=a[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:d.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:d.y}))}),o}function Hf(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function X1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function aS(n,t){let e=[],i=!1;return pe(n)?(i=!0,e=n):e=JI(n,t),e.length?new ca({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function K1(n){return n&&n.fill!==!1}function t5(n,t,e){let a=n[t].fill;const o=[t];let c;if(!e)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!Ee(a))return a;if(c=n[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function e5(n,t,e){const i=a5(n);if(Bt(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return Ee(a)&&Math.floor(a)===a?n5(i[0],t,a,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function n5(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function i5(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Bt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function s5(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Bt(n)?i=n.value:i=t.getBaseValue(),i}function a5(n){const t=n.options,e=t.fill;let i=Rt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function r5(n){const{scale:t,index:e,line:i}=n,a=[],o=i.segments,c=i.points,h=o5(t,e);h.push(aS({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const d=o[f];for(let y=d.start;y<=d.end;y++)l5(a,c[y],h)}return new ca({points:a,options:{}})}function o5(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function l5(n,t,e){const i=[];for(let a=0;a<e.length;a++){const o=e[a],{first:c,last:h,point:f}=c5(o,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function c5(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const a=i[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let d=0;d<o.length;d++){const y=o[d],_=c[y.start][e],v=c[y.end][e];if(vs(a,_,v)){h=a===_,f=a===v;break}}return{first:h,last:f,point:i}}class rS{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:a,y:o,radius:c}=this;return e=e||{start:0,end:fe},t.arc(a,o,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function u5(n){const{chart:t,fill:e,line:i}=n;if(Ee(e))return h5(t,e);if(e==="stack")return r5(n);if(e==="shape")return!0;const a=f5(n);return a instanceof rS?a:aS(a,i)}function h5(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function f5(n){return(n.scale||{}).getPointPositionForValue?g5(n):d5(n)}function d5(n){const{scale:t={},fill:e}=n,i=i5(e,t);if(Ee(i)){const a=t.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function g5(n){const{scale:t,fill:e}=n,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,c=s5(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new rS({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)h.push(t.getPointPositionForValue(f,c));return h}function ym(n,t,e){const i=u5(t),{chart:a,index:o,line:c,scale:h,axis:f}=t,d=c.options,y=d.fill,_=d.backgroundColor,{above:v=_,below:T=_}=y||{},A=a.getDatasetMeta(o),C=BT(a,A);i&&c.points.length&&(zf(n,e),m5(n,{line:c,target:i,above:v,below:T,area:e,scale:h,axis:f,clip:C}),jf(n))}function m5(n,t){const{line:e,target:i,above:a,below:o,area:c,scale:h,clip:f}=t,d=e._loop?"angle":t.axis;n.save();let y=o;o!==a&&(d==="x"?(W1(n,i,c.top),_m(n,{line:e,target:i,color:a,scale:h,property:d,clip:f}),n.restore(),n.save(),W1(n,i,c.bottom)):d==="y"&&($1(n,i,c.left),_m(n,{line:e,target:i,color:o,scale:h,property:d,clip:f}),n.restore(),n.save(),$1(n,i,c.right),y=a)),_m(n,{line:e,target:i,color:y,scale:h,property:d,clip:f}),n.restore()}function W1(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:d}=h,y=a[f],_=a[Hf(f,d,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(_.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function $1(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:d}=h,y=a[f],_=a[Hf(f,d,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(e,y.y),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,_.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function _m(n,t){const{line:e,target:i,property:a,color:o,scale:c,clip:h}=t,f=ZI(e,i,a);for(const{source:d,target:y,start:_,end:v}of f){const{style:{backgroundColor:T=o}={}}=d,A=i!==!0;n.save(),n.fillStyle=T,p5(n,c,h,A&&Wm(a,_,v)),n.beginPath();const C=!!e.pathSegment(n,d);let D;if(A){C?n.closePath():Z1(n,i,v,a);const P=!!i.pathSegment(n,y,{move:C,reverse:!0});D=C&&P,D||Z1(n,i,_,a)}n.closePath(),n.fill(D?"evenodd":"nonzero"),n.restore()}}function p5(n,t,e,i){const a=t.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let f,d,y,_;o==="x"?(f=c,d=a.top,y=h,_=a.bottom):(f=a.left,d=c,y=a.right,_=h),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),d=Math.max(d,e.top),_=Math.min(_,e.bottom)),n.rect(f,d,y-f,_-d),n.clip()}}function Z1(n,t,e,i){const a=t.interpolate(e,i);a&&n.lineTo(a.x,a.y)}var y5={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,a=[];let o,c,h,f;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof ca&&(f={visible:n.isDatasetVisible(c),index:c,fill:e5(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,a.push(f);for(c=0;c<i;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=t5(a,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=a.length-1;c>=0;--c){const h=a[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&ym(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;K1(o)&&ym(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!K1(i)||e.drawTime!=="beforeDatasetDraw"||ym(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const J1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},_5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class tx extends yi{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=oe(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=Ge(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=J1(i,o);let d,y;e.font=a.string,this.isHorizontal()?(d=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,d=this._fitCols(c,a,h,f)+10),this.width=Math.min(d,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.lineWidths=[0],y=a+h;let _=t;o.textAlign="left",o.textBaseline="middle";let v=-1,T=-y;return this.legendItems.forEach((A,C)=>{const D=i+e/2+o.measureText(A.text).width;(C===0||d[d.length-1]+D+2*h>c)&&(_+=y,d[d.length-(C>0?0:1)]=0,T+=y,v++),f[C]={left:0,top:T,row:v,width:D,height:a},d[d.length-1]+=D+h}),_}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],d=this.columnSizes=[],y=c-t;let _=h,v=0,T=0,A=0,C=0;return this.legendItems.forEach((D,P)=>{const{itemWidth:U,itemHeight:X}=b5(i,e,o,D,a);P>0&&T+X+2*h>y&&(_+=v+h,d.push({width:v,height:T}),A+=v+h,C++,v=T=0),f[P]={left:A,top:T,col:C,width:U,height:X},v=Math.max(v,U),T+=X+h}),_+=v,d.push({width:v,height:T}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=wo(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=un(i,this.left+a,this.right-this.lineWidths[h]);for(const d of e)h!==d.row&&(h=d.row,f=un(i,this.left+a,this.right-this.lineWidths[h])),d.top+=this.top+t+a,d.left=c.leftForLtr(c.x(f),d.width),f+=d.width+a}else{let h=0,f=un(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const d of e)d.col!==h&&(h=d.col,f=un(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),d.top=f,d.left+=this.left+a,d.left=c.leftForLtr(c.x(d.left),d.width),f+=d.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;zf(t,this),this._draw(),jf(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=ye.color,f=wo(t.rtl,this.left,this.width),d=Ge(c.font),{padding:y}=c,_=d.size,v=_/2;let T;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=d.string;const{boxWidth:A,boxHeight:C,itemHeight:D}=J1(c,_),P=function(nt,M,w){if(isNaN(A)||A<=0||isNaN(C)||C<0)return;a.save();const O=Rt(w.lineWidth,1);if(a.fillStyle=Rt(w.fillStyle,h),a.lineCap=Rt(w.lineCap,"butt"),a.lineDashOffset=Rt(w.lineDashOffset,0),a.lineJoin=Rt(w.lineJoin,"miter"),a.lineWidth=O,a.strokeStyle=Rt(w.strokeStyle,h),a.setLineDash(Rt(w.lineDash,[])),c.usePointStyle){const V={radius:C*Math.SQRT2/2,pointStyle:w.pointStyle,rotation:w.rotation,borderWidth:O},I=f.xPlus(nt,A/2),z=M+v;RT(a,V,I,z,c.pointStyleWidth&&A)}else{const V=M+Math.max((_-C)/2,0),I=f.leftForLtr(nt,A),z=dr(w.borderRadius);a.beginPath(),Object.values(z).some(N=>N!==0)?Nc(a,{x:I,y:V,w:A,h:C,radius:z}):a.rect(I,V,A,C),a.fill(),O!==0&&a.stroke()}a.restore()},U=function(nt,M,w){br(a,w.text,nt,M+D/2,d,{strikethrough:w.hidden,textAlign:f.textAlign(w.textAlign)})},X=this.isHorizontal(),Z=this._computeTitleHeight();X?T={x:un(o,this.left+y,this.right-i[0]),y:this.top+y+Z,line:0}:T={x:this.left+y,y:un(o,this.top+Z+y,this.bottom-e[0].height),line:0},kT(this.ctx,t.textDirection);const $=D+y;this.legendItems.forEach((nt,M)=>{a.strokeStyle=nt.fontColor,a.fillStyle=nt.fontColor;const w=a.measureText(nt.text).width,O=f.textAlign(nt.textAlign||(nt.textAlign=c.textAlign)),V=A+v+w;let I=T.x,z=T.y;f.setWidth(this.width),X?M>0&&I+V+y>this.right&&(z=T.y+=$,T.line++,I=T.x=un(o,this.left+y,this.right-i[T.line])):M>0&&z+$>this.bottom&&(I=T.x=I+e[T.line].width+y,T.line++,z=T.y=un(o,this.top+Z+y,this.bottom-e[T.line].height));const N=f.x(I);if(P(N,z,nt),I=zO(O,I+A+v,X?I+V:this.right,t.rtl),U(f.x(I),z,nt),X)T.x+=V+y;else if(typeof nt.text!="string"){const Nt=d.lineHeight;T.y+=oS(nt,Nt)+y}else T.y+=$}),LT(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Ge(e.font),a=mn(e.padding);if(!e.display)return;const o=wo(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,d=a.top+f;let y,_=this.left,v=this.width;if(this.isHorizontal())v=Math.max(...this.lineWidths),y=this.top+d,_=un(t.align,_,this.right-v);else{const A=this.columnSizes.reduce((C,D)=>Math.max(C,D.height),0);y=d+un(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const T=un(h,_,_+v);c.textAlign=o.textAlign(Xp(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,br(c,e.text,T,y,i)}_computeTitleHeight(){const t=this.options.title,e=Ge(t.font),i=mn(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(vs(t,this.left,this.right)&&vs(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],vs(t,a.left,a.left+a.width)&&vs(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!E5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=_5(a,i);a&&!o&&oe(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&oe(e.onHover,[t,i,this],this)}else i&&oe(e.onClick,[t,i,this],this)}}function b5(n,t,e,i,a){const o=v5(i,n,t,e),c=x5(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function v5(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function x5(n,t,e){let i=n;return typeof t.text!="string"&&(i=oS(t,e)),i}function oS(n,t){const e=n.text?n.text.length:0;return t*e}function E5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var T5={id:"legend",_element:tx,start(n,t,e){const i=n.legend=new tx({ctx:n.ctx,options:e,chart:n});gn.configure(n,i,e),gn.addBox(n,i)},stop(n){gn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;gn.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const d=f.controller.getStyle(e?0:void 0),y=mn(d.borderWidth);return{text:t[f.index].label,fillStyle:d.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:d.borderCapStyle,lineDash:d.borderDash,lineDashOffset:d.borderDashOffset,lineJoin:d.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:d.borderColor,pointStyle:i||d.pointStyle,rotation:d.rotation,textAlign:a||d.textAlign,borderRadius:c&&(h||d.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class iy extends yi{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=pe(i.text)?i.text.length:1;this._padding=mn(i.padding);const o=a*Ge(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,d,y,_;return this.isHorizontal()?(y=un(h,i,o),_=e+t,d=o-i):(c.position==="left"?(y=i+t,_=un(h,a,e),f=Qt*-.5):(y=o-t,_=un(h,e,a),f=Qt*.5),d=a-e),{titleX:y,titleY:_,maxWidth:d,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Ge(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:d}=this._drawArgs(o);br(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:d,textAlign:Xp(e.align),textBaseline:"middle",translation:[c,h]})}}function S5(n,t){const e=new iy({ctx:n.ctx,options:t,chart:n});gn.configure(n,e,t),gn.addBox(n,e),n.titleBlock=e}var A5={id:"title",_element:iy,start(n,t,e){S5(n,e)},stop(n){const t=n.titleBlock;gn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vh=new WeakMap;var w5={id:"subtitle",start(n,t,e){const i=new iy({ctx:n.ctx,options:e,chart:n});gn.configure(n,i,e),gn.addBox(n,i),Vh.set(n,i)},stop(n){gn.removeBox(n,Vh.get(n)),Vh.delete(n)},beforeUpdate(n,t,e){const i=Vh.get(n);gn.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const oc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const d=f.getCenterPoint(),y=Hm(t,d);y<a&&(a=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Bi(n,t){return t&&(pe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function ys(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function R5(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function ex(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=Ge(t.bodyFont),d=Ge(t.titleFont),y=Ge(t.footerFont),_=o.length,v=a.length,T=i.length,A=mn(t.padding);let C=A.height,D=0,P=i.reduce((Z,$)=>Z+$.before.length+$.lines.length+$.after.length,0);if(P+=n.beforeBody.length+n.afterBody.length,_&&(C+=_*d.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),P){const Z=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=T*Z+(P-T)*f.lineHeight+(P-1)*t.bodySpacing}v&&(C+=t.footerMarginTop+v*y.lineHeight+(v-1)*t.footerSpacing);let U=0;const X=function(Z){D=Math.max(D,e.measureText(Z).width+U)};return e.save(),e.font=d.string,ee(n.title,X),e.font=f.string,ee(n.beforeBody.concat(n.afterBody),X),U=t.displayColors?c+2+t.boxPadding:0,ee(i,Z=>{ee(Z.before,X),ee(Z.lines,X),ee(Z.after,X)}),U=0,e.font=y.string,ee(n.footer,X),e.restore(),D+=A.width,{width:D,height:C}}function C5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function M5(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function D5(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let d="center";return i==="center"?d=a<=(h+f)/2?"left":"right":a<=o/2?d="left":a>=c-o/2&&(d="right"),M5(d,n,t,e)&&(d="center"),d}function nx(n,t,e){const i=e.yAlign||t.yAlign||C5(n,e);return{xAlign:e.xAlign||t.xAlign||D5(n,t,e,i),yAlign:i}}function O5(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function N5(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function ix(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,d=a+o,{topLeft:y,topRight:_,bottomLeft:v,bottomRight:T}=dr(c);let A=O5(t,h);const C=N5(t,f,d);return f==="center"?h==="left"?A+=d:h==="right"&&(A-=d):h==="left"?A-=Math.max(y,v)+a:h==="right"&&(A+=Math.max(_,T)+a),{x:$e(A,0,i.width-t.width),y:$e(C,0,i.height-t.height)}}function kh(n,t,e){const i=mn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function sx(n){return Bi([],ys(n))}function I5(n,t,e){return Sa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function ax(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const lS={beforeTitle:ms,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ms,beforeBody:ms,beforeLabel:ms,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return kt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ms,afterBody:ms,beforeFooter:ms,footer:ms,afterFooter:ms};function wn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?lS[t].call(e,i):a}class $m extends yi{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new UT(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=I5(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let h=[];return h=Bi(h,ys(a)),h=Bi(h,ys(o)),h=Bi(h,ys(c)),h}getBeforeBody(t,e){return sx(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return ee(t,o=>{const c={before:[],lines:[],after:[]},h=ax(i,o);Bi(c.before,ys(wn(h,"beforeLabel",this,o))),Bi(c.lines,wn(h,"label",this,o)),Bi(c.after,ys(wn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return sx(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let h=[];return h=Bi(h,ys(a)),h=Bi(h,ys(o)),h=Bi(h,ys(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,d;for(f=0,d=e.length;f<d;++f)h.push(R5(this.chart,e[f]));return t.filter&&(h=h.filter((y,_,v)=>t.filter(y,_,v,i))),t.itemSort&&(h=h.sort((y,_)=>t.itemSort(y,_,i))),ee(h,y=>{const _=ax(t.callbacks,y);a.push(wn(_,"labelColor",this,y)),o.push(wn(_,"labelPointStyle",this,y)),c.push(wn(_,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=oc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=ex(this,i),d=Object.assign({},h,f),y=nx(this.chart,i,d),_=ix(i,d,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:_.x,y:_.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:d,bottomLeft:y,bottomRight:_}=dr(h),{x:v,y:T}=t,{width:A,height:C}=e;let D,P,U,X,Z,$;return o==="center"?(Z=T+C/2,a==="left"?(D=v,P=D-c,X=Z+c,$=Z-c):(D=v+A,P=D+c,X=Z-c,$=Z+c),U=D):(a==="left"?P=v+Math.max(f,y)+c:a==="right"?P=v+A-Math.max(d,_)-c:P=this.caretX,o==="top"?(X=T,Z=X-c,D=P-c,U=P+c):(X=T+C,Z=X+c,D=P+c,U=P-c),$=X),{x1:D,x2:P,x3:U,y1:X,y2:Z,y3:$}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const d=wo(i.rtl,this.x,this.width);for(t.x=kh(this,i.titleAlign,i),e.textAlign=d.textAlign(i.titleAlign),e.textBaseline="middle",c=Ge(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],d.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:d}=o,y=Ge(o.bodyFont),_=kh(this,"left",o),v=a.x(_),T=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+T;if(o.usePointStyle){const C={radius:Math.min(d,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},D=a.leftForLtr(v,d)+d/2,P=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,qm(t,C,D,P),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,qm(t,C,D,P)}else{t.lineWidth=Bt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=a.leftForLtr(v,d),D=a.leftForLtr(a.xPlus(v,1),d-2),P=dr(c.borderRadius);Object.values(P).some(U=>U!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Nc(t,{x:C,y:A,w:d,h:f,radius:P}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Nc(t,{x:D,y:A+1,w:d-2,h:f-2,radius:P}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,A,d,f),t.strokeRect(C,A,d,f),t.fillStyle=c.backgroundColor,t.fillRect(D,A+1,d-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:d,boxPadding:y}=i,_=Ge(i.bodyFont);let v=_.lineHeight,T=0;const A=wo(i.rtl,this.x,this.width),C=function(w){e.fillText(w,A.x(t.x+T),t.y+v/2),t.y+=v+o},D=A.textAlign(c);let P,U,X,Z,$,nt,M;for(e.textAlign=c,e.textBaseline="middle",e.font=_.string,t.x=kh(this,D,i),e.fillStyle=i.bodyColor,ee(this.beforeBody,C),T=h&&D!=="right"?c==="center"?d/2+y:d+2+y:0,Z=0,nt=a.length;Z<nt;++Z){for(P=a[Z],U=this.labelTextColors[Z],e.fillStyle=U,ee(P.before,C),X=P.lines,h&&X.length&&(this._drawColorBox(e,t,Z,A,i),v=Math.max(_.lineHeight,f)),$=0,M=X.length;$<M;++$)C(X[$]),v=_.lineHeight;ee(P.after,C)}T=0,v=_.lineHeight,ee(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=wo(i.rtl,this.x,this.width);for(t.x=kh(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=Ge(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:d,height:y}=i,{topLeft:_,topRight:v,bottomLeft:T,bottomRight:A}=dr(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+_,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+d-v,f),e.quadraticCurveTo(h+d,f,h+d,f+v),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+d,f+y-A),e.quadraticCurveTo(h+d,f+y,h+d-A,f+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+T,f+y),e.quadraticCurveTo(h,f+y,h,f+y-T),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+_),e.quadraticCurveTo(h,f,h+_,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=oc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=ex(this,t),f=Object.assign({},c,this._size),d=nx(e,t,f),y=ix(t,f,d,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=d.xAlign,this.yAlign=d.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=mn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),kT(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),LT(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const d=this.chart.getDatasetMeta(h);if(!d)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:d.data[f],index:f}}),o=!pf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!pf(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=oc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}ct($m,"positioners",oc);var V5={id:"tooltip",_element:$m,positioners:oc,afterInit(n,t,e){e&&(n.tooltip=new $m({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:lS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},k5=Object.freeze({__proto__:null,Colors:QI,Decimation:$I,Filler:y5,Legend:T5,SubTitle:w5,Title:A5,Tooltip:V5});const L5=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function P5(n,t,e,i){const a=n.indexOf(t);if(a===-1)return L5(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const z5=(n,t)=>n===null?null:$e(Math.round(n),0,t);function rx(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class Zm extends Sr{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(kt(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:P5(i,t,Rt(e,t),this._addedLabels),z5(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return rx.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}ct(Zm,"id","category"),ct(Zm,"defaults",{ticks:{callback:rx}});function j5(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:d,maxTicks:y,maxDigits:_,includeBounds:v}=n,T=o||1,A=y-1,{min:C,max:D}=t,P=!kt(c),U=!kt(h),X=!kt(d),Z=(D-C)/(_+1);let $=e1((D-C)/A/T)*T,nt,M,w,O;if($<1e-14&&!P&&!U)return[{value:C},{value:D}];O=Math.ceil(D/$)-Math.floor(C/$),O>A&&($=e1(O*$/A/T)*T),kt(f)||(nt=Math.pow(10,f),$=Math.ceil($*nt)/nt),a==="ticks"?(M=Math.floor(C/$)*$,w=Math.ceil(D/$)*$):(M=C,w=D),P&&U&&o&&OO((h-c)/o,$/1e3)?(O=Math.round(Math.min((h-c)/$,y)),$=(h-c)/O,M=c,w=h):X?(M=P?c:M,w=U?h:w,O=d-1,$=(w-M)/O):(O=(w-M)/$,mc(O,Math.round(O),$/1e3)?O=Math.round(O):O=Math.ceil(O));const V=Math.max(n1($),n1(M));nt=Math.pow(10,kt(f)?V:f),M=Math.round(M*nt)/nt,w=Math.round(w*nt)/nt;let I=0;for(P&&(v&&M!==c?(e.push({value:c}),M<c&&I++,mc(Math.round((M+I*$)*nt)/nt,c,ox(c,Z,n))&&I++):M<c&&I++);I<O;++I){const z=Math.round((M+I*$)*nt)/nt;if(U&&z>h)break;e.push({value:z})}return U&&v&&w!==h?e.length&&mc(e[e.length-1].value,h,ox(h,Z,n))?e[e.length-1].value=h:e.push({value:h}):(!U||w===h)&&e.push({value:w}),e}function ox(n,t,{horizontal:e,minRotation:i}){const a=gi(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class Tf extends Sr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return kt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=Xi(a),d=Xi(o);f<0&&d<0?h(0):f>0&&d>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=j5(a,o);return t.bounds==="ticks"&&_T(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Fc(t,this.chart.options.locale,this.options.ticks.format)}}class Jm extends Tf{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ee(t)?t:0,this.max=Ee(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=gi(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}ct(Jm,"id","linear"),ct(Jm,"defaults",{ticks:{callback:Pf.formatters.numeric}});const Vc=n=>Math.floor(oa(n)),ar=(n,t)=>Math.pow(10,Vc(n)+t);function lx(n){return n/Math.pow(10,Vc(n))===1}function cx(n,t,e){const i=Math.pow(10,e),a=Math.floor(n/i);return Math.ceil(t/i)-a}function B5(n,t){const e=t-n;let i=Vc(e);for(;cx(n,t,i)>10;)i++;for(;cx(n,t,i)<10;)i--;return Math.min(i,Vc(n))}function U5(n,{min:t,max:e}){t=zn(n.min,t);const i=[],a=Vc(t);let o=B5(t,e),c=o<0?Math.pow(10,Math.abs(o)):1;const h=Math.pow(10,o),f=a>o?Math.pow(10,a):0,d=Math.round((t-f)*c)/c,y=Math.floor((t-f)/h/10)*h*10;let _=Math.floor((d-y)/Math.pow(10,o)),v=zn(n.min,Math.round((f+y+_*Math.pow(10,o))*c)/c);for(;v<e;)i.push({value:v,major:lx(v),significand:_}),_>=10?_=_<15?15:20:_++,_>=20&&(o++,_=2,c=o>=0?1:c),v=Math.round((f+y+_*Math.pow(10,o))*c)/c;const T=zn(n.max,v);return i.push({value:T,major:lx(T),significand:_}),i}class tp extends Sr{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(t,e){const i=Tf.prototype.parse.apply(this,[t,e]);if(i===0){this._zero=!0;return}return Ee(i)&&i>0?i:null}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=Ee(t)?Math.max(0,t):null,this.max=Ee(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!Ee(this._userMin)&&(this.min=t===ar(this.min,0)?ar(this.min,-1):ar(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let i=this.min,a=this.max;const o=h=>i=t?i:h,c=h=>a=e?a:h;i===a&&(i<=0?(o(1),c(10)):(o(ar(i,-1)),c(ar(a,1)))),i<=0&&o(ar(a,-1)),a<=0&&c(ar(i,1)),this.min=i,this.max=a}buildTicks(){const t=this.options,e={min:this._userMin,max:this._userMax},i=U5(e,this);return t.bounds==="ticks"&&_T(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}getLabelForValue(t){return t===void 0?"0":Fc(t,this.chart.options.locale,this.options.ticks.format)}configure(){const t=this.min;super.configure(),this._startValue=oa(t),this._valueRange=oa(this.max)-oa(t)}getPixelForValue(t){return(t===void 0||t===0)&&(t=this.min),t===null||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(oa(t)-this._startValue)/this._valueRange)}getValueForPixel(t){const e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}ct(tp,"id","logarithmic"),ct(tp,"defaults",{ticks:{callback:Pf.formatters.logarithmic,major:{enabled:!0}}});function ep(n){const t=n.ticks;if(t.display&&n.display){const e=mn(t.backdropPadding);return Rt(t.font&&t.font.size,ye.font.size)+e.height}return 0}function H5(n,t,e){return e=pe(e)?e:[e],{w:XO(n,t.string,e),h:e.length*t.lineHeight}}function ux(n,t,e,i,a){return n===i||n===a?{start:t-e/2,end:t+e/2}:n<i||n>a?{start:t-e,end:t}:{start:t,end:t+e}}function F5(n){const t={l:n.left+n._padding.left,r:n.right-n._padding.right,t:n.top+n._padding.top,b:n.bottom-n._padding.bottom},e=Object.assign({},t),i=[],a=[],o=n._pointLabels.length,c=n.options.pointLabels,h=c.centerPointLabels?Qt/o:0;for(let f=0;f<o;f++){const d=c.setContext(n.getPointLabelContext(f));a[f]=d.padding;const y=n.getPointPosition(f,n.drawingArea+a[f],h),_=Ge(d.font),v=H5(n.ctx,_,n._pointLabels[f]);i[f]=v;const T=fn(n.getIndexAngle(f)+h),A=Math.round(Yp(T)),C=ux(A,y.x,v.w,0,180),D=ux(A,y.y,v.h,90,270);q5(e,t,T,C,D)}n.setCenterPoint(t.l-e.l,e.r-t.r,t.t-e.t,e.b-t.b),n._pointLabelItems=Q5(n,i,a)}function q5(n,t,e,i,a){const o=Math.abs(Math.sin(e)),c=Math.abs(Math.cos(e));let h=0,f=0;i.start<t.l?(h=(t.l-i.start)/o,n.l=Math.min(n.l,t.l-h)):i.end>t.r&&(h=(i.end-t.r)/o,n.r=Math.max(n.r,t.r+h)),a.start<t.t?(f=(t.t-a.start)/c,n.t=Math.min(n.t,t.t-f)):a.end>t.b&&(f=(a.end-t.b)/c,n.b=Math.max(n.b,t.b+f))}function G5(n,t,e){const i=n.drawingArea,{extra:a,additionalAngle:o,padding:c,size:h}=e,f=n.getPointPosition(t,i+a+c,o),d=Math.round(Yp(fn(f.angle+Ce))),y=W5(f.y,h.h,d),_=X5(d),v=K5(f.x,h.w,_);return{visible:!0,x:f.x,y,textAlign:_,left:v,top:y,right:v+h.w,bottom:y+h.h}}function Y5(n,t){if(!t)return!0;const{left:e,top:i,right:a,bottom:o}=n;return!(Es({x:e,y:i},t)||Es({x:e,y:o},t)||Es({x:a,y:i},t)||Es({x:a,y:o},t))}function Q5(n,t,e){const i=[],a=n._pointLabels.length,o=n.options,{centerPointLabels:c,display:h}=o.pointLabels,f={extra:ep(o)/2,additionalAngle:c?Qt/a:0};let d;for(let y=0;y<a;y++){f.padding=e[y],f.size=t[y];const _=G5(n,y,f);i.push(_),h==="auto"&&(_.visible=Y5(_,d),_.visible&&(d=_))}return i}function X5(n){return n===0||n===180?"center":n<180?"left":"right"}function K5(n,t,e){return e==="right"?n-=t:e==="center"&&(n-=t/2),n}function W5(n,t,e){return e===90||e===270?n-=t/2:(e>270||e<90)&&(n-=t),n}function $5(n,t,e){const{left:i,top:a,right:o,bottom:c}=e,{backdropColor:h}=t;if(!kt(h)){const f=dr(t.borderRadius),d=mn(t.backdropPadding);n.fillStyle=h;const y=i-d.left,_=a-d.top,v=o-i+d.width,T=c-a+d.height;Object.values(f).some(A=>A!==0)?(n.beginPath(),Nc(n,{x:y,y:_,w:v,h:T,radius:f}),n.fill()):n.fillRect(y,_,v,T)}}function Z5(n,t){const{ctx:e,options:{pointLabels:i}}=n;for(let a=t-1;a>=0;a--){const o=n._pointLabelItems[a];if(!o.visible)continue;const c=i.setContext(n.getPointLabelContext(a));$5(e,c,o);const h=Ge(c.font),{x:f,y:d,textAlign:y}=o;br(e,n._pointLabels[a],f,d+h.lineHeight/2,h,{color:c.color,textAlign:y,textBaseline:"middle"})}}function cS(n,t,e,i){const{ctx:a}=n;if(e)a.arc(n.xCenter,n.yCenter,t,0,fe);else{let o=n.getPointPosition(0,t);a.moveTo(o.x,o.y);for(let c=1;c<i;c++)o=n.getPointPosition(c,t),a.lineTo(o.x,o.y)}}function J5(n,t,e,i,a){const o=n.ctx,c=t.circular,{color:h,lineWidth:f}=t;!c&&!i||!h||!f||e<0||(o.save(),o.strokeStyle=h,o.lineWidth=f,o.setLineDash(a.dash||[]),o.lineDashOffset=a.dashOffset,o.beginPath(),cS(n,e,c,i),o.closePath(),o.stroke(),o.restore())}function tV(n,t,e){return Sa(n,{label:e,index:t,type:"pointLabel"})}class lc extends Tf{constructor(t){super(t),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const t=this._padding=mn(ep(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}determineDataLimits(){const{min:t,max:e}=this.getMinMax(!1);this.min=Ee(t)&&!isNaN(t)?t:0,this.max=Ee(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/ep(this.options))}generateTickLabels(t){Tf.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map((e,i)=>{const a=oe(this.options.pointLabels.callback,[e,i],this);return a||a===0?a:""}).filter((e,i)=>this.chart.getDataVisibility(i))}fit(){const t=this.options;t.display&&t.pointLabels.display?F5(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(t,e,i,a){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,a))}getIndexAngle(t){const e=fe/(this._pointLabels.length||1),i=this.options.startAngle||0;return fn(t*e+gi(i))}getDistanceFromCenterForValue(t){if(kt(t))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-t)*e:(t-this.min)*e}getValueForDistanceFromCenter(t){if(kt(t))return NaN;const e=t/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(t){const e=this._pointLabels||[];if(t>=0&&t<e.length){const i=e[t];return tV(this.getContext(),t,i)}}getPointPosition(t,e,i=0){const a=this.getIndexAngle(t)-Ce+i;return{x:Math.cos(a)*e+this.xCenter,y:Math.sin(a)*e+this.yCenter,angle:a}}getPointPositionForValue(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}getBasePosition(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}getPointLabelPosition(t){const{left:e,top:i,right:a,bottom:o}=this._pointLabelItems[t];return{left:e,top:i,right:a,bottom:o}}drawBackground(){const{backgroundColor:t,grid:{circular:e}}=this.options;if(t){const i=this.ctx;i.save(),i.beginPath(),cS(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),i.closePath(),i.fillStyle=t,i.fill(),i.restore()}}drawGrid(){const t=this.ctx,e=this.options,{angleLines:i,grid:a,border:o}=e,c=this._pointLabels.length;let h,f,d;if(e.pointLabels.display&&Z5(this,c),a.display&&this.ticks.forEach((y,_)=>{if(_!==0||_===0&&this.min<0){f=this.getDistanceFromCenterForValue(y.value);const v=this.getContext(_),T=a.setContext(v),A=o.setContext(v);J5(this,T,f,c,A)}}),i.display){for(t.save(),h=c-1;h>=0;h--){const y=i.setContext(this.getPointLabelContext(h)),{color:_,lineWidth:v}=y;!v||!_||(t.lineWidth=v,t.strokeStyle=_,t.setLineDash(y.borderDash),t.lineDashOffset=y.borderDashOffset,f=this.getDistanceFromCenterForValue(e.reverse?this.min:this.max),d=this.getPointPosition(h,f),t.beginPath(),t.moveTo(this.xCenter,this.yCenter),t.lineTo(d.x,d.y),t.stroke())}t.restore()}}drawBorder(){}drawLabels(){const t=this.ctx,e=this.options,i=e.ticks;if(!i.display)return;const a=this.getIndexAngle(0);let o,c;t.save(),t.translate(this.xCenter,this.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",this.ticks.forEach((h,f)=>{if(f===0&&this.min>=0&&!e.reverse)return;const d=i.setContext(this.getContext(f)),y=Ge(d.font);if(o=this.getDistanceFromCenterForValue(this.ticks[f].value),d.showLabelBackdrop){t.font=y.string,c=t.measureText(h.label).width,t.fillStyle=d.backdropColor;const _=mn(d.backdropPadding);t.fillRect(-c/2-_.left,-o-y.size/2-_.top,c+_.width,y.size+_.height)}br(t,h.label,0,-o,y,{color:d.color,strokeColor:d.textStrokeColor,strokeWidth:d.textStrokeWidth})}),t.restore()}drawTitle(){}}ct(lc,"id","radialLinear"),ct(lc,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Pf.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(t){return t},padding:5,centerPointLabels:!1}}),ct(lc,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),ct(lc,"descriptors",{angleLines:{_fallback:"grid"}});const Ff={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Cn=Object.keys(Ff);function hx(n,t){return n-t}function fx(n,t){if(kt(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),Ee(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(Io(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function dx(n,t,e,i){const a=Cn.length;for(let o=Cn.indexOf(n);o<a-1;++o){const c=Ff[Cn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Cn[o]}return Cn[a-1]}function eV(n,t,e,i,a){for(let o=Cn.length-1;o>=Cn.indexOf(e);o--){const c=Cn[o];if(Ff[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return Cn[e?Cn.indexOf(e):0]}function nV(n){for(let t=Cn.indexOf(n)+1,e=Cn.length;t<e;++t)if(Ff[Cn[t]].common)return Cn[t]}function gx(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Qp(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function iV(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function mx(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:iV(n,i,a,e)}class kc extends Sr{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new hN._date(t.adapters.date);a.init(e),gc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:fx(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(d){!c&&!isNaN(d.min)&&(a=Math.min(a,d.min)),!h&&!isNaN(d.max)&&(o=Math.max(o,d.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=Ee(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=Ee(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=kO(a,o,c);return this._unit=e.unit||(i.autoSkip?dx(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):eV(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:nV(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),mx(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=$e(e,0,c),i=$e(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||dx(o.minUnit,e,i,this._getLabelCapacity(e)),h=Rt(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,d=Io(f)||f===!0,y={};let _=e,v,T;if(d&&(_=+t.startOf(_,"isoWeek",f)),_=+t.startOf(_,d?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=a.ticks.source==="data"&&this.getDataTimestamps();for(v=_,T=0;v<i;v=+t.add(v,h,c),T++)gx(y,v,A);return(v===i||a.bounds==="ticks"||T===1)&&gx(y,v,A),Object.keys(y).sort(hx).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return oe(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,d=this._majorUnit,y=f&&h[f],_=d&&h[d],v=i[e],T=d&&_&&v&&v.major;return this._adapter.format(t,a||(T?_:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=gi(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,mx(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(fx(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return xT(t.sort(hx))}}ct(kc,"id","time"),ct(kc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lh(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=xs(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=xs(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const d=c-o;return d?h+(f-h)*(t-o)/d:h}class np extends kc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Lh(e,this.min),this._tableRange=Lh(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,d,y;for(c=0,h=t.length;c<h;++c)d=t[c],d>=e&&d<=i&&a.push(d);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],f=a[c-1],d=a[c],Math.round((y+f)/2)!==d&&o.push({time:d,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Lh(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Lh(this._table,i*this._tableRange+this._minPos,!0)}}ct(np,"id","timeseries"),ct(np,"defaults",kc.defaults);var sV=Object.freeze({__proto__:null,CategoryScale:Zm,LinearScale:Jm,LogarithmicScale:tp,RadialLinearScale:lc,TimeScale:kc,TimeSeriesScale:np});const aV=[uN,BI,k5,sV];bs.register(...aV);const rV=({transactions:n,totals:t,setTab:e,filterStart:i,setFilterStart:a,filterEnd:o,setFilterEnd:c})=>{const h=Wt.useRef(null),f=Wt.useRef(null),d=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),y=v=>n.filter(T=>T.category===v&&T.type==="compra").reduce((T,A)=>T+A.total,0);Wt.useEffect(()=>{if(h.current){f.current&&f.current.destroy();const v=y("serra"),T=y("repast"),A=y("novos");f.current=new bs(h.current,{type:"doughnut",data:{labels:["Serra Fita","Repastilhamento","Novos"],datasets:[{data:[v,T,A],backgroundColor:["#3b82f6","#f59e0b","#6366f1"],borderColor:"#0f172a",borderWidth:4,hoverOffset:10}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"bottom",labels:{usePointStyle:!0,boxWidth:8,color:"#94a3b8",font:{family:"Inter",size:12}}}},cutout:"75%"}})}return()=>{f.current&&f.current.destroy()}},[n]);const _=[{id:"serra",label:"Serra Fita",icon:Up,color:"text-blue-500",bg:"bg-blue-500/10"},{id:"repast",label:"Repastilhamento",icon:jp,color:"text-amber-500",bg:"bg-amber-500/10"},{id:"novos",label:"Novos Produtos",icon:Bp,color:"text-indigo-500",bg:"bg-indigo-500/10"}];return j.jsxs("div",{className:"max-w-6xl mx-auto space-y-6 animate-fade-in",children:[j.jsxs("div",{className:"bg-slate-900 p-4 rounded-2xl border border-slate-800 flex flex-col md:flex-row gap-4 items-center justify-between",children:[j.jsxs("div",{className:"flex items-center gap-2 text-slate-400 text-sm font-semibold",children:[j.jsx(xD,{size:16})," Filtrar Perodo:"]}),j.jsxs("div",{className:"flex gap-2 w-full md:w-auto",children:[j.jsx("input",{type:"date",value:i,onChange:v=>a(v.target.value),className:"bg-slate-950 border border-slate-800 text-slate-200 rounded-lg p-2 text-sm w-full outline-none focus:border-indigo-500"}),j.jsx("span",{className:"self-center text-slate-600",children:"at"}),j.jsx("input",{type:"date",value:o,onChange:v=>c(v.target.value),className:"bg-slate-950 border border-slate-800 text-slate-200 rounded-lg p-2 text-sm w-full outline-none focus:border-indigo-500"})]}),(i||o)&&j.jsx("button",{onClick:()=>{a(""),c("")},className:"text-xs text-indigo-400 hover:text-indigo-300",children:"Limpar"})]}),j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6",children:[j.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 hover:border-rose-500/30 transition-all group",children:[j.jsxs("div",{className:"flex justify-between items-center mb-2",children:[j.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Compras"}),j.jsx("div",{className:"w-10 h-10 rounded-full bg-rose-500/10 flex items-center justify-center text-rose-500 group-hover:scale-110 transition-transform",children:j.jsx(FD,{size:20})})]}),j.jsx("h3",{className:"text-2xl font-bold text-slate-100",children:d(t.compras)})]}),j.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 hover:border-emerald-500/30 transition-all group",children:[j.jsxs("div",{className:"flex justify-between items-center mb-2",children:[j.jsx("p",{className:"text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Pagos"}),j.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center text-emerald-500 group-hover:scale-110 transition-transform",children:j.jsx(GD,{size:20})})]}),j.jsx("h3",{className:"text-2xl font-bold text-slate-100",children:d(t.pagamentos)})]}),j.jsxs("div",{className:"relative p-6 rounded-2xl overflow-hidden shadow-lg shadow-indigo-500/10 group",children:[j.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-indigo-600 to-slate-900 opacity-90"}),j.jsx("div",{className:"absolute right-0 top-0 p-6 opacity-10 text-white transform rotate-12 scale-150",children:j.jsx(QD,{size:80})}),j.jsxs("div",{className:"relative z-10",children:[j.jsx("p",{className:"text-xs font-bold text-indigo-200 uppercase tracking-wider mb-1",children:"Saldo Lquido"}),j.jsx("h3",{className:`text-3xl font-bold ${t.saldo<0?"text-rose-200":"text-white"}`,children:d(t.saldo)})]})]})]}),j.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[j.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl border border-slate-800 lg:col-span-1 flex flex-col items-center",children:[j.jsx("h4",{className:"text-sm font-bold text-slate-400 mb-6 w-full text-center uppercase tracking-wide",children:"Distribuio de Gastos"}),j.jsx("div",{className:"w-full h-64 relative",children:j.jsx("canvas",{ref:h})})]}),j.jsx("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-4",children:_.map(v=>{const T=y(v.id),A=t.compras>0?T/t.compras*100:0;return j.jsxs("div",{onClick:()=>e(v.id),className:"bg-slate-900 p-5 rounded-2xl border border-slate-800 cursor-pointer hover:bg-slate-800 transition-all active:scale-[0.98] group",children:[j.jsx("div",{className:"flex justify-between items-start mb-4",children:j.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${v.bg} ${v.color}`,children:j.jsx(v.icon,{size:20})})}),j.jsx("h4",{className:"font-bold text-slate-200 text-lg",children:v.label}),j.jsxs("p",{className:"text-xs text-slate-500 mt-1",children:["Total: ",d(T)]}),j.jsx("div",{className:"w-full bg-slate-950 h-1.5 rounded-full overflow-hidden mt-4 border border-slate-800",children:j.jsx("div",{className:`h-full rounded-full ${v.id==="serra"?"bg-blue-500":v.id==="repast"?"bg-amber-500":"bg-indigo-500"}`,style:{width:`${A}%`}})})]},v.id)})})]})]})},oV=({transactions:n,category:t,onDelete:e})=>{const i=c=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(c),a=c=>{if(!c)return"-";const[h,f,d]=c.split("-");return`${d}/${f}/${h}`},o=[...n].sort((c,h)=>new Date(h.date).getTime()-new Date(c.date).getTime());return o.length===0?j.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-slate-600",children:[j.jsx("div",{className:"w-16 h-16 bg-slate-900 rounded-full flex items-center justify-center mb-4 border border-slate-800",children:j.jsx(gD,{size:24})}),j.jsx("p",{children:"Nenhum registro encontrado."})]}):j.jsxs("div",{className:"space-y-4",children:[j.jsx("div",{className:"bg-slate-900 p-4 rounded-xl border border-slate-800 flex justify-between items-center shadow-lg shadow-black/20",children:j.jsxs("div",{className:"text-center w-full",children:[j.jsx("p",{className:"text-xs text-slate-500 uppercase font-bold tracking-wider",children:t==="pagamentos"?"Total Recebido":"Total Gasto"}),j.jsx("p",{className:`text-2xl font-bold mt-1 ${t==="pagamentos"?"text-emerald-400":"text-rose-400"}`,children:i(o.reduce((c,h)=>c+h.total,0))})]})}),j.jsx("div",{className:"space-y-3",children:o.map(c=>j.jsxs("div",{className:"bg-slate-900 rounded-xl border border-slate-800 p-4 flex justify-between items-start group hover:border-slate-700 transition-colors relative overflow-hidden",children:[j.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${c.type==="compra"?"bg-rose-500":"bg-emerald-500"}`}),j.jsxs("div",{className:"pl-3 flex-1",children:[j.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[j.jsx("span",{className:"text-[10px] font-bold uppercase tracking-wider text-slate-500 bg-slate-950 px-2 py-0.5 rounded border border-slate-800",children:a(c.date)}),t==="repast"&&c.type==="compra"&&j.jsxs("div",{className:"flex gap-1",children:[(c.z??0)>48?j.jsxs("span",{className:"text-[10px] font-bold text-indigo-300 bg-indigo-500/10 px-2 py-0.5 rounded border border-indigo-500/20",children:["Destopadeira (",c.z,"Z)"]}):c.z&&j.jsxs("span",{className:"text-[10px] font-bold text-amber-500 bg-amber-500/10 px-2 py-0.5 rounded border border-amber-500/20",children:["Z: ",c.z]}),c.corte&&j.jsxs("span",{className:"text-[10px] font-bold text-slate-400 bg-slate-800 px-2 py-0.5 rounded border border-slate-700",children:["Corte: ",c.corte]})]}),t==="serra"&&c.type==="compra"&&c.length&&j.jsxs("span",{className:"text-[10px] font-bold text-blue-400 bg-blue-500/10 px-2 py-0.5 rounded border border-blue-500/20",children:[c.length,"m"]})]}),j.jsx("h4",{className:"font-semibold text-slate-200 text-base leading-tight mb-1",children:c.desc}),c.type==="compra"&&j.jsx("div",{className:"flex flex-col gap-1",children:j.jsxs("div",{className:"text-xs text-slate-500 font-medium flex items-center gap-1",children:[j.jsx(jD,{size:12}),c.qty," un. x ",i(c.unitPrice)]})})]}),j.jsxs("div",{className:"text-right flex flex-col items-end gap-2",children:[j.jsxs("span",{className:`font-bold text-lg ${c.type==="compra"?"text-rose-400":"text-emerald-400"}`,children:[c.type==="compra"?"-":"+"," ",i(c.total)]}),j.jsx("button",{onClick:()=>e(c.id),className:"text-slate-600 hover:text-rose-500 transition-colors p-2 -mr-2","aria-label":"Delete",children:j.jsx(UD,{size:18})})]})]},c.id))})]})},px=[{label:'3" x 1.0',price:44,costRule:14},{label:'3" x 1.1',price:50,costRule:14},{label:'3.5" x 1.1',price:52,costRule:14},{label:'4" x 1.0',price:52,costRule:14},{label:'4" x 1.1',price:55,costRule:14},{label:'4" x 1.2',price:60,costRule:14},{label:'4.5" x 1.0',price:59,costRule:14},{label:'4.5" x 1.1',price:63,costRule:14},{label:'4.5" x 1.2',price:68,costRule:14},{label:'5" x 1.1',price:73,costRule:14},{label:'5" x 1.2',price:77,costRule:20},{label:'5.5" x 1.2',price:82,costRule:20},{label:'5.5" x 1.3',price:85,costRule:20},{label:'6" x 1.2',price:85,costRule:20},{label:'6" x 1.25',price:88,costRule:20},{label:'6" x 1.3',price:90,costRule:20}],lV=({isOpen:n,onClose:t,onSubmit:e,form:i,setForm:a,currentCategory:o})=>{const c=Wt.useRef(null);if(Wt.useEffect(()=>{if(n){const d=setTimeout(()=>{var y;(y=c.current)==null||y.focus()},50);return()=>clearTimeout(d)}},[n]),Wt.useEffect(()=>{if(n&&o==="repast"&&i.type==="compra"){const d=Number(i.z),y=Number(i.corte);let _=0;d>48?y===3?_=4:y===3.5?_=5:y===4?_=6:y===5&&(_=10):y===3?_=4.8:y===3.5?_=5.4:y===4?_=5.8:y===5&&(_=12);let v=0;_>0&&d>0&&(v=_*d),v>0&&v!==Number(i.unitPrice)&&a(T=>({...T,unitPrice:v}))}},[i.z,i.corte,o,i.type,n]),Wt.useEffect(()=>{if(n&&o==="serra"&&i.type==="compra"){const d=px.find(_=>_.label===i.serraItem),y=Number(i.length);if(d&&y>0){const v=(d.price-d.costRule)*y;a(T=>({...T,unitPrice:v,desc:`${d.label} - ${y}m`}))}}},[i.serraItem,i.length,o,i.type,n]),!n)return null;const h=i.type==="pagamento"?Number(i.totalOverride):Number(i.qty)*Number(i.unitPrice),f=d=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(d);return j.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm z-[60] flex items-end md:items-center justify-center p-0 md:p-4 animate-in fade-in duration-200",children:j.jsxs("div",{className:"bg-slate-900 w-full md:max-w-md p-6 rounded-t-3xl md:rounded-2xl border border-slate-800 shadow-2xl relative animate-in slide-in-from-bottom duration-300 md:zoom-in-95",children:[j.jsx("div",{className:"w-12 h-1.5 bg-slate-800 rounded-full mx-auto mb-6 md:hidden"}),j.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-500 hover:text-white transition-colors",children:j.jsx(fT,{size:24})}),j.jsxs("h3",{className:"text-xl font-bold mb-6 text-white flex items-center gap-2",children:[j.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${i.type==="compra"?"bg-rose-500/10 text-rose-500":"bg-emerald-500/10 text-emerald-500"}`,children:i.type==="compra"?j.jsx(uT,{size:16}):j.jsx(hT,{size:16})}),i.type==="compra"?"Nova Compra":"Registrar Pagamento"]}),j.jsxs("form",{onSubmit:d=>{d.preventDefault(),e(i)},className:"space-y-4",children:[j.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[j.jsxs("div",{className:"col-span-1",children:[j.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:"Data"}),j.jsx("input",{ref:c,type:"date",required:!0,value:i.date,onChange:d=>a({...i,date:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-white text-sm"})]}),j.jsxs("div",{className:"col-span-2",children:[j.jsx("label",{className:"text-xs font-bold text-slate-500 uppercase mb-1 block",children:o==="serra"&&i.type==="compra"?"Item":"Descrio"}),o==="serra"&&i.type==="compra"?j.jsxs("select",{value:i.serraItem,onChange:d=>a({...i,serraItem:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-white text-sm",children:[j.jsx("option",{value:"",children:"Selecione o Item..."}),px.map(d=>j.jsx("option",{value:d.label,children:d.label},d.label))]}):j.jsx("input",{type:"text",required:!0,placeholder:"Ex: Lminas...",value:i.desc,onChange:d=>a({...i,desc:d.target.value}),className:"w-full bg-slate-950 border border-slate-800 p-3 rounded-xl focus:ring-2 focus:ring-indigo-500 outline-none text-white text-sm"})]})]}),i.type==="compra"&&j.jsxs("div",{className:"space-y-4 bg-slate-950/50 p-4 rounded-xl border border-slate-800",children:[o==="repast"&&j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Z (Dentes)"}),j.jsx("input",{type:"number",value:i.z,onChange:d=>a({...i,z:d.target.value}),className:"w-full bg-slate-900 border border-slate-800 p-2 rounded-lg text-white focus:border-amber-500 outline-none transition-colors",placeholder:"0"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Corte"}),j.jsx("input",{type:"number",step:"0.1",value:i.corte,onChange:d=>a({...i,corte:d.target.value}),className:"w-full bg-slate-900 border border-slate-800 p-2 rounded-lg text-white focus:border-amber-500 outline-none transition-colors",placeholder:"0.0"})]})]}),o==="serra"&&j.jsxs("div",{className:"grid grid-cols-1",children:[j.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Comprimento da Serra (m)"}),j.jsx("input",{type:"number",step:"0.01",value:i.length,onChange:d=>a({...i,length:d.target.value}),className:"w-full bg-slate-900 border border-slate-800 p-2 rounded-lg text-white focus:border-blue-500 outline-none transition-colors",placeholder:"Ex: 4.20"})]}),j.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[j.jsxs("div",{children:[j.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Quantidade"}),j.jsx("input",{type:"number",step:"0.01",required:!0,value:i.qty,onChange:d=>a({...i,qty:d.target.value}),className:"w-full bg-slate-900 border border-slate-800 p-2 rounded-lg text-white font-bold focus:border-indigo-500 outline-none transition-colors"})]}),j.jsxs("div",{children:[j.jsx("label",{className:"text-xs font-bold text-slate-500 mb-1 block",children:"Valor Unit."}),j.jsx("input",{type:"number",step:"0.01",required:!0,value:i.unitPrice,onChange:d=>a({...i,unitPrice:d.target.value}),className:"w-full bg-slate-900 border border-slate-800 p-2 rounded-lg text-white font-bold focus:border-indigo-500 outline-none transition-colors"})]})]})]}),i.type==="pagamento"&&j.jsxs("div",{className:"bg-emerald-500/10 p-4 rounded-xl border border-emerald-500/20 text-center",children:[j.jsx("label",{className:"text-xs font-bold text-emerald-400 uppercase mb-2 block",children:"Valor do Pagamento"}),j.jsx("input",{type:"number",step:"0.01",required:!0,value:i.totalOverride,onChange:d=>a({...i,totalOverride:d.target.value}),className:"w-full bg-slate-900 border border-emerald-500/30 text-emerald-400 font-bold p-4 rounded-xl outline-none text-2xl text-center focus:ring-2 focus:ring-emerald-500"})]}),j.jsxs("div",{className:"flex justify-between items-center py-2 px-2",children:[j.jsx("span",{className:"text-sm font-bold text-slate-500 uppercase",children:"Total Previsto"}),j.jsx("span",{className:"text-xl font-bold text-white",children:f(h)})]}),j.jsx("button",{type:"submit",className:"w-full py-4 bg-indigo-600 text-white font-bold rounded-xl hover:bg-indigo-500 transition-all shadow-lg shadow-indigo-500/20 active:scale-95 text-lg",children:"Confirmar"})]})]})})},cV=({isOpen:n,onClose:t,totals:e,subtotals:i,dateRange:a})=>{const[o,c]=Wt.useState(!1);if(!n)return null;const h=v=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(v),d=` *Resumo Financeiro - Geferson*
 ${new Date().toLocaleDateString("pt-BR")}${a?`
 ${a}`:""}

*Geral*
 Compras: ${h(e.compras)}
 Pagos: ${h(e.pagamentos)}
 *Saldo: ${h(e.saldo)}*

*Detalhes (Saldos)*
 Serra: ${h(i.serra)}
 Repast: ${h(i.repast)}
 Novos: ${h(i.novos)}`,y=()=>{navigator.clipboard.writeText(d),c(!0),setTimeout(()=>c(!1),2e3)},_=()=>{const v=encodeURIComponent(d);window.open(`https://wa.me/?text=${v}`,"_blank")};return j.jsx("div",{className:"fixed inset-0 bg-slate-950/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4 animate-in fade-in duration-200",children:j.jsxs("div",{className:"bg-slate-900 w-full max-w-md p-6 rounded-2xl border border-slate-800 shadow-2xl relative animate-in zoom-in-95 duration-200",children:[j.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-slate-500 hover:text-white",children:j.jsx(fT,{size:20})}),j.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-emerald-400",children:[j.jsx(cT,{size:24})," Relatrio para Zap"]}),j.jsx("div",{className:"w-full h-48 p-4 border border-slate-800 rounded-xl bg-slate-950 text-slate-300 text-xs font-mono mb-4 overflow-y-auto whitespace-pre-wrap",children:d}),j.jsxs("div",{className:"flex flex-col gap-3",children:[j.jsxs("button",{onClick:_,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-xl transition-colors flex justify-center items-center gap-2 shadow-lg shadow-emerald-500/20",children:[j.jsx(kD,{size:18})," Enviar no WhatsApp"]}),j.jsxs("button",{onClick:y,className:"w-full py-3 bg-slate-800 border border-slate-700 text-slate-300 hover:bg-slate-700 font-bold rounded-xl transition-colors flex justify-center items-center gap-2",children:[o?j.jsx(yD,{size:18,className:"text-emerald-400"}):j.jsx(bD,{size:18}),o?"Copiado!":"Copiar Texto"]})]})]})})},Ph={type:"compra",date:new Date().toISOString().split("T")[0],desc:"",qty:1,unitPrice:0,totalOverride:0,z:0,corte:0,serraItem:"",length:0};function uV(){const[n,t]=Wt.useState(!1),[e,i]=Wt.useState(""),[a,o]=Wt.useState(!1),[c,h]=Wt.useState(!1),[f,d]=Wt.useState([]),[y,_]=Wt.useState("resumo"),[v,T]=Wt.useState(!1),[A,C]=Wt.useState(!1),[D,P]=Wt.useState(Ph),[U,X]=Wt.useState(""),[Z,$]=Wt.useState("");Wt.useEffect(()=>{localStorage.getItem("gestor_session")==="valid"&&(t(!0),nt())},[]),Wt.useEffect(()=>{const ut=F=>{var st;if(F.key==="Enter"&&!v&&!A&&n){const ht=(st=document.activeElement)==null?void 0:st.tagName;if(ht==="INPUT"||ht==="TEXTAREA"||ht==="SELECT")return;["serra","repast","novos"].includes(y)?(F.preventDefault(),P({...Ph,type:"compra"}),T(!0)):y==="pagamentos"&&(F.preventDefault(),P({...Ph,type:"pagamento"}),T(!0))}};return window.addEventListener("keydown",ut),()=>window.removeEventListener("keydown",ut)},[y,v,A,n]);const nt=()=>{h(!0);const ut=$M(Bv(im,sm));return iD(ut,st=>{const ht=st.docs.map(yt=>({id:yt.id,...yt.data()}));d(ht),h(!1)},st=>{console.error("Firebase Error:",st),h(!1)})},M=ut=>{ut.preventDefault(),e==="35018"?(t(!0),o(!1),localStorage.setItem("gestor_session","valid"),nt()):(o(!0),i(""),setTimeout(()=>o(!1),1e3))},w=()=>{t(!1),localStorage.removeItem("gestor_session"),d([])},O=Wt.useMemo(()=>{let ut=f;if(U||Z){const F=U?new Date(U):new Date("1900-01-01"),st=Z?new Date(Z):new Date("2100-12-31");F.setHours(0,0,0,0),st.setHours(23,59,59,999),ut=ut.filter(ht=>{const yt=new Date(ht.date),_t=new Date(yt.getUTCFullYear(),yt.getUTCMonth(),yt.getUTCDate());return _t>=F&&_t<=st})}return ut},[f,U,Z]),V=(ut,F)=>{const st=F?ut.filter(_t=>_t.category===F):ut;if(F==="pagamentos"){const _t=st.reduce((L,tt)=>L+tt.total,0);return{compras:0,pagamentos:_t,saldo:_t}}const ht=st.filter(_t=>_t.type==="compra").reduce((_t,L)=>_t+L.total,0),yt=st.filter(_t=>_t.type==="pagamento").reduce((_t,L)=>_t+L.total,0);if(!F){const _t=ut.filter(L=>L.type==="pagamento"||L.category==="pagamentos").reduce((L,tt)=>L+tt.total,0);return{compras:ht,pagamentos:_t,saldo:_t-ht}}return{compras:ht,pagamentos:yt,saldo:yt-ht}},I=Wt.useMemo(()=>V(O),[O]),z=Wt.useMemo(()=>V(f,y!=="resumo"?y:void 0),[f,y]),N=async ut=>{try{const F=ut.type==="pagamento"?Number(ut.totalOverride):Number(ut.qty)*Number(ut.unitPrice);await nD(Bv(im,sm),{...ut,category:y,total:F,qty:Number(ut.qty),unitPrice:Number(ut.unitPrice),length:Number(ut.length),timestamp:Date.now()}),T(!1)}catch{alert("Erro ao salvar.")}},Nt=async ut=>{confirm("Apagar lanamento?")&&await eD(YE(im,sm,ut))};return n?j.jsxs("div",{className:"flex w-full h-screen text-slate-200 overflow-hidden bg-slate-950",children:[c&&j.jsxs("div",{className:"fixed inset-0 bg-slate-950/80 z-[100] flex flex-col items-center justify-center backdrop-blur-sm",children:[j.jsx(SD,{className:"animate-spin text-indigo-500 mb-2",size:40}),j.jsx("p",{className:"font-semibold tracking-wide text-sm uppercase text-slate-400",children:"Carregando..."})]}),j.jsx(KD,{currentTab:y,setTab:_,logout:w}),j.jsxs("main",{className:"flex-1 flex flex-col h-full relative overflow-hidden",children:[j.jsx($D,{title:y==="resumo"?"Viso Geral":y==="serra"?"Serra Fita":y==="repast"?"Repastilhamento":y==="novos"?"Novos Produtos":"Pagamentos",saldo:y==="resumo"?I.saldo:z.saldo,currentTab:y,onOpenModal:ut=>{P({...Ph,type:ut}),T(!0)},onOpenReport:()=>C(!0)}),j.jsx("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 pb-24 md:pb-8 scroll-smooth",children:y==="resumo"?j.jsx(rV,{transactions:O,totals:I,setTab:_,filterStart:U,setFilterStart:X,filterEnd:Z,setFilterEnd:$}):j.jsx(oV,{transactions:f.filter(ut=>ut.category===y),category:y,onDelete:Nt})})]}),j.jsx(WD,{currentTab:y,setTab:_}),j.jsx(lV,{isOpen:v,onClose:()=>T(!1),onSubmit:N,form:D,setForm:P,currentCategory:y}),j.jsx(cV,{isOpen:A,onClose:()=>C(!1),totals:I,subtotals:{serra:V(O,"serra").saldo,repast:V(O,"repast").saldo,novos:V(O,"novos").saldo},dateRange:U||Z?`Perodo: ${U||"..."} a ${Z||"..."}`:""})]}):j.jsx("div",{className:"min-h-screen bg-slate-950 flex items-center justify-center p-4",children:j.jsxs("div",{className:`bg-slate-900 w-full max-w-sm rounded-3xl border border-slate-800 shadow-2xl overflow-hidden ${a?"animate-shake":""}`,children:[j.jsxs("div",{className:"bg-slate-900 p-8 text-center border-b border-slate-800",children:[j.jsx("div",{className:"w-24 h-24 mx-auto bg-slate-800 rounded-full p-2 shadow-lg mb-4 ring-2 ring-indigo-500/30",children:j.jsx("img",{src:"https://i.ibb.co/KcrbD45r/Gemini-Generated-Image-icsuqricsuqricsu-1.png",className:"w-full h-full object-contain"})}),j.jsx("h2",{className:"text-2xl font-bold text-white",children:"Gestor Geferson"}),j.jsx("p",{className:"text-sm text-slate-400",children:"Acesso Restrito"})]}),j.jsx("div",{className:"p-8",children:j.jsxs("form",{onSubmit:M,children:[j.jsxs("div",{className:"mb-6",children:[j.jsx("label",{className:"block text-xs font-bold text-slate-500 uppercase mb-2",children:"Senha"}),j.jsxs("div",{className:"relative",children:[j.jsx("span",{className:"absolute inset-y-0 left-0 pl-3 flex items-center text-slate-500",children:j.jsx(wD,{size:16})}),j.jsx("input",{type:"password",value:e,onChange:ut=>i(ut.target.value),className:`w-full bg-slate-950 pl-10 pr-3 py-3 border rounded-xl focus:outline-none focus:ring-2 transition-all text-lg font-bold tracking-widest text-center text-white ${a?"border-rose-500 focus:ring-rose-500":"border-slate-800 focus:ring-indigo-500"}`,placeholder:"",inputMode:"numeric"})]}),a&&j.jsx("p",{className:"text-xs text-rose-500 mt-2 text-center font-bold",children:"Senha incorreta"})]}),j.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white font-bold py-4 rounded-xl shadow-lg shadow-indigo-500/20 hover:bg-indigo-500 transition-all active:scale-95",children:"ENTRAR"})]})}),j.jsx("div",{className:"bg-slate-950 p-4 text-center border-t border-slate-900",children:j.jsxs("p",{className:"text-[10px] text-slate-500 flex items-center justify-center gap-1",children:[j.jsx(PD,{size:12})," Ambiente Seguro"]})})]})})}const uS=document.getElementById("root");if(!uS)throw new Error("Could not find root element to mount to");const hV=t2.createRoot(uS);hV.render(j.jsx(YA.StrictMode,{children:j.jsx(uV,{})}));
